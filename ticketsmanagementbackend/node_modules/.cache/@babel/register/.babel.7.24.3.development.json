{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\index.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _user = _interopRequireDefault(require(\"./routers/user.router\"));\nvar _category = _interopRequireDefault(require(\"./routers/category.router\"));\nvar _product = _interopRequireDefault(require(\"./routers/product.router\"));\nvar _cart = _interopRequireDefault(require(\"./routers/cart.router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst app = (0, _express.default)();\nconst PORT = 8002;\n\n// body parser\napp.use(_express.default.json());\n\n// serving static files\napp.use(\"/uploads\", _express.default.static(\"uploads\"));\n\n// DB connectivity\n_mongoose.default.connect(\"mongodb://127.0.0.1:27017/mynewdb\").then(() => console.log(\"DB Connected!\"));\napp.listen(PORT, () => {\n  console.log(\"Server is running on port: \" + PORT);\n});\napp.use((req, res, next) => {\n  res.setHeader(\"Access-Control-Allow-Origin\", \"http://localhost:3000\"); // Replace with your React app's URL // orgin as in frontend\n  res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE\");\n  res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n  next();\n});\napp.use(\"/api/v1/user\", _user.default);\napp.use(\"/api/v1/categories\", _category.default);\napp.use(\"/api/v1/products\", _product.default);\napp.use(\"/api/v1/cart\", _cart.default);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX21vbmdvb3NlIiwiX3VzZXIiLCJfY2F0ZWdvcnkiLCJfcHJvZHVjdCIsIl9jYXJ0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJhcHAiLCJleHByZXNzIiwiUE9SVCIsInVzZSIsImpzb24iLCJzdGF0aWMiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImxpc3RlbiIsInJlcSIsInJlcyIsIm5leHQiLCJzZXRIZWFkZXIiLCJ1c2VyUm91dGVyIiwiY2F0ZWdvcnlSb3V0ZXIiLCJwcm9kdWN0Um91dGVyIiwiY2FydFJvdXRlciJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmltcG9ydCB1c2VyUm91dGVyIGZyb20gXCIuL3JvdXRlcnMvdXNlci5yb3V0ZXJcIjtcclxuaW1wb3J0IGNhdGVnb3J5Um91dGVyIGZyb20gXCIuL3JvdXRlcnMvY2F0ZWdvcnkucm91dGVyXCI7XHJcbmltcG9ydCBwcm9kdWN0Um91dGVyIGZyb20gXCIuL3JvdXRlcnMvcHJvZHVjdC5yb3V0ZXJcIjtcclxuaW1wb3J0IGNhcnRSb3V0ZXIgZnJvbSBcIi4vcm91dGVycy9jYXJ0LnJvdXRlclwiO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNvbnN0IFBPUlQgPSA4MDAyO1xyXG5cclxuLy8gYm9keSBwYXJzZXJcclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcblxyXG4vLyBzZXJ2aW5nIHN0YXRpYyBmaWxlc1xyXG5hcHAudXNlKFwiL3VwbG9hZHNcIiwgZXhwcmVzcy5zdGF0aWMoXCJ1cGxvYWRzXCIpKTtcclxuXHJcbi8vIERCIGNvbm5lY3Rpdml0eVxyXG5tb25nb29zZVxyXG4gIC5jb25uZWN0KFwibW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy9teW5ld2RiXCIpXHJcbiAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCJEQiBDb25uZWN0ZWQhXCIpKTtcclxuXHJcbmFwcC5saXN0ZW4oUE9SVCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiU2VydmVyIGlzIHJ1bm5pbmcgb24gcG9ydDogXCIgKyBQT1JUKTtcclxufSk7XHJcblxyXG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIik7IC8vIFJlcGxhY2Ugd2l0aCB5b3VyIFJlYWN0IGFwcCdzIFVSTCAvLyBvcmdpbiBhcyBpbiBmcm9udGVuZFxyXG4gIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULCBQT1NULCBQVVQsIERFTEVURVwiKTtcclxuICByZXMuc2V0SGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIkNvbnRlbnQtVHlwZSwgQXV0aG9yaXphdGlvblwiKTtcclxuICBuZXh0KCk7XHJcbn0pO1xyXG5cclxuYXBwLnVzZShcIi9hcGkvdjEvdXNlclwiLCB1c2VyUm91dGVyKTtcclxuYXBwLnVzZShcIi9hcGkvdjEvY2F0ZWdvcmllc1wiLCBjYXRlZ29yeVJvdXRlcik7XHJcbmFwcC51c2UoXCIvYXBpL3YxL3Byb2R1Y3RzXCIsIHByb2R1Y3RSb3V0ZXIpO1xyXG5hcHAudXNlKFwiL2FwaS92MS9jYXJ0XCIsIGNhcnRSb3V0ZXIpO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksUUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssS0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQStDLFNBQUFELHVCQUFBTyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQy9DLE1BQU1HLEdBQUcsR0FBRyxJQUFBQyxnQkFBTyxFQUFDLENBQUM7QUFDckIsTUFBTUMsSUFBSSxHQUFHLElBQUk7O0FBRWpCO0FBQ0FGLEdBQUcsQ0FBQ0csR0FBRyxDQUFDRixnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDOztBQUV2QjtBQUNBSixHQUFHLENBQUNHLEdBQUcsQ0FBQyxVQUFVLEVBQUVGLGdCQUFPLENBQUNJLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQzs7QUFFOUM7QUFDQUMsaUJBQVEsQ0FDTEMsT0FBTyxDQUFDLG1DQUFtQyxDQUFDLENBQzVDQyxJQUFJLENBQUMsTUFBTUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7QUFFM0NWLEdBQUcsQ0FBQ1csTUFBTSxDQUFDVCxJQUFJLEVBQUUsTUFBTTtFQUNyQk8sT0FBTyxDQUFDQyxHQUFHLENBQUMsNkJBQTZCLEdBQUdSLElBQUksQ0FBQztBQUNuRCxDQUFDLENBQUM7QUFFRkYsR0FBRyxDQUFDRyxHQUFHLENBQUMsQ0FBQ1MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUMxQkQsR0FBRyxDQUFDRSxTQUFTLENBQUMsNkJBQTZCLEVBQUUsdUJBQXVCLENBQUMsQ0FBQyxDQUFDO0VBQ3ZFRixHQUFHLENBQUNFLFNBQVMsQ0FBQyw4QkFBOEIsRUFBRSx3QkFBd0IsQ0FBQztFQUN2RUYsR0FBRyxDQUFDRSxTQUFTLENBQUMsOEJBQThCLEVBQUUsNkJBQTZCLENBQUM7RUFDNUVELElBQUksQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxDQUFDO0FBRUZkLEdBQUcsQ0FBQ0csR0FBRyxDQUFDLGNBQWMsRUFBRWEsYUFBVSxDQUFDO0FBQ25DaEIsR0FBRyxDQUFDRyxHQUFHLENBQUMsb0JBQW9CLEVBQUVjLGlCQUFjLENBQUM7QUFDN0NqQixHQUFHLENBQUNHLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRWUsZ0JBQWEsQ0FBQztBQUMxQ2xCLEdBQUcsQ0FBQ0csR0FBRyxDQUFDLGNBQWMsRUFBRWdCLGFBQVUsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_mongoose","_user","_category","_product","_cart","obj","__esModule","default","app","express","PORT","use","json","static","mongoose","connect","then","console","log","listen","req","res","next","setHeader","userRouter","categoryRouter","productRouter","cartRouter"],"sourceRoot":"D:\\unzipped\\Session8\\","sources":["index.js"],"sourcesContent":["import express from \"express\";\r\nimport mongoose from \"mongoose\";\r\nimport userRouter from \"./routers/user.router\";\r\nimport categoryRouter from \"./routers/category.router\";\r\nimport productRouter from \"./routers/product.router\";\r\nimport cartRouter from \"./routers/cart.router\";\r\nconst app = express();\r\nconst PORT = 8002;\r\n\r\n// body parser\r\napp.use(express.json());\r\n\r\n// serving static files\r\napp.use(\"/uploads\", express.static(\"uploads\"));\r\n\r\n// DB connectivity\r\nmongoose\r\n  .connect(\"mongodb://127.0.0.1:27017/mynewdb\")\r\n  .then(() => console.log(\"DB Connected!\"));\r\n\r\napp.listen(PORT, () => {\r\n  console.log(\"Server is running on port: \" + PORT);\r\n});\r\n\r\napp.use((req, res, next) => {\r\n  res.setHeader(\"Access-Control-Allow-Origin\", \"http://localhost:3000\"); // Replace with your React app's URL // orgin as in frontend\r\n  res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE\");\r\n  res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\r\n  next();\r\n});\r\n\r\napp.use(\"/api/v1/user\", userRouter);\r\napp.use(\"/api/v1/categories\", categoryRouter);\r\napp.use(\"/api/v1/products\", productRouter);\r\napp.use(\"/api/v1/cart\", cartRouter);\r\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,QAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,KAAA,GAAAN,sBAAA,CAAAC,OAAA;AAA+C,SAAAD,uBAAAO,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC/C,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrB,MAAMC,IAAI,GAAG,IAAI;;AAEjB;AACAF,GAAG,CAACG,GAAG,CAACF,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;;AAEvB;AACAJ,GAAG,CAACG,GAAG,CAAC,UAAU,EAAEF,gBAAO,CAACI,MAAM,CAAC,SAAS,CAAC,CAAC;;AAE9C;AACAC,iBAAQ,CACLC,OAAO,CAAC,mCAAmC,CAAC,CAC5CC,IAAI,CAAC,MAAMC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAAC;AAE3CV,GAAG,CAACW,MAAM,CAACT,IAAI,EAAE,MAAM;EACrBO,OAAO,CAACC,GAAG,CAAC,6BAA6B,GAAGR,IAAI,CAAC;AACnD,CAAC,CAAC;AAEFF,GAAG,CAACG,GAAG,CAAC,CAACS,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC1BD,GAAG,CAACE,SAAS,CAAC,6BAA6B,EAAE,uBAAuB,CAAC,CAAC,CAAC;EACvEF,GAAG,CAACE,SAAS,CAAC,8BAA8B,EAAE,wBAAwB,CAAC;EACvEF,GAAG,CAACE,SAAS,CAAC,8BAA8B,EAAE,6BAA6B,CAAC;EAC5ED,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AAEFd,GAAG,CAACG,GAAG,CAAC,cAAc,EAAEa,aAAU,CAAC;AACnChB,GAAG,CAACG,GAAG,CAAC,oBAAoB,EAAEc,iBAAc,CAAC;AAC7CjB,GAAG,CAACG,GAAG,CAAC,kBAAkB,EAAEe,gBAAa,CAAC;AAC1ClB,GAAG,CAACG,GAAG,CAAC,cAAc,EAAEgB,aAAU,CAAC","ignoreList":[]}},"mtime":1715167040232},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\user.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _user = require(\"../controllers/user.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-user\", _user.addUser);\nrouter.get(\"/get-users\", _user.getUsers);\nrouter.get(\"/get-user/:userid\", _user.getUser);\nrouter.put(\"/update-user/:userid\", _user.updateUser);\nrouter.delete(\"/delete-user/:userid\", _user.deleteUser);\n\n// Auth\nrouter.post(\"/sign-up\", _user.signUp);\nrouter.post(\"/login\", _user.login);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3VzZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkVXNlciIsImdldCIsImdldFVzZXJzIiwiZ2V0VXNlciIsInB1dCIsInVwZGF0ZVVzZXIiLCJkZWxldGUiLCJkZWxldGVVc2VyIiwic2lnblVwIiwibG9naW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsidXNlci5yb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHtcclxuICBhZGRVc2VyLFxyXG4gIGRlbGV0ZVVzZXIsXHJcbiAgZ2V0VXNlcixcclxuICBsb2dpbixcclxuICBzaWduVXAsXHJcbiAgZ2V0VXNlcnMsXHJcbiAgdXBkYXRlVXNlcixcclxufSBmcm9tIFwiLi4vY29udHJvbGxlcnMvdXNlci5jb250cm9sbGVyXCI7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWRkLXVzZXJcIiwgYWRkVXNlcik7XHJcbnJvdXRlci5nZXQoXCIvZ2V0LXVzZXJzXCIsIGdldFVzZXJzKTtcclxucm91dGVyLmdldChcIi9nZXQtdXNlci86dXNlcmlkXCIsIGdldFVzZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS11c2VyLzp1c2VyaWRcIiwgdXBkYXRlVXNlcik7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXVzZXIvOnVzZXJpZFwiLCBkZWxldGVVc2VyKTtcclxuXHJcbi8vIEF1dGhcclxucm91dGVyLnBvc3QoXCIvc2lnbi11cFwiLCBzaWduVXApO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBsb2dpbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBUXdDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXhDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLFdBQVcsRUFBRUMsYUFBTyxDQUFDO0FBQ2pDSixNQUFNLENBQUNLLEdBQUcsQ0FBQyxZQUFZLEVBQUVDLGNBQVEsQ0FBQztBQUNsQ04sTUFBTSxDQUFDSyxHQUFHLENBQUMsbUJBQW1CLEVBQUVFLGFBQU8sQ0FBQztBQUN4Q1AsTUFBTSxDQUFDUSxHQUFHLENBQUMsc0JBQXNCLEVBQUVDLGdCQUFVLENBQUM7QUFDOUNULE1BQU0sQ0FBQ1UsTUFBTSxDQUFDLHNCQUFzQixFQUFFQyxnQkFBVSxDQUFDOztBQUVqRDtBQUNBWCxNQUFNLENBQUNHLElBQUksQ0FBQyxVQUFVLEVBQUVTLFlBQU0sQ0FBQztBQUMvQlosTUFBTSxDQUFDRyxJQUFJLENBQUMsUUFBUSxFQUFFVSxXQUFLLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FFZEMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_user","obj","__esModule","default","router","express","Router","post","addUser","get","getUsers","getUser","put","updateUser","delete","deleteUser","signUp","login","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["user.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addUser,\r\n  deleteUser,\r\n  getUser,\r\n  login,\r\n  signUp,\r\n  getUsers,\r\n  updateUser,\r\n} from \"../controllers/user.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-user\", addUser);\r\nrouter.get(\"/get-users\", getUsers);\r\nrouter.get(\"/get-user/:userid\", getUser);\r\nrouter.put(\"/update-user/:userid\", updateUser);\r\nrouter.delete(\"/delete-user/:userid\", deleteUser);\r\n\r\n// Auth\r\nrouter.post(\"/sign-up\", signUp);\r\nrouter.post(\"/login\", login);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAQwC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,WAAW,EAAEC,aAAO,CAAC;AACjCJ,MAAM,CAACK,GAAG,CAAC,YAAY,EAAEC,cAAQ,CAAC;AAClCN,MAAM,CAACK,GAAG,CAAC,mBAAmB,EAAEE,aAAO,CAAC;AACxCP,MAAM,CAACQ,GAAG,CAAC,sBAAsB,EAAEC,gBAAU,CAAC;AAC9CT,MAAM,CAACU,MAAM,CAAC,sBAAsB,EAAEC,gBAAU,CAAC;;AAEjD;AACAX,MAAM,CAACG,IAAI,CAAC,UAAU,EAAES,YAAM,CAAC;AAC/BZ,MAAM,CAACG,IAAI,CAAC,QAAQ,EAAEU,WAAK,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEdC,MAAM","ignoreList":[]}},"mtime":1714566818159},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\user.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUser = exports.signUp = exports.login = exports.getUsers = exports.getUser = exports.deleteUser = exports.addUser = void 0;\nvar _user = _interopRequireDefault(require(\"../models/user.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    if (_fs.default.existsSync(\"./uploads\")) {\n      cb(null, \"./uploads\");\n    } else {\n      _fs.default.mkdirSync(\"./uploads\");\n      cb(null, \"./uploads\");\n    }\n  },\n  filename: function (req, file, cb) {\n    const orgName = file.originalname;\n    const ext = _path.default.parse(orgName).ext;\n    const name = _path.default.parse(orgName).name;\n    const fullname = name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst addUser = async (req, res) => {\n  try {\n    const dataWithFile = upload.single(\"avatar\");\n    dataWithFile(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      console.log(req.body);\n      console.log(req.file);\n      let img = null;\n      if (req.file) {\n        img = req.file.filename;\n      }\n      const {\n        name,\n        email,\n        password,\n        contact\n      } = req.body;\n      const saveData = await _user.default.create({\n        name: name,\n        email: email,\n        password: password,\n        contact: contact,\n        image: img\n      });\n      if (saveData) {\n        return res.status(201).json({\n          data: saveData,\n          message: \"New record added\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addUser = addUser;\nconst getUsers = async (req, res) => {\n  try {\n    const userData = await _user.default.find();\n    if (userData) {\n      return res.status(200).json({\n        data: userData,\n        message: \"Fetched!\",\n        success: true,\n        filepath: \"http://localhost:8001/uploads/\"\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getUsers = getUsers;\nconst getUser = async (req, res) => {\n  try {\n    const userid = req.params.userid;\n    const userData = await _user.default.findOne({\n      _id: userid\n    });\n    if (userData) {\n      return res.status(200).json({\n        data: userData,\n        message: \"Fetched!\",\n        success: true,\n        filepath: \"http://localhost:8001/uploads/\"\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getUser = getUser;\nconst updateUser = async (req, res) => {\n  try {\n    const dataWithFile = upload.single(\"avatar\");\n    dataWithFile(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      const userid = req.params.userid;\n      const existingUser = await _user.default.findOne({\n        _id: userid\n      });\n      let img = existingUser.image;\n      if (req.file) {\n        img = req.file.filename;\n        if (_fs.default.existsSync(\"./uploads/\" + existingUser.image)) {\n          _fs.default.unlinkSync(\"./uploads/\" + existingUser.image);\n        }\n      }\n      const {\n        name,\n        email,\n        password,\n        contact\n      } = req.body;\n      const user = await _user.default.updateOne({\n        _id: userid\n      }, {\n        $set: {\n          name: name,\n          email: email,\n          password: password,\n          contact: contact,\n          image: img\n        }\n      });\n      if (user.acknowledged) {\n        return res.status(200).json({\n          message: \"Updated!\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateUser = updateUser;\nconst deleteUser = async (req, res) => {\n  try {\n    const userid = req.params.userid;\n    const existingUser = await _user.default.findOne({\n      _id: userid\n    });\n    const user = await _user.default.deleteOne({\n      _id: userid\n    });\n    if (user.acknowledged) {\n      if (_fs.default.existsSync(\"./uploads/\" + existingUser.image)) {\n        _fs.default.unlinkSync(\"./uploads/\" + existingUser.image);\n      }\n      return res.status(200).json({\n        message: \"Deleted!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n/* ===========================\r\n        Auth\r\n=============================*/\nexports.deleteUser = deleteUser;\nconst signUp = async (req, res) => {\n  try {\n    const {\n      name,\n      email,\n      password,\n      contact\n    } = req.body;\n    const existUser = await _user.default.findOne({\n      email: email\n    });\n    if (existUser) {\n      return res.status(200).json({\n        message: \"User already exist\",\n        success: false\n      });\n    }\n    const hashPassword = _bcrypt.default.hashSync(password, 10);\n    console.log(hashPassword);\n    const saveData = await _user.default.create({\n      name: name,\n      email: email,\n      password: hashPassword,\n      contact: contact\n    });\n    if (saveData) {\n      return res.status(201).json({\n        data: saveData,\n        message: \"New record added\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.signUp = signUp;\nconst login = async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    const existingUser = await _user.default.findOne({\n      email: email\n    });\n    if (!existingUser) {\n      return res.status(400).json({\n        message: \"User doesn't exist!\",\n        success: false\n      });\n    }\n    const comparePassword = _bcrypt.default.compareSync(password, existingUser.password);\n    if (!comparePassword) {\n      return res.status(400).json({\n        message: \"Invalid credential\",\n        success: false\n      });\n    }\n\n    // If passwords match, generate JWT token\n    const token = _jsonwebtoken.default.sign({\n      id: existingUser._id,\n      email: existingUser.email\n    }, \"your_secret_key_here\",\n    // Replace with your secret key\n    {\n      expiresIn: \"1h\"\n    });\n\n    // Exclude password from response data\n    const responseData = {\n      ...existingUser.toObject()\n    };\n    delete responseData.password;\n\n    // Send token and user data in response\n    return res.status(200).json({\n      data: responseData,\n      token: token,\n      message: \"Successfully logged in\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.login = login;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX2ZzIiwiX2JjcnlwdCIsIl9qc29ud2VidG9rZW4iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZnMiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwiZmlsZW5hbWUiLCJvcmdOYW1lIiwib3JpZ2luYWxuYW1lIiwiZXh0IiwicGF0aCIsInBhcnNlIiwibmFtZSIsImZ1bGxuYW1lIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsInVwbG9hZCIsImFkZFVzZXIiLCJyZXMiLCJkYXRhV2l0aEZpbGUiLCJzaW5nbGUiLCJlcnIiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsImltZyIsImVtYWlsIiwicGFzc3dvcmQiLCJjb250YWN0Iiwic2F2ZURhdGEiLCJVc2VyTW9kZWwiLCJjcmVhdGUiLCJpbWFnZSIsImRhdGEiLCJleHBvcnRzIiwiZ2V0VXNlcnMiLCJ1c2VyRGF0YSIsImZpbmQiLCJmaWxlcGF0aCIsImdldFVzZXIiLCJ1c2VyaWQiLCJwYXJhbXMiLCJmaW5kT25lIiwiX2lkIiwidXBkYXRlVXNlciIsImV4aXN0aW5nVXNlciIsInVubGlua1N5bmMiLCJ1c2VyIiwidXBkYXRlT25lIiwiJHNldCIsImFja25vd2xlZGdlZCIsImRlbGV0ZVVzZXIiLCJkZWxldGVPbmUiLCJzaWduVXAiLCJleGlzdFVzZXIiLCJoYXNoUGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoU3luYyIsImxvZ2luIiwiY29tcGFyZVBhc3N3b3JkIiwiY29tcGFyZVN5bmMiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJpZCIsImV4cGlyZXNJbiIsInJlc3BvbnNlRGF0YSIsInRvT2JqZWN0Il0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJ1c2VyLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXJNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL3VzZXIubW9kZWxcIjtcclxuaW1wb3J0IG11bHRlciBmcm9tIFwibXVsdGVyXCI7XHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XHJcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcclxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XHJcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICBkZXN0aW5hdGlvbjogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGlmIChmcy5leGlzdHNTeW5jKFwiLi91cGxvYWRzXCIpKSB7XHJcbiAgICAgIGNiKG51bGwsIFwiLi91cGxvYWRzXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZnMubWtkaXJTeW5jKFwiLi91cGxvYWRzXCIpO1xyXG4gICAgICBjYihudWxsLCBcIi4vdXBsb2Fkc1wiKTtcclxuICAgIH1cclxuICB9LFxyXG4gIGZpbGVuYW1lOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY29uc3Qgb3JnTmFtZSA9IGZpbGUub3JpZ2luYWxuYW1lO1xyXG4gICAgY29uc3QgZXh0ID0gcGF0aC5wYXJzZShvcmdOYW1lKS5leHQ7XHJcbiAgICBjb25zdCBuYW1lID0gcGF0aC5wYXJzZShvcmdOYW1lKS5uYW1lO1xyXG4gICAgY29uc3QgZnVsbG5hbWUgPVxyXG4gICAgICBuYW1lICsgXCItXCIgKyBEYXRlLm5vdygpICsgXCJcIiArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFlOSkgKyBleHQ7XHJcblxyXG4gICAgY2IobnVsbCwgZnVsbG5hbWUpO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZTogc3RvcmFnZSB9KTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGFXaXRoRmlsZSA9IHVwbG9hZC5zaW5nbGUoXCJhdmF0YXJcIik7XHJcblxyXG4gICAgZGF0YVdpdGhGaWxlKHJlcSwgcmVzLCBhc3luYyBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogZXJyLm1lc3NhZ2UsIHN1Y2Nlc3M6IGZhbHNlIH0pO1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcS5maWxlKTtcclxuXHJcbiAgICAgIGxldCBpbWcgPSBudWxsO1xyXG4gICAgICBpZiAocmVxLmZpbGUpIHtcclxuICAgICAgICBpbWcgPSByZXEuZmlsZS5maWxlbmFtZTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgY29udGFjdCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgIGNvbnN0IHNhdmVEYXRhID0gYXdhaXQgVXNlck1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxyXG4gICAgICAgIGNvbnRhY3Q6IGNvbnRhY3QsXHJcbiAgICAgICAgaW1hZ2U6IGltZyxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoc2F2ZURhdGEpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICAgICAgZGF0YTogc2F2ZURhdGEsXHJcbiAgICAgICAgICBtZXNzYWdlOiBcIk5ldyByZWNvcmQgYWRkZWRcIixcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFVzZXJzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0gYXdhaXQgVXNlck1vZGVsLmZpbmQoKTtcclxuICAgIGlmICh1c2VyRGF0YSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIGRhdGE6IHVzZXJEYXRhLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGZpbGVwYXRoOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMS91cGxvYWRzL1wiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuZXhwb3J0IGNvbnN0IGdldFVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlcmlkID0gcmVxLnBhcmFtcy51c2VyaWQ7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgX2lkOiB1c2VyaWQgfSk7XHJcbiAgICBpZiAodXNlckRhdGEpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiB1c2VyRGF0YSxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBmaWxlcGF0aDogXCJodHRwOi8vbG9jYWxob3N0OjgwMDEvdXBsb2Fkcy9cIixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRhV2l0aEZpbGUgPSB1cGxvYWQuc2luZ2xlKFwiYXZhdGFyXCIpO1xyXG5cclxuICAgIGRhdGFXaXRoRmlsZShyZXEsIHJlcywgYXN5bmMgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICBpZiAoZXJyKVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGVyci5tZXNzYWdlLCBzdWNjZXNzOiBmYWxzZSB9KTtcclxuICAgICAgY29uc3QgdXNlcmlkID0gcmVxLnBhcmFtcy51c2VyaWQ7XHJcblxyXG4gICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IF9pZDogdXNlcmlkIH0pO1xyXG4gICAgICBsZXQgaW1nID0gZXhpc3RpbmdVc2VyLmltYWdlO1xyXG4gICAgICBpZiAocmVxLmZpbGUpIHtcclxuICAgICAgICBpbWcgPSByZXEuZmlsZS5maWxlbmFtZTtcclxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhcIi4vdXBsb2Fkcy9cIiArIGV4aXN0aW5nVXNlci5pbWFnZSkpIHtcclxuICAgICAgICAgIGZzLnVubGlua1N5bmMoXCIuL3VwbG9hZHMvXCIgKyBleGlzdGluZ1VzZXIuaW1hZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgY29udGFjdCB9ID0gcmVxLmJvZHk7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwudXBkYXRlT25lKFxyXG4gICAgICAgIHsgX2lkOiB1c2VyaWQgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxyXG4gICAgICAgICAgICBjb250YWN0OiBjb250YWN0LFxyXG4gICAgICAgICAgICBpbWFnZTogaW1nLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIGlmICh1c2VyLmFja25vd2xlZGdlZCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlVwZGF0ZWQhXCIsXHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlcmlkID0gcmVxLnBhcmFtcy51c2VyaWQ7XHJcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IF9pZDogdXNlcmlkIH0pO1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5kZWxldGVPbmUoeyBfaWQ6IHVzZXJpZCB9KTtcclxuICAgIGlmICh1c2VyLmFja25vd2xlZGdlZCkge1xyXG4gICAgICBpZiAoZnMuZXhpc3RzU3luYyhcIi4vdXBsb2Fkcy9cIiArIGV4aXN0aW5nVXNlci5pbWFnZSkpIHtcclxuICAgICAgICBmcy51bmxpbmtTeW5jKFwiLi91cGxvYWRzL1wiICsgZXhpc3RpbmdVc2VyLmltYWdlKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiRGVsZXRlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIEF1dGhcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuZXhwb3J0IGNvbnN0IHNpZ25VcCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgY29udGFjdCB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgY29uc3QgZXhpc3RVc2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyBlbWFpbDogZW1haWwgfSk7XHJcbiAgICBpZiAoZXhpc3RVc2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJVc2VyIGFscmVhZHkgZXhpc3RcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBoYXNoUGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIDEwKTtcclxuICAgIGNvbnNvbGUubG9nKGhhc2hQYXNzd29yZCk7XHJcbiAgICBjb25zdCBzYXZlRGF0YSA9IGF3YWl0IFVzZXJNb2RlbC5jcmVhdGUoe1xyXG4gICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgIHBhc3N3b3JkOiBoYXNoUGFzc3dvcmQsXHJcbiAgICAgIGNvbnRhY3Q6IGNvbnRhY3QsXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoc2F2ZURhdGEpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBzYXZlRGF0YSxcclxuICAgICAgICBtZXNzYWdlOiBcIk5ldyByZWNvcmQgYWRkZWRcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGVtYWlsIH0pO1xyXG4gICAgaWYgKCFleGlzdGluZ1VzZXIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlVzZXIgZG9lc24ndCBleGlzdCFcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29tcGFyZVBhc3N3b3JkID0gYmNyeXB0LmNvbXBhcmVTeW5jKHBhc3N3b3JkLCBleGlzdGluZ1VzZXIucGFzc3dvcmQpO1xyXG4gICAgaWYgKCFjb21wYXJlUGFzc3dvcmQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgY3JlZGVudGlhbFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBwYXNzd29yZHMgbWF0Y2gsIGdlbmVyYXRlIEpXVCB0b2tlblxyXG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcclxuICAgICAge1xyXG4gICAgICAgIGlkOiBleGlzdGluZ1VzZXIuX2lkLFxyXG4gICAgICAgIGVtYWlsOiBleGlzdGluZ1VzZXIuZW1haWwsXHJcbiAgICAgIH0sXHJcbiAgICAgIFwieW91cl9zZWNyZXRfa2V5X2hlcmVcIiwgLy8gUmVwbGFjZSB3aXRoIHlvdXIgc2VjcmV0IGtleVxyXG4gICAgICB7IGV4cGlyZXNJbjogXCIxaFwiIH1cclxuICAgICk7XHJcblxyXG4gICAgLy8gRXhjbHVkZSBwYXNzd29yZCBmcm9tIHJlc3BvbnNlIGRhdGFcclxuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IHsgLi4uZXhpc3RpbmdVc2VyLnRvT2JqZWN0KCkgfTtcclxuICAgIGRlbGV0ZSByZXNwb25zZURhdGEucGFzc3dvcmQ7XHJcblxyXG4gICAgLy8gU2VuZCB0b2tlbiBhbmQgdXNlciBkYXRhIGluIHJlc3BvbnNlXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBkYXRhOiByZXNwb25zZURhdGEsXHJcbiAgICAgIHRva2VuOiB0b2tlbixcclxuICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxu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","map":{"version":3,"names":["_user","_interopRequireDefault","require","_multer","_path","_fs","_bcrypt","_jsonwebtoken","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","fs","existsSync","mkdirSync","filename","orgName","originalname","ext","path","parse","name","fullname","Date","now","Math","round","random","upload","addUser","res","dataWithFile","single","err","status","json","message","success","console","log","body","img","email","password","contact","saveData","UserModel","create","image","data","exports","getUsers","userData","find","filepath","getUser","userid","params","findOne","_id","updateUser","existingUser","unlinkSync","user","updateOne","$set","acknowledged","deleteUser","deleteOne","signUp","existUser","hashPassword","bcrypt","hashSync","login","comparePassword","compareSync","token","jwt","sign","id","expiresIn","responseData","toObject"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["user.controller.js"],"sourcesContent":["import UserModel from \"../models/user.model\";\r\nimport multer from \"multer\";\r\nimport path from \"path\";\r\nimport fs from \"fs\";\r\nimport bcrypt from \"bcrypt\";\r\nimport jwt from \"jsonwebtoken\";\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    if (fs.existsSync(\"./uploads\")) {\r\n      cb(null, \"./uploads\");\r\n    } else {\r\n      fs.mkdirSync(\"./uploads\");\r\n      cb(null, \"./uploads\");\r\n    }\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const orgName = file.originalname;\r\n    const ext = path.parse(orgName).ext;\r\n    const name = path.parse(orgName).name;\r\n    const fullname =\r\n      name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\r\n\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nexport const addUser = async (req, res) => {\r\n  try {\r\n    const dataWithFile = upload.single(\"avatar\");\r\n\r\n    dataWithFile(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      console.log(req.body);\r\n      console.log(req.file);\r\n\r\n      let img = null;\r\n      if (req.file) {\r\n        img = req.file.filename;\r\n      }\r\n      const { name, email, password, contact } = req.body;\r\n      const saveData = await UserModel.create({\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n        contact: contact,\r\n        image: img,\r\n      });\r\n\r\n      if (saveData) {\r\n        return res.status(201).json({\r\n          data: saveData,\r\n          message: \"New record added\",\r\n          success: true,\r\n        });\r\n      }\r\n\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUsers = async (req, res) => {\r\n  try {\r\n    const userData = await UserModel.find();\r\n    if (userData) {\r\n      return res.status(200).json({\r\n        data: userData,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n        filepath: \"http://localhost:8001/uploads/\",\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\nexport const getUser = async (req, res) => {\r\n  try {\r\n    const userid = req.params.userid;\r\n    const userData = await UserModel.findOne({ _id: userid });\r\n    if (userData) {\r\n      return res.status(200).json({\r\n        data: userData,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n        filepath: \"http://localhost:8001/uploads/\",\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUser = async (req, res) => {\r\n  try {\r\n    const dataWithFile = upload.single(\"avatar\");\r\n\r\n    dataWithFile(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      const userid = req.params.userid;\r\n\r\n      const existingUser = await UserModel.findOne({ _id: userid });\r\n      let img = existingUser.image;\r\n      if (req.file) {\r\n        img = req.file.filename;\r\n        if (fs.existsSync(\"./uploads/\" + existingUser.image)) {\r\n          fs.unlinkSync(\"./uploads/\" + existingUser.image);\r\n        }\r\n      }\r\n      const { name, email, password, contact } = req.body;\r\n      const user = await UserModel.updateOne(\r\n        { _id: userid },\r\n        {\r\n          $set: {\r\n            name: name,\r\n            email: email,\r\n            password: password,\r\n            contact: contact,\r\n            image: img,\r\n          },\r\n        }\r\n      );\r\n      if (user.acknowledged) {\r\n        return res.status(200).json({\r\n          message: \"Updated!\",\r\n          success: true,\r\n        });\r\n      }\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (req, res) => {\r\n  try {\r\n    const userid = req.params.userid;\r\n    const existingUser = await UserModel.findOne({ _id: userid });\r\n    const user = await UserModel.deleteOne({ _id: userid });\r\n    if (user.acknowledged) {\r\n      if (fs.existsSync(\"./uploads/\" + existingUser.image)) {\r\n        fs.unlinkSync(\"./uploads/\" + existingUser.image);\r\n      }\r\n      return res.status(200).json({\r\n        message: \"Deleted!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n/* ===========================\r\n        Auth\r\n=============================*/\r\n\r\nexport const signUp = async (req, res) => {\r\n  try {\r\n    const { name, email, password, contact } = req.body;\r\n\r\n    const existUser = await UserModel.findOne({ email: email });\r\n    if (existUser) {\r\n      return res.status(200).json({\r\n        message: \"User already exist\",\r\n        success: false,\r\n      });\r\n    }\r\n    const hashPassword = bcrypt.hashSync(password, 10);\r\n    console.log(hashPassword);\r\n    const saveData = await UserModel.create({\r\n      name: name,\r\n      email: email,\r\n      password: hashPassword,\r\n      contact: contact,\r\n    });\r\n\r\n    if (saveData) {\r\n      return res.status(201).json({\r\n        data: saveData,\r\n        message: \"New record added\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const login = async (req, res) => {\r\n  try {\r\n    const { email, password } = req.body;\r\n\r\n    const existingUser = await UserModel.findOne({ email: email });\r\n    if (!existingUser) {\r\n      return res.status(400).json({\r\n        message: \"User doesn't exist!\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    const comparePassword = bcrypt.compareSync(password, existingUser.password);\r\n    if (!comparePassword) {\r\n      return res.status(400).json({\r\n        message: \"Invalid credential\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    // If passwords match, generate JWT token\r\n    const token = jwt.sign(\r\n      {\r\n        id: existingUser._id,\r\n        email: existingUser.email,\r\n      },\r\n      \"your_secret_key_here\", // Replace with your secret key\r\n      { expiresIn: \"1h\" }\r\n    );\r\n\r\n    // Exclude password from response data\r\n    const responseData = { ...existingUser.toObject() };\r\n    delete responseData.password;\r\n\r\n    // Send token and user data in response\r\n    return res.status(200).json({\r\n      data: responseData,\r\n      token: token,\r\n      message: \"Successfully logged in\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1715591558450},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\user.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst UserSchema = new Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  contact: {\n    type: Number,\n    default: null\n  },\n  image: {\n    type: String,\n    default: null\n  },\n  status: {\n    type: Number,\n    default: 1\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"user\", UserSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJVc2VyU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwicGFzc3dvcmQiLCJjb250YWN0IiwiTnVtYmVyIiwiaW1hZ2UiLCJzdGF0dXMiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsIm5vdyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxtb2RlbHNcXCIsInNvdXJjZXMiOlsidXNlci5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcclxuXHJcbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICBuYW1lOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIGVtYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHBhc3N3b3JkOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIGNvbnRhY3Q6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgfSxcclxuICBpbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsIFVzZXJTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUM1QkcsSUFBSSxFQUFFO0lBQ0pDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLEtBQUssRUFBRTtJQUNMSCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNERSxRQUFRLEVBQUU7SUFDUkosSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREcsT0FBTyxFQUFFO0lBQ1BMLElBQUksRUFBRU0sTUFBTTtJQUNaWCxPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RZLEtBQUssRUFBRTtJQUNMUCxJQUFJLEVBQUVDLE1BQU07SUFDWk4sT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEYSxNQUFNLEVBQUU7SUFDTlIsSUFBSSxFQUFFTSxNQUFNO0lBQ1pYLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRGMsVUFBVSxFQUFFO0lBQ1ZULElBQUksRUFBRVUsSUFBSTtJQUNWZixPQUFPLEVBQUVlLElBQUksQ0FBQ0MsR0FBRyxDQUFDO0VBQ3BCO0FBQ0YsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBRVlFLGlCQUFRLENBQUNpQixLQUFLLENBQUMsTUFBTSxFQUFFaEIsVUFBVSxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","UserSchema","name","type","String","required","email","password","contact","Number","image","status","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["user.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst UserSchema = new Schema({\r\n  name: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  password: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  contact: {\r\n    type: Number,\r\n    default: null,\r\n  },\r\n  image: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  status: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"user\", UserSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,IAAI,EAAE;IACJC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,KAAK,EAAE;IACLH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDE,QAAQ,EAAE;IACRJ,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDG,OAAO,EAAE;IACPL,IAAI,EAAEM,MAAM;IACZX,OAAO,EAAE;EACX,CAAC;EACDY,KAAK,EAAE;IACLP,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDa,MAAM,EAAE;IACNR,IAAI,EAAEM,MAAM;IACZX,OAAO,EAAE;EACX,CAAC;EACDc,UAAU,EAAE;IACVT,IAAI,EAAEU,IAAI;IACVf,OAAO,EAAEe,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAEYE,iBAAQ,CAACiB,KAAK,CAAC,MAAM,EAAEhB,UAAU,CAAC","ignoreList":[]}},"mtime":1714562444651},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\category.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _category = require(\"../controllers/category.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-category\", _category.addCategory);\nrouter.get(\"/get-categories\", _category.getCategories);\nrouter.get(\"/get-category/:categoryid\", _category.getCategory);\nrouter.put(\"/update-category/:categoryid\", _category.updateCategory);\nrouter.delete(\"/delete-category/:categoryid\", _category.deleteCategory);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NhdGVnb3J5Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsImFkZENhdGVnb3J5IiwiZ2V0IiwiZ2V0Q2F0ZWdvcmllcyIsImdldENhdGVnb3J5IiwicHV0IiwidXBkYXRlQ2F0ZWdvcnkiLCJkZWxldGUiLCJkZWxldGVDYXRlZ29yeSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxccm91dGVyc1xcIiwic291cmNlcyI6WyJjYXRlZ29yeS5yb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHtcclxuICBhZGRDYXRlZ29yeSxcclxuICBkZWxldGVDYXRlZ29yeSxcclxuICBnZXRDYXRlZ29yaWVzLFxyXG4gIGdldENhdGVnb3J5LFxyXG4gIHVwZGF0ZUNhdGVnb3J5LFxyXG59IGZyb20gXCIuLi9jb250cm9sbGVycy9jYXRlZ29yeS5jb250cm9sbGVyXCI7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWRkLWNhdGVnb3J5XCIsIGFkZENhdGVnb3J5KTtcclxucm91dGVyLmdldChcIi9nZXQtY2F0ZWdvcmllc1wiLCBnZXRDYXRlZ29yaWVzKTtcclxucm91dGVyLmdldChcIi9nZXQtY2F0ZWdvcnkvOmNhdGVnb3J5aWRcIiwgZ2V0Q2F0ZWdvcnkpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS1jYXRlZ29yeS86Y2F0ZWdvcnlpZFwiLCB1cGRhdGVDYXRlZ29yeSk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLWNhdGVnb3J5LzpjYXRlZ29yeWlkXCIsIGRlbGV0ZUNhdGVnb3J5KTtcclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRCxPQUFBO0FBTTRDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTVDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLGVBQWUsRUFBRUMscUJBQVcsQ0FBQztBQUN6Q0osTUFBTSxDQUFDSyxHQUFHLENBQUMsaUJBQWlCLEVBQUVDLHVCQUFhLENBQUM7QUFDNUNOLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLDJCQUEyQixFQUFFRSxxQkFBVyxDQUFDO0FBQ3BEUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyw4QkFBOEIsRUFBRUMsd0JBQWMsQ0FBQztBQUMxRFQsTUFBTSxDQUFDVSxNQUFNLENBQUMsOEJBQThCLEVBQUVDLHdCQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWQsT0FBQSxHQUMvQ0MsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_category","obj","__esModule","default","router","express","Router","post","addCategory","get","getCategories","getCategory","put","updateCategory","delete","deleteCategory","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["category.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addCategory,\r\n  deleteCategory,\r\n  getCategories,\r\n  getCategory,\r\n  updateCategory,\r\n} from \"../controllers/category.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-category\", addCategory);\r\nrouter.get(\"/get-categories\", getCategories);\r\nrouter.get(\"/get-category/:categoryid\", getCategory);\r\nrouter.put(\"/update-category/:categoryid\", updateCategory);\r\nrouter.delete(\"/delete-category/:categoryid\", deleteCategory);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAM4C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5C,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,eAAe,EAAEC,qBAAW,CAAC;AACzCJ,MAAM,CAACK,GAAG,CAAC,iBAAiB,EAAEC,uBAAa,CAAC;AAC5CN,MAAM,CAACK,GAAG,CAAC,2BAA2B,EAAEE,qBAAW,CAAC;AACpDP,MAAM,CAACQ,GAAG,CAAC,8BAA8B,EAAEC,wBAAc,CAAC;AAC1DT,MAAM,CAACU,MAAM,CAAC,8BAA8B,EAAEC,wBAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAd,OAAA,GAC/CC,MAAM","ignoreList":[]}},"mtime":1712733580848},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\category.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateCategory = exports.getCategory = exports.getCategories = exports.deleteCategory = exports.addCategory = void 0;\nvar _category = _interopRequireDefault(require(\"../models/category.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst addCategory = async (req, res) => {\n  try {\n    const {\n      categoryname,\n      categorytype,\n      description\n    } = req.body; // Corrected keys\n    const saveData = await _category.default.create({\n      categoryname: categoryname,\n      // Corrected key\n      categorytype: categorytype,\n      // Corrected key\n      description: description\n    });\n    if (saveData) {\n      return res.status(201).json({\n        data: saveData,\n        message: \"New record added\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addCategory = addCategory;\nconst getCategories = async (req, res) => {\n  try {\n    const categories = await _category.default.find();\n    if (categories) {\n      return res.status(200).json({\n        data: categories,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getCategories = getCategories;\nconst getCategory = async (req, res) => {\n  try {\n    const categoryid = req.params.categoryid;\n    const category = await _category.default.findOne({\n      _id: categoryid\n    });\n    if (category) {\n      return res.status(200).json({\n        data: category,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getCategory = getCategory;\nconst updateCategory = async (req, res) => {\n  try {\n    const categoryid = req.params.categoryid;\n    const {\n      name,\n      description\n    } = req.body;\n    const category = await _category.default.updateOne({\n      _id: categoryid\n    }, {\n      $set: {\n        name: name,\n        description: description\n      }\n    });\n    if (category.acknowledged) {\n      return res.status(200).json({\n        message: \"Updated!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateCategory = updateCategory;\nconst deleteCategory = async (req, res) => {\n  try {\n    const categoryid = req.params.categoryid;\n    const category = await _category.default.deleteOne({\n      _id: categoryid\n    });\n    if (category.acknowledged) {\n      return res.status(200).json({\n        message: \"Deleted!\",\n        success: true\n      });\n      a;\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteCategory = deleteCategory;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2F0ZWdvcnkiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYWRkQ2F0ZWdvcnkiLCJyZXEiLCJyZXMiLCJjYXRlZ29yeW5hbWUiLCJjYXRlZ29yeXR5cGUiLCJkZXNjcmlwdGlvbiIsImJvZHkiLCJzYXZlRGF0YSIsIkNhdGVnb3J5TW9kZWwiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsIm1lc3NhZ2UiLCJzdWNjZXNzIiwiZXJyIiwiZXhwb3J0cyIsImdldENhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIiwiZmluZCIsImdldENhdGVnb3J5IiwiY2F0ZWdvcnlpZCIsInBhcmFtcyIsImNhdGVnb3J5IiwiZmluZE9uZSIsIl9pZCIsInVwZGF0ZUNhdGVnb3J5IiwibmFtZSIsInVwZGF0ZU9uZSIsIiRzZXQiLCJhY2tub3dsZWRnZWQiLCJkZWxldGVDYXRlZ29yeSIsImRlbGV0ZU9uZSIsImEiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbImNhdGVnb3J5LmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENhdGVnb3J5TW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYXRlZ29yeS5tb2RlbFwiO1xyXG5leHBvcnQgY29uc3QgYWRkQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBjYXRlZ29yeW5hbWUsIGNhdGVnb3J5dHlwZSwgZGVzY3JpcHRpb24gfSA9IHJlcS5ib2R5OyAvLyBDb3JyZWN0ZWQga2V5c1xyXG4gICAgY29uc3Qgc2F2ZURhdGEgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgIGNhdGVnb3J5bmFtZTogY2F0ZWdvcnluYW1lLCAvLyBDb3JyZWN0ZWQga2V5XHJcbiAgICAgIGNhdGVnb3J5dHlwZTogY2F0ZWdvcnl0eXBlLCAvLyBDb3JyZWN0ZWQga2V5XHJcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChzYXZlRGF0YSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICAgIGRhdGE6IHNhdmVEYXRhLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiTmV3IHJlY29yZCBhZGRlZFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDYXRlZ29yaWVzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLmZpbmQoKTtcclxuICAgIGlmIChjYXRlZ29yaWVzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogY2F0ZWdvcmllcyxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCBjb25zdCBnZXRDYXRlZ29yeSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjYXRlZ29yeWlkID0gcmVxLnBhcmFtcy5jYXRlZ29yeWlkO1xyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLmZpbmRPbmUoeyBfaWQ6IGNhdGVnb3J5aWQgfSk7XHJcbiAgICBpZiAoY2F0ZWdvcnkpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBjYXRlZ29yeSxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2F0ZWdvcnlpZCA9IHJlcS5wYXJhbXMuY2F0ZWdvcnlpZDtcclxuICAgIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24gfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IGNhdGVnb3J5aWQgfSxcclxuICAgICAge1xyXG4gICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGlmIChjYXRlZ29yeS5hY2tub3dsZWRnZWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlVwZGF0ZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2F0ZWdvcnlpZCA9IHJlcS5wYXJhbXMuY2F0ZWdvcnlpZDtcclxuICAgIGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgQ2F0ZWdvcnlNb2RlbC5kZWxldGVPbmUoeyBfaWQ6IGNhdGVnb3J5aWQgfSk7XHJcbiAgICBpZiAoY2F0ZWdvcnkuYWNrbm93bGVkZ2VkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJEZWxldGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO2FcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFxRCxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUM5QyxNQUFNRyxXQUFXLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDN0MsSUFBSTtJQUNGLE1BQU07TUFBRUMsWUFBWTtNQUFFQyxZQUFZO01BQUVDO0lBQVksQ0FBQyxHQUFHSixHQUFHLENBQUNLLElBQUksQ0FBQyxDQUFDO0lBQzlELE1BQU1DLFFBQVEsR0FBRyxNQUFNQyxpQkFBYSxDQUFDQyxNQUFNLENBQUM7TUFDMUNOLFlBQVksRUFBRUEsWUFBWTtNQUFFO01BQzVCQyxZQUFZLEVBQUVBLFlBQVk7TUFBRTtNQUM1QkMsV0FBVyxFQUFFQTtJQUNmLENBQUMsQ0FBQztJQUVGLElBQUlFLFFBQVEsRUFBRTtNQUNaLE9BQU9MLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLElBQUksRUFBRUwsUUFBUTtRQUNkTSxPQUFPLEVBQUUsa0JB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","map":{"version":3,"names":["_category","_interopRequireDefault","require","obj","__esModule","default","addCategory","req","res","categoryname","categorytype","description","body","saveData","CategoryModel","create","status","json","data","message","success","err","exports","getCategories","categories","find","getCategory","categoryid","params","category","findOne","_id","updateCategory","name","updateOne","$set","acknowledged","deleteCategory","deleteOne","a"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["category.controller.js"],"sourcesContent":["import CategoryModel from \"../models/category.model\";\r\nexport const addCategory = async (req, res) => {\r\n  try {\r\n    const { categoryname, categorytype, description } = req.body; // Corrected keys\r\n    const saveData = await CategoryModel.create({\r\n      categoryname: categoryname, // Corrected key\r\n      categorytype: categorytype, // Corrected key\r\n      description: description,\r\n    });\r\n\r\n    if (saveData) {\r\n      return res.status(201).json({\r\n        data: saveData,\r\n        message: \"New record added\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getCategories = async (req, res) => {\r\n  try {\r\n    const categories = await CategoryModel.find();\r\n    if (categories) {\r\n      return res.status(200).json({\r\n        data: categories,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\nexport const getCategory = async (req, res) => {\r\n  try {\r\n    const categoryid = req.params.categoryid;\r\n    const category = await CategoryModel.findOne({ _id: categoryid });\r\n    if (category) {\r\n      return res.status(200).json({\r\n        data: category,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateCategory = async (req, res) => {\r\n  try {\r\n    const categoryid = req.params.categoryid;\r\n    const { name, description } = req.body;\r\n    const category = await CategoryModel.updateOne(\r\n      { _id: categoryid },\r\n      {\r\n        $set: {\r\n          name: name,\r\n          description: description,\r\n        },\r\n      }\r\n    );\r\n    if (category.acknowledged) {\r\n      return res.status(200).json({\r\n        message: \"Updated!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteCategory = async (req, res) => {\r\n  try {\r\n    const categoryid = req.params.categoryid;\r\n    const category = await CategoryModel.deleteOne({ _id: categoryid });\r\n    if (category.acknowledged) {\r\n      return res.status(200).json({\r\n        message: \"Deleted!\",\r\n        success: true,\r\n      });a\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};"],"mappings":"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","ignoreList":[]}},"mtime":1715164761286},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\category.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst CategorySchema = new Schema({\n  categoryname: {\n    type: String,\n    required: true\n  },\n  categorytype: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    default: null\n  },\n  description: {\n    type: String,\n    default: null\n  },\n  status: {\n    type: Number,\n    default: 1\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"category\", CategorySchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJDYXRlZ29yeVNjaGVtYSIsImNhdGVnb3J5bmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImNhdGVnb3J5dHlwZSIsImltYWdlIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJOdW1iZXIiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsIm5vdyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiY2F0ZWdvcnkubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBDYXRlZ29yeVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIGNhdGVnb3J5bmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBjYXRlZ29yeXR5cGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcblxyXG4gIGltYWdlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsLFxyXG4gIH0sXHJcblxyXG5kZXNjcmlwdGlvbjp7XHJcbiAgdHlwZTpTdHJpbmcsXHJcbiAgZGVmYXVsdDpudWxsXHJcbn0sXHJcblxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcblxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcnlcIiwgQ2F0ZWdvcnlTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsY0FBYyxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUNoQ0csWUFBWSxFQUFFO0lBQ1pDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLFlBQVksRUFBRTtJQUNaSCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUVERSxLQUFLLEVBQUU7SUFDTEosSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFFSFUsV0FBVyxFQUFDO0lBQ1ZMLElBQUksRUFBQ0MsTUFBTTtJQUNYTixPQUFPLEVBQUM7RUFDVixDQUFDO0VBRUNXLE1BQU0sRUFBRTtJQUNOTixJQUFJLEVBQUVPLE1BQU07SUFDWlosT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEYSxVQUFVLEVBQUU7SUFDVlIsSUFBSSxFQUFFUyxJQUFJO0lBQ1ZkLE9BQU8sRUFBRWMsSUFBSSxDQUFDQyxHQUFHLENBQUM7RUFDcEI7QUFFRixDQUFDLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWpCLE9BQUEsR0FFWUUsaUJBQVEsQ0FBQ2dCLEtBQUssQ0FBQyxVQUFVLEVBQUVmLGNBQWMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","CategorySchema","categoryname","type","String","required","categorytype","image","description","status","Number","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["category.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst CategorySchema = new Schema({\r\n  categoryname: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  categorytype: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n\r\n  image: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n\r\ndescription:{\r\n  type:String,\r\n  default:null\r\n},\r\n\r\n  status: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n\r\n});\r\n\r\nexport default mongoose.model(\"category\", CategorySchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,cAAc,GAAG,IAAIF,MAAM,CAAC;EAChCG,YAAY,EAAE;IACZC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,YAAY,EAAE;IACZH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EAEDE,KAAK,EAAE;IACLJ,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EAEHU,WAAW,EAAC;IACVL,IAAI,EAACC,MAAM;IACXN,OAAO,EAAC;EACV,CAAC;EAECW,MAAM,EAAE;IACNN,IAAI,EAAEO,MAAM;IACZZ,OAAO,EAAE;EACX,CAAC;EACDa,UAAU,EAAE;IACVR,IAAI,EAAES,IAAI;IACVd,OAAO,EAAEc,IAAI,CAACC,GAAG,CAAC;EACpB;AAEF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAjB,OAAA,GAEYE,iBAAQ,CAACgB,KAAK,CAAC,UAAU,EAAEf,cAAc,CAAC","ignoreList":[]}},"mtime":1715163779121},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\product.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _product = require(\"../controllers/product.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-product\", _product.addProduct);\nrouter.get(\"/get-products\", _product.getProducts);\nrouter.get(\"/get-products-aggr\", _product.getProductsAggr);\nrouter.get(\"/get-product/:productid\", _product.getProduct);\nrouter.put(\"/update-product/:productid\", _product.updateProduct);\nrouter.delete(\"/delete-product/:productid\", _product.deleteProduct);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3QiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkUHJvZHVjdCIsImdldCIsImdldFByb2R1Y3RzIiwiZ2V0UHJvZHVjdHNBZ2dyIiwiZ2V0UHJvZHVjdCIsInB1dCIsInVwZGF0ZVByb2R1Y3QiLCJkZWxldGUiLCJkZWxldGVQcm9kdWN0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3Qucm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCB7XHJcbiAgYWRkUHJvZHVjdCxcclxuICBkZWxldGVQcm9kdWN0LFxyXG4gIGdldFByb2R1Y3QsXHJcbiAgZ2V0UHJvZHVjdHMsXHJcbiAgZ2V0UHJvZHVjdHNBZ2dyLFxyXG4gIHVwZGF0ZVByb2R1Y3QsXHJcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL3Byb2R1Y3QuY29udHJvbGxlclwiO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWRkLXByb2R1Y3RcIiwgYWRkUHJvZHVjdCk7XHJcbnJvdXRlci5nZXQoXCIvZ2V0LXByb2R1Y3RzXCIsIGdldFByb2R1Y3RzKTtcclxucm91dGVyLmdldChcIi9nZXQtcHJvZHVjdHMtYWdnclwiLCBnZXRQcm9kdWN0c0FnZ3IpO1xyXG5yb3V0ZXIuZ2V0KFwiL2dldC1wcm9kdWN0Lzpwcm9kdWN0aWRcIiwgZ2V0UHJvZHVjdCk7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXByb2R1Y3QvOnByb2R1Y3RpZFwiLCB1cGRhdGVQcm9kdWN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUtcHJvZHVjdC86cHJvZHVjdGlkXCIsIGRlbGV0ZVByb2R1Y3QpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUQsT0FBQTtBQU8yQyxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUMzQyxNQUFNRyxNQUFNLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRixNQUFNLENBQUNHLElBQUksQ0FBQyxjQUFjLEVBQUVDLG1CQUFVLENBQUM7QUFDdkNKLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLGVBQWUsRUFBRUMsb0JBQVcsQ0FBQztBQUN4Q04sTUFBTSxDQUFDSyxHQUFHLENBQUMsb0JBQW9CLEVBQUVFLHdCQUFlLENBQUM7QUFDakRQLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLHlCQUF5QixFQUFFRyxtQkFBVSxDQUFDO0FBQ2pEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyw0QkFBNEIsRUFBRUMsc0JBQWEsQ0FBQztBQUN2RFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsNEJBQTRCLEVBQUVDLHNCQUFhLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUU1Q0MsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_product","obj","__esModule","default","router","express","Router","post","addProduct","get","getProducts","getProductsAggr","getProduct","put","updateProduct","delete","deleteProduct","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["product.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addProduct,\r\n  deleteProduct,\r\n  getProduct,\r\n  getProducts,\r\n  getProductsAggr,\r\n  updateProduct,\r\n} from \"../controllers/product.controller\";\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-product\", addProduct);\r\nrouter.get(\"/get-products\", getProducts);\r\nrouter.get(\"/get-products-aggr\", getProductsAggr);\r\nrouter.get(\"/get-product/:productid\", getProduct);\r\nrouter.put(\"/update-product/:productid\", updateProduct);\r\nrouter.delete(\"/delete-product/:productid\", deleteProduct);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAO2C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,cAAc,EAAEC,mBAAU,CAAC;AACvCJ,MAAM,CAACK,GAAG,CAAC,eAAe,EAAEC,oBAAW,CAAC;AACxCN,MAAM,CAACK,GAAG,CAAC,oBAAoB,EAAEE,wBAAe,CAAC;AACjDP,MAAM,CAACK,GAAG,CAAC,yBAAyB,EAAEG,mBAAU,CAAC;AACjDR,MAAM,CAACS,GAAG,CAAC,4BAA4B,EAAEC,sBAAa,CAAC;AACvDV,MAAM,CAACW,MAAM,CAAC,4BAA4B,EAAEC,sBAAa,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAE5CC,MAAM","ignoreList":[]}},"mtime":1715167858626},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\product.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateProduct = exports.getProductsAggr = exports.getProducts = exports.getProduct = exports.deleteProduct = exports.addProduct = void 0;\nvar _product = _interopRequireDefault(require(\"../models/product.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    if (_fs.default.existsSync(\"./uploads\")) {\n      cb(null, \"./uploads\");\n    } else {\n      _fs.default.mkdirSync(\"./uploads\");\n      cb(null, \"./uploads\");\n    }\n  },\n  filename: function (req, file, cb) {\n    const orgName = file.originalname;\n    console.log(orgName);\n    const ext = _path.default.parse(orgName).ext;\n    const name = _path.default.parse(orgName).name;\n    const fullname = name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst addProduct = async (req, res) => {\n  try {\n    const fileWithData = upload.fields([{\n      name: \"thumbnail\",\n      maxCount: 1\n    }, {\n      name: \"images\",\n      maxCount: 10\n    }]);\n    fileWithData(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      let img = null;\n      let imgArr = [];\n      if (req.files) {\n        if (req.files[\"thumbnail\"][0]) {\n          img = req.files[\"thumbnail\"][0].filename;\n        }\n        if (req.files[\"images\"]) {\n          imgArr = req.files[\"images\"].map(file => file.filename);\n        }\n      }\n      const {\n        title,\n        description,\n        short_description,\n        price,\n        quantity,\n        category\n      } = req.body;\n      const saveData = await _product.default.create({\n        title: title,\n        description: description,\n        short_description: short_description,\n        price: price,\n        quantity: quantity,\n        category: category,\n        thumbnail: img,\n        images: imgArr\n      });\n      if (saveData) {\n        return res.status(201).json({\n          data: saveData,\n          message: \"New record added\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addProduct = addProduct;\nconst getProducts = async (req, res) => {\n  try {\n    // Default values for page, limit, and search\n    const {\n      page = 1,\n      limit = 10,\n      search = \"s\",\n      sort\n    } = req.query;\n    console.log(page, limit, search);\n\n    // Skip number\n    const skipno = limit * (page - 1);\n\n    // generate pattern for filter with keywords\n    const rgx = pattern => {\n      return new RegExp(\".*\".concat(pattern, \".*\"));\n    };\n    const searchRgx = rgx(search);\n    let filter = {};\n    if (search) {\n      filter = {\n        $or: [{\n          title: {\n            $regex: searchRgx,\n            $options: \"i\"\n          }\n        }, {\n          description: {\n            $regex: searchRgx,\n            $options: \"i\"\n          }\n        }]\n      };\n    }\n\n    // sorting conditions\n    let sortValue = [\"_id\", 1];\n    if (sort == \"new\") {\n      sortValue = [\"_id\", -1];\n    }\n    if (sort == \"lth\") {\n      sortValue = [\"price\", 1];\n    }\n    if (sort == \"htl\") {\n      sortValue = [\"price\", -1];\n    }\n\n    // {{nodeport}}/products/get-products?limit=3&page=1\n    // {{nodeport}}/products/get-products?search=iph\n    // {{nodeport}}/products/get-products?sort=new   (new, lth,htl)\n    const products = await _product.default.find(filter).populate(\"category\").limit(parseInt(limit)) // Ensure limit is parsed as integer\n    .skip(skipno).sort([sortValue]);\n    if (products) {\n      return res.status(200).json({\n        count: products.length,\n        data: products,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProducts = getProducts;\nconst getProductsAggr = async (req, res) => {\n  try {\n    const products = await _product.default.aggregate([{\n      $lookup: {\n        from: \"categories\",\n        localField: \"category\",\n        foreignField: \"_id\",\n        as: \"categoryData\"\n      }\n    }, {\n      $unwind: \"$categoryData\"\n    }]);\n    if (products) {\n      return res.status(200).json({\n        count: products.length,\n        data: products,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProductsAggr = getProductsAggr;\nconst getProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    const product = await _product.default.findOne({\n      _id: productid\n    }).populate(\"category\");\n    if (product) {\n      return res.status(200).json({\n        data: product,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProduct = getProduct;\nconst updateProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    const {\n      title,\n      description,\n      short_description,\n      price,\n      quantity,\n      category\n    } = req.body;\n\n    // Handle file upload\n    let img = null;\n    let imgArr = [];\n    const fileWithData = upload.fields([{\n      name: \"thumbnail\",\n      maxCount: 1\n    }, {\n      name: \"images\",\n      maxCount: 10\n    }]);\n    fileWithData(req, res, async function (err) {\n      if (err) {\n        return res.status(400).json({\n          message: err.message,\n          success: false\n        });\n      }\n\n      // Extract uploaded file data\n      if (req.files) {\n        if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\n          img = req.files[\"thumbnail\"][0].filename;\n        }\n        if (req.files[\"images\"]) {\n          imgArr = req.files[\"images\"].map(file => file.filename);\n        }\n      }\n\n      // Update product in the database\n      const product = await _product.default.updateOne({\n        _id: productid\n      }, {\n        $set: {\n          title: title,\n          description: description,\n          short_description: short_description,\n          price: price,\n          quantity: quantity,\n          category: category,\n          thumbnail: img || req.body.thumbnail,\n          // If no new thumbnail, retain the old one\n          images: imgArr.length > 0 ? imgArr : req.body.images // If no new images, retain the old ones\n        }\n      });\n\n      // Check if the update was successful\n      if (product.ok === 1) {\n        return res.status(200).json({\n          message: \"Product updated successfully\",\n          success: true\n        });\n      } else {\n        return res.status(400).json({\n          message: \"Failed to update product\",\n          success: false\n        });\n      }\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateProduct = updateProduct;\nconst deleteProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    // Retrieve the product from the database\n    const product = await _product.default.findOne({\n      _id: productid\n    });\n    if (!product) {\n      return res.status(404).json({\n        message: \"Product not found\",\n        success: false\n      });\n    }\n\n    // Delete associated files from the file system\n    if (product.thumbnail) {\n      _fs.default.unlinkSync(\"./uploads/\" + product.thumbnail);\n    }\n    if (product.images && product.images.length > 0) {\n      product.images.forEach(image => {\n        _fs.default.unlinkSync(\"./uploads/\" + image);\n      });\n    }\n\n    // Delete the product from the database\n    const deleteResult = await _product.default.deleteOne({\n      _id: productid\n    });\n    if (deleteResult.acknowledged) {\n      return res.status(200).json({\n        message: \"Product deleted successfully\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Failed to delete product\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteProduct = deleteProduct;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9mcyIsIl9wYXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZzIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImZpbGVuYW1lIiwib3JnTmFtZSIsIm9yaWdpbmFsbmFtZSIsImNvbnNvbGUiLCJsb2ciLCJleHQiLCJwYXRoIiwicGFyc2UiLCJuYW1lIiwiZnVsbG5hbWUiLCJEYXRlIiwibm93IiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwidXBsb2FkIiwiYWRkUHJvZHVjdCIsInJlcyIsImZpbGVXaXRoRGF0YSIsImZpZWxkcyIsIm1heENvdW50IiwiZXJyIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJzdWNjZXNzIiwiaW1nIiwiaW1nQXJyIiwiZmlsZXMiLCJtYXAiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwic2hvcnRfZGVzY3JpcHRpb24iLCJwcmljZSIsInF1YW50aXR5IiwiY2F0ZWdvcnkiLCJib2R5Iiwic2F2ZURhdGEiLCJwcm9kdWN0TW9kZWwiLCJjcmVhdGUiLCJ0aHVtYm5haWwiLCJpbWFnZXMiLCJkYXRhIiwiZXhwb3J0cyIsImdldFByb2R1Y3RzIiwicGFnZSIsImxpbWl0Iiwic2VhcmNoIiwic29ydCIsInF1ZXJ5Iiwic2tpcG5vIiwicmd4IiwicGF0dGVybiIsIlJlZ0V4cCIsImNvbmNhdCIsInNlYXJjaFJneCIsImZpbHRlciIsIiRvciIsIiRyZWdleCIsIiRvcHRpb25zIiwic29ydFZhbHVlIiwicHJvZHVjdHMiLCJmaW5kIiwicG9wdWxhdGUiLCJwYXJzZUludCIsInNraXAiLCJjb3VudCIsImxlbmd0aCIsImdldFByb2R1Y3RzQWdnciIsImFnZ3JlZ2F0ZSIsIiRsb29rdXAiLCJmcm9tIiwibG9jYWxGaWVsZCIsImZvcmVpZ25GaWVsZCIsImFzIiwiJHVud2luZCIsImdldFByb2R1Y3QiLCJwcm9kdWN0aWQiLCJwYXJhbXMiLCJwcm9kdWN0IiwiZmluZE9uZSIsIl9pZCIsInVwZGF0ZVByb2R1Y3QiLCJ1cGRhdGVPbmUiLCIkc2V0Iiwib2siLCJkZWxldGVQcm9kdWN0IiwidW5saW5rU3luYyIsImZvckVhY2giLCJpbWFnZSIsImRlbGV0ZVJlc3VsdCIsImRlbGV0ZU9uZSIsImFja25vd2xlZGdlZCJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsicHJvZHVjdC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcm9kdWN0TW9kZWwgZnJvbSBcIi4uL21vZGVscy9wcm9kdWN0Lm1vZGVsXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoXCIuL3VwbG9hZHNcIikpIHtcclxuICAgICAgY2IobnVsbCwgXCIuL3VwbG9hZHNcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmcy5ta2RpclN5bmMoXCIuL3VwbG9hZHNcIik7XHJcbiAgICAgIGNiKG51bGwsIFwiLi91cGxvYWRzXCIpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjb25zdCBvcmdOYW1lID0gZmlsZS5vcmlnaW5hbG5hbWU7XHJcbiAgICBjb25zb2xlLmxvZyhvcmdOYW1lKTtcclxuICAgIGNvbnN0IGV4dCA9IHBhdGgucGFyc2Uob3JnTmFtZSkuZXh0O1xyXG4gICAgY29uc3QgbmFtZSA9IHBhdGgucGFyc2Uob3JnTmFtZSkubmFtZTtcclxuICAgIGNvbnN0IGZ1bGxuYW1lID1cclxuICAgICAgbmFtZSArIFwiLVwiICsgRGF0ZS5ub3coKSArIFwiXCIgKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxZTkpICsgZXh0O1xyXG5cclxuICAgIGNiKG51bGwsIGZ1bGxuYW1lKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2UgfSk7XHJcblxyXG5leHBvcnQgY29uc3QgYWRkUHJvZHVjdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBmaWxlV2l0aERhdGEgPSB1cGxvYWQuZmllbGRzKFtcclxuICAgICAgeyBuYW1lOiBcInRodW1ibmFpbFwiLCBtYXhDb3VudDogMSB9LFxyXG4gICAgICB7IG5hbWU6IFwiaW1hZ2VzXCIsIG1heENvdW50OiAxMCB9LFxyXG4gICAgXSk7XHJcblxyXG4gICAgZmlsZVdpdGhEYXRhKHJlcSwgcmVzLCBhc3luYyBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogZXJyLm1lc3NhZ2UsIHN1Y2Nlc3M6IGZhbHNlIH0pO1xyXG4gICAgICBsZXQgaW1nID0gbnVsbDtcclxuICAgICAgbGV0IGltZ0FyciA9IFtdO1xyXG4gICAgICBpZiAocmVxLmZpbGVzKSB7XHJcbiAgICAgICAgaWYgKHJlcS5maWxlc1tcInRodW1ibmFpbFwiXVswXSkge1xyXG4gICAgICAgICAgaW1nID0gcmVxLmZpbGVzW1widGh1bWJuYWlsXCJdWzBdLmZpbGVuYW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlcS5maWxlc1tcImltYWdlc1wiXSkge1xyXG4gICAgICAgICAgaW1nQXJyID0gcmVxLmZpbGVzW1wiaW1hZ2VzXCJdLm1hcCgoZmlsZSkgPT4gZmlsZS5maWxlbmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgc2hvcnRfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgcHJpY2UsXHJcbiAgICAgICAgcXVhbnRpdHksXHJcbiAgICAgICAgY2F0ZWdvcnksXHJcbiAgICAgIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICAgIGNvbnN0IHNhdmVEYXRhID0gYXdhaXQgcHJvZHVjdE1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgICAgICBzaG9ydF9kZXNjcmlwdGlvbjogc2hvcnRfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgcHJpY2U6IHByaWNlLFxyXG4gICAgICAgIHF1YW50aXR5OiBxdWFudGl0eSxcclxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgdGh1bWJuYWlsOiBpbWcsXHJcbiAgICAgICAgaW1hZ2VzOiBpbWdBcnIsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHNhdmVEYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgIGRhdGE6IHNhdmVEYXRhLFxyXG4gICAgICAgICAgbWVzc2FnZTogXCJOZXcgcmVjb3JkIGFkZGVkXCIsXHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBEZWZhdWx0IHZhbHVlcyBmb3IgcGFnZSwgbGltaXQsIGFuZCBzZWFyY2hcclxuICAgIGNvbnN0IHsgcGFnZSA9IDEsIGxpbWl0ID0gMTAsIHNlYXJjaCA9IFwic1wiLCBzb3J0IH0gPSByZXEucXVlcnk7XHJcbiAgICBjb25zb2xlLmxvZyhwYWdlLCBsaW1pdCwgc2VhcmNoKTtcclxuXHJcbiAgICAvLyBTa2lwIG51bWJlclxyXG4gICAgY29uc3Qgc2tpcG5vID0gbGltaXQgKiAocGFnZSAtIDEpO1xyXG5cclxuICAgIC8vIGdlbmVyYXRlIHBhdHRlcm4gZm9yIGZpbHRlciB3aXRoIGtleXdvcmRzXHJcbiAgICBjb25zdCByZ3ggPSAocGF0dGVybikgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IFJlZ0V4cChgLioke3BhdHRlcm59LipgKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBzZWFyY2hSZ3ggPSByZ3goc2VhcmNoKTtcclxuXHJcbiAgICBsZXQgZmlsdGVyID0ge307XHJcbiAgICBpZiAoc2VhcmNoKSB7XHJcbiAgICAgIGZpbHRlciA9IHtcclxuICAgICAgICAkb3I6IFtcclxuICAgICAgICAgIHsgdGl0bGU6IHsgJHJlZ2V4OiBzZWFyY2hSZ3gsICRvcHRpb25zOiBcImlcIiB9IH0sXHJcbiAgICAgICAgICB7IGRlc2NyaXB0aW9uOiB7ICRyZWdleDogc2VhcmNoUmd4LCAkb3B0aW9uczogXCJpXCIgfSB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc29ydGluZyBjb25kaXRpb25zXHJcbiAgICBsZXQgc29ydFZhbHVlID0gW1wiX2lkXCIsIDFdO1xyXG4gICAgaWYgKHNvcnQgPT0gXCJuZXdcIikge1xyXG4gICAgICBzb3J0VmFsdWUgPSBbXCJfaWRcIiwgLTFdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzb3J0ID09IFwibHRoXCIpIHtcclxuICAgICAgc29ydFZhbHVlID0gW1wicHJpY2VcIiwgMV07XHJcbiAgICB9XHJcbiAgICBpZiAoc29ydCA9PSBcImh0bFwiKSB7XHJcbiAgICAgIHNvcnRWYWx1ZSA9IFtcInByaWNlXCIsIC0xXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB7e25vZGVwb3J0fX0vcHJvZHVjdHMvZ2V0LXByb2R1Y3RzP2xpbWl0PTMmcGFnZT0xXHJcbiAgICAvLyB7e25vZGVwb3J0fX0vcHJvZHVjdHMvZ2V0LXByb2R1Y3RzP3NlYXJjaD1pcGhcclxuICAgIC8vIHt7bm9kZXBvcnR9fS9wcm9kdWN0cy9nZXQtcHJvZHVjdHM/c29ydD1uZXcgICAobmV3LCBsdGgsaHRsKVxyXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBwcm9kdWN0TW9kZWxcclxuICAgICAgLmZpbmQoZmlsdGVyKVxyXG4gICAgICAucG9wdWxhdGUoXCJjYXRlZ29yeVwiKVxyXG4gICAgICAubGltaXQocGFyc2VJbnQobGltaXQpKSAvLyBFbnN1cmUgbGltaXQgaXMgcGFyc2VkIGFzIGludGVnZXJcclxuICAgICAgLnNraXAoc2tpcG5vKVxyXG4gICAgICAuc29ydChbc29ydFZhbHVlXSk7XHJcbiAgICBpZiAocHJvZHVjdHMpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBjb3VudDogcHJvZHVjdHMubGVuZ3RoLFxyXG4gICAgICAgIGRhdGE6IHByb2R1Y3RzLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0c0FnZ3IgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBwcm9kdWN0TW9kZWwuYWdncmVnYXRlKFtcclxuICAgICAge1xyXG4gICAgICAgICRsb29rdXA6IHtcclxuICAgICAgICAgIGZyb206IFwiY2F0ZWdvcmllc1wiLFxyXG4gICAgICAgICAgbG9jYWxGaWVsZDogXCJjYXRlZ29yeVwiLFxyXG4gICAgICAgICAgZm9yZWlnbkZpZWxkOiBcIl9pZFwiLFxyXG4gICAgICAgICAgYXM6IFwiY2F0ZWdvcnlEYXRhXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgeyAkdW53aW5kOiBcIiRjYXRlZ29yeURhdGFcIiB9LFxyXG4gICAgXSk7XHJcblxyXG4gICAgaWYgKHByb2R1Y3RzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgY291bnQ6IHByb2R1Y3RzLmxlbmd0aCxcclxuICAgICAgICBkYXRhOiBwcm9kdWN0cyxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHByb2R1Y3RpZCA9IHJlcS5wYXJhbXMucHJvZHVjdGlkO1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbFxyXG4gICAgICAuZmluZE9uZSh7IF9pZDogcHJvZHVjdGlkIH0pXHJcbiAgICAgIC5wb3B1bGF0ZShcImNhdGVnb3J5XCIpO1xyXG4gICAgaWYgKHByb2R1Y3QpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBwcm9kdWN0LFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHByb2R1Y3RpZCA9IHJlcS5wYXJhbXMucHJvZHVjdGlkO1xyXG4gICAgY29uc3QgeyB0aXRsZSwgZGVzY3JpcHRpb24sIHNob3J0X2Rlc2NyaXB0aW9uLCBwcmljZSwgcXVhbnRpdHksIGNhdGVnb3J5IH0gPVxyXG4gICAgICByZXEuYm9keTtcclxuXHJcbiAgICAvLyBIYW5kbGUgZmlsZSB1cGxvYWRcclxuICAgIGxldCBpbWcgPSBudWxsO1xyXG4gICAgbGV0IGltZ0FyciA9IFtdO1xyXG4gICAgY29uc3QgZmlsZVdpdGhEYXRhID0gdXBsb2FkLmZpZWxkcyhbXHJcbiAgICAgIHsgbmFtZTogXCJ0aHVtYm5haWxcIiwgbWF4Q291bnQ6IDEgfSxcclxuICAgICAgeyBuYW1lOiBcImltYWdlc1wiLCBtYXhDb3VudDogMTAgfSxcclxuICAgIF0pO1xyXG5cclxuICAgIGZpbGVXaXRoRGF0YShyZXEsIHJlcywgYXN5bmMgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogZXJyLm1lc3NhZ2UsIHN1Y2Nlc3M6IGZhbHNlIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBFeHRyYWN0IHVwbG9hZGVkIGZpbGUgZGF0YVxyXG4gICAgICBpZiAocmVxLmZpbGVzKSB7XHJcbiAgICAgICAgaWYgKHJlcS5maWxlc1tcInRodW1ibmFpbFwiXSAmJiByZXEuZmlsZXNbXCJ0aHVtYm5haWxcIl1bMF0pIHtcclxuICAgICAgICAgIGltZyA9IHJlcS5maWxlc1tcInRodW1ibmFpbFwiXVswXS5maWxlbmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcS5maWxlc1tcImltYWdlc1wiXSkge1xyXG4gICAgICAgICAgaW1nQXJyID0gcmVxLmZpbGVzW1wiaW1hZ2VzXCJdLm1hcCgoZmlsZSkgPT4gZmlsZS5maWxlbmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBVcGRhdGUgcHJvZHVjdCBpbiB0aGUgZGF0YWJhc2VcclxuICAgICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC51cGRhdGVPbmUoXHJcbiAgICAgICAgeyBfaWQ6IHByb2R1Y3RpZCB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIHNob3J0X2Rlc2NyaXB0aW9uOiBzaG9ydF9kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgcHJpY2U6IHByaWNlLFxyXG4gICAgICAgICAgICBxdWFudGl0eTogcXVhbnRpdHksXHJcbiAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcclxuICAgICAgICAgICAgdGh1bWJuYWlsOiBpbWcgfHwgcmVxLmJvZHkudGh1bWJuYWlsLCAvLyBJZiBubyBuZXcgdGh1bWJuYWlsLCByZXRhaW4gdGhlIG9sZCBvbmVcclxuICAgICAgICAgICAgaW1hZ2VzOiBpbWdBcnIubGVuZ3RoID4gMCA/IGltZ0FyciA6IHJlcS5ib2R5LmltYWdlcywgLy8gSWYgbm8gbmV3IGltYWdlcywgcmV0YWluIHRoZSBvbGQgb25lc1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBDaGVjayBpZiB0aGUgdXBkYXRlIHdhcyBzdWNjZXNzZnVsXHJcbiAgICAgIGlmIChwcm9kdWN0Lm9rID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiUHJvZHVjdCB1cGRhdGVkIHN1Y2Nlc3NmdWxseVwiLCAgXHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byB1cGRhdGUgcHJvZHVjdFwiLFxyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdGlkID0gcmVxLnBhcmFtcy5wcm9kdWN0aWQ7XHJcbiAgICAvLyBSZXRyaWV2ZSB0aGUgcHJvZHVjdCBmcm9tIHRoZSBkYXRhYmFzZVxyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kT25lKHsgX2lkOiBwcm9kdWN0aWQgfSk7XHJcbiAgICBpZiAoIXByb2R1Y3QpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlByb2R1Y3Qgbm90IGZvdW5kXCIsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERlbGV0ZSBhc3NvY2lhdGVkIGZpbGVzIGZyb20gdGhlIGZpbGUgc3lzdGVtXHJcbiAgICBpZiAocHJvZHVjdC50aHVtYm5haWwpIHtcclxuICAgICAgZnMudW5saW5rU3luYyhcIi4vdXBsb2Fkcy9cIiArIHByb2R1Y3QudGh1bWJuYWlsKTtcclxuICAgIH1cclxuICAgIGlmIChwcm9kdWN0LmltYWdlcyAmJiBwcm9kdWN0LmltYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHByb2R1Y3QuaW1hZ2VzLmZvckVhY2goKGltYWdlKSA9PiB7XHJcbiAgICAgICAgZnMudW5saW5rU3luYyhcIi4vdXBsb2Fkcy9cIiArIGltYWdlKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVsZXRlIHRoZSBwcm9kdWN0IGZyb20gdGhlIGRhdGFiYXNlXHJcbiAgICBjb25zdCBkZWxldGVSZXN1bHQgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZGVsZXRlT25lKHsgX2lkOiBwcm9kdWN0aWQgfSk7XHJcbiAgICBpZiAoZGVsZXRlUmVzdWx0LmFja25vd2xlZGdlZCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiUHJvZHVjdCBkZWxldGVkIHN1Y2Nlc3NmdWxseVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gZGVsZXRlIHByb2R1Y3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBd0IsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFB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","map":{"version":3,"names":["_product","_interopRequireDefault","require","_multer","_fs","_path","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","fs","existsSync","mkdirSync","filename","orgName","originalname","console","log","ext","path","parse","name","fullname","Date","now","Math","round","random","upload","addProduct","res","fileWithData","fields","maxCount","err","status","json","message","success","img","imgArr","files","map","title","description","short_description","price","quantity","category","body","saveData","productModel","create","thumbnail","images","data","exports","getProducts","page","limit","search","sort","query","skipno","rgx","pattern","RegExp","concat","searchRgx","filter","$or","$regex","$options","sortValue","products","find","populate","parseInt","skip","count","length","getProductsAggr","aggregate","$lookup","from","localField","foreignField","as","$unwind","getProduct","productid","params","product","findOne","_id","updateProduct","updateOne","$set","ok","deleteProduct","unlinkSync","forEach","image","deleteResult","deleteOne","acknowledged"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["product.controller.js"],"sourcesContent":["import productModel from \"../models/product.model\";\r\nimport multer from \"multer\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    if (fs.existsSync(\"./uploads\")) {\r\n      cb(null, \"./uploads\");\r\n    } else {\r\n      fs.mkdirSync(\"./uploads\");\r\n      cb(null, \"./uploads\");\r\n    }\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const orgName = file.originalname;\r\n    console.log(orgName);\r\n    const ext = path.parse(orgName).ext;\r\n    const name = path.parse(orgName).name;\r\n    const fullname =\r\n      name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\r\n\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nexport const addProduct = async (req, res) => {\r\n  try {\r\n    const fileWithData = upload.fields([\r\n      { name: \"thumbnail\", maxCount: 1 },\r\n      { name: \"images\", maxCount: 10 },\r\n    ]);\r\n\r\n    fileWithData(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      let img = null;\r\n      let imgArr = [];\r\n      if (req.files) {\r\n        if (req.files[\"thumbnail\"][0]) {\r\n          img = req.files[\"thumbnail\"][0].filename;\r\n        }\r\n\r\n        if (req.files[\"images\"]) {\r\n          imgArr = req.files[\"images\"].map((file) => file.filename);\r\n        }\r\n      }\r\n\r\n      const {\r\n        title,\r\n        description,\r\n        short_description,\r\n        price,\r\n        quantity,\r\n        category,\r\n      } = req.body;\r\n\r\n      const saveData = await productModel.create({\r\n        title: title,\r\n        description: description,\r\n        short_description: short_description,\r\n        price: price,\r\n        quantity: quantity,\r\n        category: category,\r\n        thumbnail: img,\r\n        images: imgArr,\r\n      });\r\n\r\n      if (saveData) {\r\n        return res.status(201).json({\r\n          data: saveData,\r\n          message: \"New record added\",\r\n          success: true,\r\n        });\r\n      }\r\n\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProducts = async (req, res) => {\r\n  try {\r\n    // Default values for page, limit, and search\r\n    const { page = 1, limit = 10, search = \"s\", sort } = req.query;\r\n    console.log(page, limit, search);\r\n\r\n    // Skip number\r\n    const skipno = limit * (page - 1);\r\n\r\n    // generate pattern for filter with keywords\r\n    const rgx = (pattern) => {\r\n      return new RegExp(`.*${pattern}.*`);\r\n    };\r\n    const searchRgx = rgx(search);\r\n\r\n    let filter = {};\r\n    if (search) {\r\n      filter = {\r\n        $or: [\r\n          { title: { $regex: searchRgx, $options: \"i\" } },\r\n          { description: { $regex: searchRgx, $options: \"i\" } },\r\n        ],\r\n      };\r\n    }\r\n\r\n    // sorting conditions\r\n    let sortValue = [\"_id\", 1];\r\n    if (sort == \"new\") {\r\n      sortValue = [\"_id\", -1];\r\n    }\r\n\r\n    if (sort == \"lth\") {\r\n      sortValue = [\"price\", 1];\r\n    }\r\n    if (sort == \"htl\") {\r\n      sortValue = [\"price\", -1];\r\n    }\r\n\r\n    // {{nodeport}}/products/get-products?limit=3&page=1\r\n    // {{nodeport}}/products/get-products?search=iph\r\n    // {{nodeport}}/products/get-products?sort=new   (new, lth,htl)\r\n    const products = await productModel\r\n      .find(filter)\r\n      .populate(\"category\")\r\n      .limit(parseInt(limit)) // Ensure limit is parsed as integer\r\n      .skip(skipno)\r\n      .sort([sortValue]);\r\n    if (products) {\r\n      return res.status(200).json({\r\n        count: products.length,\r\n        data: products,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProductsAggr = async (req, res) => {\r\n  try {\r\n    const products = await productModel.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: \"categories\",\r\n          localField: \"category\",\r\n          foreignField: \"_id\",\r\n          as: \"categoryData\",\r\n        },\r\n      },\r\n      { $unwind: \"$categoryData\" },\r\n    ]);\r\n\r\n    if (products) {\r\n      return res.status(200).json({\r\n        count: products.length,\r\n        data: products,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\nexport const getProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    const product = await productModel\r\n      .findOne({ _id: productid })\r\n      .populate(\"category\");\r\n    if (product) {\r\n      return res.status(200).json({\r\n        data: product,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    const { title, description, short_description, price, quantity, category } =\r\n      req.body;\r\n\r\n    // Handle file upload\r\n    let img = null;\r\n    let imgArr = [];\r\n    const fileWithData = upload.fields([\r\n      { name: \"thumbnail\", maxCount: 1 },\r\n      { name: \"images\", maxCount: 10 },\r\n    ]);\r\n\r\n    fileWithData(req, res, async function (err) {\r\n      if (err) {\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      }\r\n\r\n      // Extract uploaded file data\r\n      if (req.files) {\r\n        if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\r\n          img = req.files[\"thumbnail\"][0].filename;\r\n        }\r\n        if (req.files[\"images\"]) {\r\n          imgArr = req.files[\"images\"].map((file) => file.filename);\r\n        }\r\n      }\r\n\r\n      // Update product in the database\r\n      const product = await productModel.updateOne(\r\n        { _id: productid },\r\n        {\r\n          $set: {\r\n            title: title,\r\n            description: description,\r\n            short_description: short_description,\r\n            price: price,\r\n            quantity: quantity,\r\n            category: category,\r\n            thumbnail: img || req.body.thumbnail, // If no new thumbnail, retain the old one\r\n            images: imgArr.length > 0 ? imgArr : req.body.images, // If no new images, retain the old ones\r\n          },\r\n        }\r\n      );\r\n\r\n      // Check if the update was successful\r\n      if (product.ok === 1) {\r\n        return res.status(200).json({\r\n          message: \"Product updated successfully\",  \r\n          success: true,\r\n        });\r\n      } else {\r\n        return res.status(400).json({\r\n          message: \"Failed to update product\",\r\n          success: false,\r\n        });\r\n      }\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    // Retrieve the product from the database\r\n    const product = await productModel.findOne({ _id: productid });\r\n    if (!product) {\r\n      return res.status(404).json({\r\n        message: \"Product not found\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    // Delete associated files from the file system\r\n    if (product.thumbnail) {\r\n      fs.unlinkSync(\"./uploads/\" + product.thumbnail);\r\n    }\r\n    if (product.images && product.images.length > 0) {\r\n      product.images.forEach((image) => {\r\n        fs.unlinkSync(\"./uploads/\" + image);\r\n      });\r\n    }\r\n\r\n    // Delete the product from the database\r\n    const deleteResult = await productModel.deleteOne({ _id: productid });\r\n    if (deleteResult.acknowledged) {\r\n      return res.status(200).json({\r\n        message: \"Product deleted successfully\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Failed to delete product\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAwB,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACxB,MAAMG,OAAO,GAAGC,eAAM,CAACC,WAAW,CAAC;EACjCC,WAAW,EAAE,SAAAA,CAAUC,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACpC,IAAIC,WAAE,CAACC,UAAU,CAAC,WAAW,CAAC,EAAE;MAC9BF,EAAE,CAAC,IAAI,EAAE,WAAW,CAAC;IACvB,CAAC,MAAM;MACLC,WAAE,CAACE,SAAS,CAAC,WAAW,CAAC;MACzBH,EAAE,CAAC,IAAI,EAAE,WAAW,CAAC;IACvB;EACF,CAAC;EACDI,QAAQ,EAAE,SAAAA,CAAUN,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACjC,MAAMK,OAAO,GAAGN,IAAI,CAACO,YAAY;IACjCC,OAAO,CAACC,GAAG,CAACH,OAAO,CAAC;IACpB,MAAMI,GAAG,GAAGC,aAAI,CAACC,KAAK,CAACN,OAAO,CAAC,CAACI,GAAG;IACnC,MAAMG,IAAI,GAAGF,aAAI,CAACC,KAAK,CAACN,OAAO,CAAC,CAACO,IAAI;IACrC,MAAMC,QAAQ,GACZD,IAAI,GAAG,GAAG,GAAGE,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC,GAAGT,GAAG;IAEtET,EAAE,CAAC,IAAI,EAAEa,QAAQ,CAAC;EACpB;AACF,CAAC,CAAC;AAEF,MAAMM,MAAM,GAAG,IAAAxB,eAAM,EAAC;EAAED,OAAO,EAAEA;AAAQ,CAAC,CAAC;AAEpC,MAAM0B,UAAU,GAAG,MAAAA,CAAOtB,GAAG,EAAEuB,GAAG,KAAK;EAC5C,IAAI;IACF,MAAMC,YAAY,GAAGH,MAAM,CAACI,MAAM,CAAC,CACjC;MAAEX,IAAI,EAAE,WAAW;MAAEY,QAAQ,EAAE;IAAE,CAAC,EAClC;MAAEZ,IAAI,EAAE,QAAQ;MAAEY,QAAQ,EAAE;IAAG,CAAC,CACjC,CAAC;IAEFF,YAAY,CAACxB,GAAG,EAAEuB,GAAG,EAAE,gBAAgBI,GAAG,EAAE;MAC1C,IAAIA,GAAG,EACL,OAAOJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAEH,GAAG,CAACG,OAAO;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;MACvE,IAAIC,GAAG,GAAG,IAAI;MACd,IAAIC,MAAM,GAAG,EAAE;MACf,IAAIjC,GAAG,CAACkC,KAAK,EAAE;QACb,IAAIlC,GAAG,CAACkC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE;UAC7BF,GAAG,GAAGhC,GAAG,CAACkC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC5B,QAAQ;QAC1C;QAEA,IAAIN,GAAG,CAACkC,KAAK,CAAC,QAAQ,CAAC,EAAE;UACvBD,MAAM,GAAGjC,GAAG,CAACkC,KAAK,CAAC,QAAQ,CAAC,CAACC,GAAG,CAAElC,IAAI,IAAKA,IAAI,CAACK,QAAQ,CAAC;QAC3D;MACF;MAEA,MAAM;QACJ8B,KAAK;QACLC,WAAW;QACXC,iBAAiB;QACjBC,KAAK;QACLC,QAAQ;QACRC;MACF,CAAC,GAAGzC,GAAG,CAAC0C,IAAI;MAEZ,MAAMC,QAAQ,GAAG,MAAMC,gBAAY,CAACC,MAAM,CAAC;QACzCT,KAAK,EAAEA,KAAK;QACZC,WAAW,EAAEA,WAAW;QACxBC,iBAAiB,EAAEA,iBAAiB;QACpCC,KAAK,EAAEA,KAAK;QACZC,QAAQ,EAAEA,QAAQ;QAClBC,QAAQ,EAAEA,QAAQ;QAClBK,SAAS,EAAEd,GAAG;QACde,MAAM,EAAEd;MACV,CAAC,CAAC;MAEF,IAAIU,QAAQ,EAAE;QACZ,OAAOpB,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BmB,IAAI,EAAEL,QAAQ;UACdb,OAAO,EAAE,kBAAkB;UAC3BC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MAEA,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE,aAAa;QACtBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACkB,OAAA,CAAA3B,UAAA,GAAAA,UAAA;AAEK,MAAM4B,WAAW,GAAG,MAAAA,CAAOlD,GAAG,EAAEuB,GAAG,KAAK;EAC7C,IAAI;IACF;IACA,MAAM;MAAE4B,IAAI,GAAG,CAAC;MAAEC,KAAK,GAAG,EAAE;MAAEC,MAAM,GAAG,GAAG;MAAEC;IAAK,CAAC,GAAGtD,GAAG,CAACuD,KAAK;IAC9D9C,OAAO,CAACC,GAAG,CAACyC,IAAI,EAAEC,KAAK,EAAEC,MAAM,CAAC;;IAEhC;IACA,MAAMG,MAAM,GAAGJ,KAAK,IAAID,IAAI,GAAG,CAAC,CAAC;;IAEjC;IACA,MAAMM,GAAG,GAAIC,OAAO,IAAK;MACvB,OAAO,IAAIC,MAAM,MAAAC,MAAA,CAAMF,OAAO,OAAI,CAAC;IACrC,CAAC;IACD,MAAMG,SAAS,GAAGJ,GAAG,CAACJ,MAAM,CAAC;IAE7B,IAAIS,MAAM,GAAG,CAAC,CAAC;IACf,IAAIT,MAAM,EAAE;MACVS,MAAM,GAAG;QACPC,GAAG,EAAE,CACH;UAAE3B,KAAK,EAAE;YAAE4B,MAAM,EAAEH,SAAS;YAAEI,QAAQ,EAAE;UAAI;QAAE,CAAC,EAC/C;UAAE5B,WAAW,EAAE;YAAE2B,MAAM,EAAEH,SAAS;YAAEI,QAAQ,EAAE;UAAI;QAAE,CAAC;MAEzD,CAAC;IACH;;IAEA;IACA,IAAIC,SAAS,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC;IAC1B,IAAIZ,IAAI,IAAI,KAAK,EAAE;MACjBY,SAAS,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACzB;IAEA,IAAIZ,IAAI,IAAI,KAAK,EAAE;MACjBY,SAAS,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;IAC1B;IACA,IAAIZ,IAAI,IAAI,KAAK,EAAE;MACjBY,SAAS,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IAC3B;;IAEA;IACA;IACA;IACA,MAAMC,QAAQ,GAAG,MAAMvB,gBAAY,CAChCwB,IAAI,CAACN,MAAM,CAAC,CACZO,QAAQ,CAAC,UAAU,CAAC,CACpBjB,KAAK,CAACkB,QAAQ,CAAClB,KAAK,CAAC,CAAC,CAAC;IAAA,CACvBmB,IAAI,CAACf,MAAM,CAAC,CACZF,IAAI,CAAC,CAACY,SAAS,CAAC,CAAC;IACpB,IAAIC,QAAQ,EAAE;MACZ,OAAO5C,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1B2C,KAAK,EAAEL,QAAQ,CAACM,MAAM;QACtBzB,IAAI,EAAEmB,QAAQ;QACdrC,OAAO,EAAE,UAAU;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAE,aAAa;MACtBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACkB,OAAA,CAAAC,WAAA,GAAAA,WAAA;AAEK,MAAMwB,eAAe,GAAG,MAAAA,CAAO1E,GAAG,EAAEuB,GAAG,KAAK;EACjD,IAAI;IACF,MAAM4C,QAAQ,GAAG,MAAMvB,gBAAY,CAAC+B,SAAS,CAAC,CAC5C;MACEC,OAAO,EAAE;QACPC,IAAI,EAAE,YAAY;QAClBC,UAAU,EAAE,UAAU;QACtBC,YAAY,EAAE,KAAK;QACnBC,EAAE,EAAE;MACN;IACF,CAAC,EACD;MAAEC,OAAO,EAAE;IAAgB,CAAC,CAC7B,CAAC;IAEF,IAAId,QAAQ,EAAE;MACZ,OAAO5C,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1B2C,KAAK,EAAEL,QAAQ,CAACM,MAAM;QACtBzB,IAAI,EAAEmB,QAAQ;QACdrC,OAAO,EAAE,UAAU;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAE,aAAa;MACtBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACkB,OAAA,CAAAyB,eAAA,GAAAA,eAAA;AACK,MAAMQ,UAAU,GAAG,MAAAA,CAAOlF,GAAG,EAAEuB,GAAG,KAAK;EAC5C,IAAI;IACF,MAAM4D,SAAS,GAAGnF,GAAG,CAACoF,MAAM,CAACD,SAAS;IACtC,MAAME,OAAO,GAAG,MAAMzC,gBAAY,CAC/B0C,OAAO,CAAC;MAAEC,GAAG,EAAEJ;IAAU,CAAC,CAAC,CAC3Bd,QAAQ,CAAC,UAAU,CAAC;IACvB,IAAIgB,OAAO,EAAE;MACX,OAAO9D,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BmB,IAAI,EAAEqC,OAAO;QACbvD,OAAO,EAAE,UAAU;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAE,aAAa;MACtBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACkB,OAAA,CAAAiC,UAAA,GAAAA,UAAA;AAEK,MAAMM,aAAa,GAAG,MAAAA,CAAOxF,GAAG,EAAEuB,GAAG,KAAK;EAC/C,IAAI;IACF,MAAM4D,SAAS,GAAGnF,GAAG,CAACoF,MAAM,CAACD,SAAS;IACtC,MAAM;MAAE/C,KAAK;MAAEC,WAAW;MAAEC,iBAAiB;MAAEC,KAAK;MAAEC,QAAQ;MAAEC;IAAS,CAAC,GACxEzC,GAAG,CAAC0C,IAAI;;IAEV;IACA,IAAIV,GAAG,GAAG,IAAI;IACd,IAAIC,MAAM,GAAG,EAAE;IACf,MAAMT,YAAY,GAAGH,MAAM,CAACI,MAAM,CAAC,CACjC;MAAEX,IAAI,EAAE,WAAW;MAAEY,QAAQ,EAAE;IAAE,CAAC,EAClC;MAAEZ,IAAI,EAAE,QAAQ;MAAEY,QAAQ,EAAE;IAAG,CAAC,CACjC,CAAC;IAEFF,YAAY,CAACxB,GAAG,EAAEuB,GAAG,EAAE,gBAAgBI,GAAG,EAAE;MAC1C,IAAIA,GAAG,EAAE;QACP,OAAOJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAAEC,OAAO,EAAEH,GAAG,CAACG,OAAO;UAAEC,OAAO,EAAE;QAAM,CAAC,CAAC;MACvE;;MAEA;MACA,IAAI/B,GAAG,CAACkC,KAAK,EAAE;QACb,IAAIlC,GAAG,CAACkC,KAAK,CAAC,WAAW,CAAC,IAAIlC,GAAG,CAACkC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE;UACvDF,GAAG,GAAGhC,GAAG,CAACkC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC5B,QAAQ;QAC1C;QACA,IAAIN,GAAG,CAACkC,KAAK,CAAC,QAAQ,CAAC,EAAE;UACvBD,MAAM,GAAGjC,GAAG,CAACkC,KAAK,CAAC,QAAQ,CAAC,CAACC,GAAG,CAAElC,IAAI,IAAKA,IAAI,CAACK,QAAQ,CAAC;QAC3D;MACF;;MAEA;MACA,MAAM+E,OAAO,GAAG,MAAMzC,gBAAY,CAAC6C,SAAS,CAC1C;QAAEF,GAAG,EAAEJ;MAAU,CAAC,EAClB;QACEO,IAAI,EAAE;UACJtD,KAAK,EAAEA,KAAK;UACZC,WAAW,EAAEA,WAAW;UACxBC,iBAAiB,EAAEA,iBAAiB;UACpCC,KAAK,EAAEA,KAAK;UACZC,QAAQ,EAAEA,QAAQ;UAClBC,QAAQ,EAAEA,QAAQ;UAClBK,SAAS,EAAEd,GAAG,IAAIhC,GAAG,CAAC0C,IAAI,CAACI,SAAS;UAAE;UACtCC,MAAM,EAAEd,MAAM,CAACwC,MAAM,GAAG,CAAC,GAAGxC,MAAM,GAAGjC,GAAG,CAAC0C,IAAI,CAACK,MAAM,CAAE;QACxD;MACF,CACF,CAAC;;MAED;MACA,IAAIsC,OAAO,CAACM,EAAE,KAAK,CAAC,EAAE;QACpB,OAAOpE,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,8BAA8B;UACvCC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ,CAAC,MAAM;QACL,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,0BAA0B;UACnCC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACkB,OAAA,CAAAuC,aAAA,GAAAA,aAAA;AAEK,MAAMI,aAAa,GAAG,MAAAA,CAAO5F,GAAG,EAAEuB,GAAG,KAAK;EAC/C,IAAI;IACF,MAAM4D,SAAS,GAAGnF,GAAG,CAACoF,MAAM,CAACD,SAAS;IACtC;IACA,MAAME,OAAO,GAAG,MAAMzC,gBAAY,CAAC0C,OAAO,CAAC;MAAEC,GAAG,EAAEJ;IAAU,CAAC,CAAC;IAC9D,IAAI,CAACE,OAAO,EAAE;MACZ,OAAO9D,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE,mBAAmB;QAC5BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;;IAEA;IACA,IAAIsD,OAAO,CAACvC,SAAS,EAAE;MACrB3C,WAAE,CAAC0F,UAAU,CAAC,YAAY,GAAGR,OAAO,CAACvC,SAAS,CAAC;IACjD;IACA,IAAIuC,OAAO,CAACtC,MAAM,IAAIsC,OAAO,CAACtC,MAAM,CAAC0B,MAAM,GAAG,CAAC,EAAE;MAC/CY,OAAO,CAACtC,MAAM,CAAC+C,OAAO,CAAEC,KAAK,IAAK;QAChC5F,WAAE,CAAC0F,UAAU,CAAC,YAAY,GAAGE,KAAK,CAAC;MACrC,CAAC,CAAC;IACJ;;IAEA;IACA,MAAMC,YAAY,GAAG,MAAMpD,gBAAY,CAACqD,SAAS,CAAC;MAAEV,GAAG,EAAEJ;IAAU,CAAC,CAAC;IACrE,IAAIa,YAAY,CAACE,YAAY,EAAE;MAC7B,OAAO3E,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE,8BAA8B;QACvCC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,OAAOR,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAE,0BAA0B;MACnCC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOJ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACkB,OAAA,CAAA2C,aAAA,GAAAA,aAAA","ignoreList":[]}},"mtime":1715337964363},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\product.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _category = _interopRequireDefault(require(\"./category.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst productSchema = new Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: Schema.Types.ObjectId,\n    required: true,\n    ref: _category.default\n  },\n  description: {\n    type: String,\n    default: null\n  },\n  avaliablein: {\n    type: String,\n    default: null\n  },\n  quantity: {\n    type: Number,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  sizes: {\n    type: Array,\n    default: [34, 36, 38, 40, 42, 44, 46]\n  },\n  thumbnail: {\n    type: String,\n    default: null\n  },\n  images: {\n    type: [String],\n    default: [1, 2, 3, 4]\n  },\n  status: {\n    type: Number,\n    default: 1\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"product\", productSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jYXRlZ29yeSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJwcm9kdWN0U2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJjYXRlZ29yeSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJjYXRlZ29yeU1vZGVsIiwiZGVzY3JpcHRpb24iLCJhdmFsaWFibGVpbiIsInF1YW50aXR5IiwiTnVtYmVyIiwicHJpY2UiLCJzaXplcyIsIkFycmF5IiwidGh1bWJuYWlsIiwiaW1hZ2VzIiwic3RhdHVzIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3QubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgY2F0ZWdvcnlNb2RlbCBmcm9tIFwiLi9jYXRlZ29yeS5tb2RlbFwiO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBwcm9kdWN0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdGl0bGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgY2F0ZWdvcnk6IHtcclxuICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgcmVmOiBjYXRlZ29yeU1vZGVsLFxyXG4gIH0sXHJcbiAgZGVzY3JpcHRpb246IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgfSxcclxuICBhdmFsaWFibGVpbjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIHF1YW50aXR5OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHByaWNlOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG5cclxuICBzaXplczoge1xyXG4gICAgdHlwZTogQXJyYXksXHJcbiAgICBkZWZhdWx0OiBbMzQsIDM2LCAzOCwgNDAsIDQyLCA0NCwgNDZdLFxyXG4gIH0sXHJcbiAgdGh1bWJuYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsLFxyXG4gIH0sXHJcbiAgaW1hZ2VzOiB7XHJcbiAgICB0eXBlOiBbU3RyaW5nXSxcclxuICAgIGRlZmF1bHQ6IFsxLCAyLCAzLCA0XSxcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJwcm9kdWN0XCIsIHByb2R1Y3RTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QyxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUM3QyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsYUFBYSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUMvQkcsS0FBSyxFQUFFO0lBQ0xDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLFFBQVEsRUFBRTtJQUNSSCxJQUFJLEVBQUVKLE1BQU0sQ0FBQ1EsS0FBSyxDQUFDQyxRQUFRO0lBQzNCSCxRQUFRLEVBQUUsSUFBSTtJQUNkSSxHQUFHLEVBQUVDO0VBQ1AsQ0FBQztFQUNEQyxXQUFXLEVBQUU7SUFDWFIsSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRGMsV0FBVyxFQUFFO0lBQ1hULElBQUksRUFBRUMsTUFBTTtJQUNaTixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RlLFFBQVEsRUFBRTtJQUNSVixJQUFJLEVBQUVXLE1BQU07SUFDWlQsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNEVSxLQUFLLEVBQUU7SUFDTFosSUFBSSxFQUFFVyxNQUFNO0lBQ1pULFFBQVEsRUFBRTtFQUNaLENBQUM7RUFFRFcsS0FBSyxFQUFFO0lBQ0xiLElBQUksRUFBRWMsS0FBSztJQUNYbkIsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtFQUN0QyxDQUFDO0VBQ0RvQixTQUFTLEVBQUU7SUFDVGYsSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRHFCLE1BQU0sRUFBRTtJQUNOaEIsSUFBSSxFQUFFLENBQUNDLE1BQU0sQ0FBQztJQUNkTixPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0VBQ3RCLENBQUM7RUFDRHNCLE1BQU0sRUFBRTtJQUNOakIsSUFBSSxFQUFFVyxNQUFNO0lBQ1poQixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0R1QixVQUFVLEVBQUU7SUFDVmxCLElBQUksRUFBRW1CLElBQUk7SUFDVnhCLE9BQU8sRUFBRXdCLElBQUksQ0FBQ0MsR0FBRyxDQUFDO0VBQ3BCO0FBQ0YsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUEzQixPQUFBLEdBRVlFLGlCQUFRLENBQUMwQixLQUFLLENBQUMsU0FBUyxFQUFFekIsYUFBYSxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_category","obj","__esModule","default","Schema","mongoose","productSchema","title","type","String","required","category","Types","ObjectId","ref","categoryModel","description","avaliablein","quantity","Number","price","sizes","Array","thumbnail","images","status","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["product.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nimport categoryModel from \"./category.model\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst productSchema = new Schema({\r\n  title: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  category: {\r\n    type: Schema.Types.ObjectId,\r\n    required: true,\r\n    ref: categoryModel,\r\n  },\r\n  description: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  avaliablein: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  quantity: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  price: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n\r\n  sizes: {\r\n    type: Array,\r\n    default: [34, 36, 38, 40, 42, 44, 46],\r\n  },\r\n  thumbnail: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  images: {\r\n    type: [String],\r\n    default: [1, 2, 3, 4],\r\n  },\r\n  status: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"product\", productSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC7C,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,aAAa,GAAG,IAAIF,MAAM,CAAC;EAC/BG,KAAK,EAAE;IACLC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,QAAQ,EAAE;IACRH,IAAI,EAAEJ,MAAM,CAACQ,KAAK,CAACC,QAAQ;IAC3BH,QAAQ,EAAE,IAAI;IACdI,GAAG,EAAEC;EACP,CAAC;EACDC,WAAW,EAAE;IACXR,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDc,WAAW,EAAE;IACXT,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDe,QAAQ,EAAE;IACRV,IAAI,EAAEW,MAAM;IACZT,QAAQ,EAAE;EACZ,CAAC;EACDU,KAAK,EAAE;IACLZ,IAAI,EAAEW,MAAM;IACZT,QAAQ,EAAE;EACZ,CAAC;EAEDW,KAAK,EAAE;IACLb,IAAI,EAAEc,KAAK;IACXnB,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;EACtC,CAAC;EACDoB,SAAS,EAAE;IACTf,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDqB,MAAM,EAAE;IACNhB,IAAI,EAAE,CAACC,MAAM,CAAC;IACdN,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;EACtB,CAAC;EACDsB,MAAM,EAAE;IACNjB,IAAI,EAAEW,MAAM;IACZhB,OAAO,EAAE;EACX,CAAC;EACDuB,UAAU,EAAE;IACVlB,IAAI,EAAEmB,IAAI;IACVxB,OAAO,EAAEwB,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAA3B,OAAA,GAEYE,iBAAQ,CAAC0B,KAAK,CAAC,SAAS,EAAEzB,aAAa,CAAC","ignoreList":[]}},"mtime":1715804608148},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\user.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _user = require(\"../controllers/user.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-user\", _user.addUser);\nrouter.get(\"/get-users\", _user.getUsers);\nrouter.get(\"/get-user/:userid\", _user.getUser);\nrouter.put(\"/update-user/:userid\", _user.updateUser);\nrouter.delete(\"/delete-user/:userid\", _user.deleteUser);\n\n// Auth\nrouter.post(\"/sign-up\", _user.signUp);\nrouter.post(\"/login\", _user.login);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3VzZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkVXNlciIsImdldCIsImdldFVzZXJzIiwiZ2V0VXNlciIsInB1dCIsInVwZGF0ZVVzZXIiLCJkZWxldGUiLCJkZWxldGVVc2VyIiwic2lnblVwIiwibG9naW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsidXNlci5yb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHtcclxuICBhZGRVc2VyLFxyXG4gIGRlbGV0ZVVzZXIsXHJcbiAgZ2V0VXNlcixcclxuICBsb2dpbixcclxuICBzaWduVXAsXHJcbiAgZ2V0VXNlcnMsXHJcbiAgdXBkYXRlVXNlcixcclxufSBmcm9tIFwiLi4vY29udHJvbGxlcnMvdXNlci5jb250cm9sbGVyXCI7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWRkLXVzZXJcIiwgYWRkVXNlcik7XHJcbnJvdXRlci5nZXQoXCIvZ2V0LXVzZXJzXCIsIGdldFVzZXJzKTtcclxucm91dGVyLmdldChcIi9nZXQtdXNlci86dXNlcmlkXCIsIGdldFVzZXIpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS11c2VyLzp1c2VyaWRcIiwgdXBkYXRlVXNlcik7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXVzZXIvOnVzZXJpZFwiLCBkZWxldGVVc2VyKTtcclxuXHJcbi8vIEF1dGhcclxucm91dGVyLnBvc3QoXCIvc2lnbi11cFwiLCBzaWduVXApO1xyXG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBsb2dpbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBUXdDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXhDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLFdBQVcsRUFBRUMsYUFBTyxDQUFDO0FBQ2pDSixNQUFNLENBQUNLLEdBQUcsQ0FBQyxZQUFZLEVBQUVDLGNBQVEsQ0FBQztBQUNsQ04sTUFBTSxDQUFDSyxHQUFHLENBQUMsbUJBQW1CLEVBQUVFLGFBQU8sQ0FBQztBQUN4Q1AsTUFBTSxDQUFDUSxHQUFHLENBQUMsc0JBQXNCLEVBQUVDLGdCQUFVLENBQUM7QUFDOUNULE1BQU0sQ0FBQ1UsTUFBTSxDQUFDLHNCQUFzQixFQUFFQyxnQkFBVSxDQUFDOztBQUVqRDtBQUNBWCxNQUFNLENBQUNHLElBQUksQ0FBQyxVQUFVLEVBQUVTLFlBQU0sQ0FBQztBQUMvQlosTUFBTSxDQUFDRyxJQUFJLENBQUMsUUFBUSxFQUFFVSxXQUFLLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FFZEMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_user","obj","__esModule","default","router","express","Router","post","addUser","get","getUsers","getUser","put","updateUser","delete","deleteUser","signUp","login","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["user.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addUser,\r\n  deleteUser,\r\n  getUser,\r\n  login,\r\n  signUp,\r\n  getUsers,\r\n  updateUser,\r\n} from \"../controllers/user.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-user\", addUser);\r\nrouter.get(\"/get-users\", getUsers);\r\nrouter.get(\"/get-user/:userid\", getUser);\r\nrouter.put(\"/update-user/:userid\", updateUser);\r\nrouter.delete(\"/delete-user/:userid\", deleteUser);\r\n\r\n// Auth\r\nrouter.post(\"/sign-up\", signUp);\r\nrouter.post(\"/login\", login);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAQwC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,WAAW,EAAEC,aAAO,CAAC;AACjCJ,MAAM,CAACK,GAAG,CAAC,YAAY,EAAEC,cAAQ,CAAC;AAClCN,MAAM,CAACK,GAAG,CAAC,mBAAmB,EAAEE,aAAO,CAAC;AACxCP,MAAM,CAACQ,GAAG,CAAC,sBAAsB,EAAEC,gBAAU,CAAC;AAC9CT,MAAM,CAACU,MAAM,CAAC,sBAAsB,EAAEC,gBAAU,CAAC;;AAEjD;AACAX,MAAM,CAACG,IAAI,CAAC,UAAU,EAAES,YAAM,CAAC;AAC/BZ,MAAM,CAACG,IAAI,CAAC,QAAQ,EAAEU,WAAK,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEdC,MAAM","ignoreList":[]}},"mtime":1715687595630},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\user.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUser = exports.signUp = exports.login = exports.getUsers = exports.getUser = exports.deleteUser = exports.addUser = void 0;\nvar _user = _interopRequireDefault(require(\"../models/user.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    if (_fs.default.existsSync(\"./uploads\")) {\n      cb(null, \"./uploads\");\n    } else {\n      _fs.default.mkdirSync(\"./uploads\");\n      cb(null, \"./uploads\");\n    }\n  },\n  filename: function (req, file, cb) {\n    const orgName = file.originalname;\n    const ext = _path.default.parse(orgName).ext;\n    const name = _path.default.parse(orgName).name;\n    const fullname = name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst addUser = async (req, res) => {\n  try {\n    const dataWithFile = upload.single(\"avatar\");\n    dataWithFile(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      console.log(req.body);\n      console.log(req.file);\n      let img = null;\n      if (req.file) {\n        img = req.file.filename;\n      }\n      const {\n        name,\n        email,\n        password,\n        contact\n      } = req.body;\n      const saveData = await _user.default.create({\n        name: name,\n        email: email,\n        password: password,\n        contact: contact,\n        image: img\n      });\n      if (saveData) {\n        return res.status(201).json({\n          data: saveData,\n          message: \"New record added\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addUser = addUser;\nconst getUsers = async (req, res) => {\n  try {\n    const userData = await _user.default.find();\n    if (userData) {\n      return res.status(200).json({\n        data: userData,\n        message: \"Fetched!\",\n        success: true,\n        filepath: \"http://localhost:8001/uploads/\"\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getUsers = getUsers;\nconst getUser = async (req, res) => {\n  try {\n    const userid = req.params.userid;\n    const userData = await _user.default.findOne({\n      _id: userid\n    });\n    if (userData) {\n      return res.status(200).json({\n        data: userData,\n        message: \"Fetched!\",\n        success: true,\n        filepath: \"http://localhost:8001/uploads/\"\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getUser = getUser;\nconst updateUser = async (req, res) => {\n  try {\n    const dataWithFile = upload.single(\"avatar\");\n    dataWithFile(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      const userid = req.params.userid;\n      const existingUser = await _user.default.findOne({\n        _id: userid\n      });\n      let img = existingUser.image;\n      if (req.file) {\n        img = req.file.filename;\n        if (_fs.default.existsSync(\"./uploads/\" + existingUser.image)) {\n          _fs.default.unlinkSync(\"./uploads/\" + existingUser.image);\n        }\n      }\n      const {\n        name,\n        email,\n        password,\n        contact\n      } = req.body;\n\n      // Hash the password if it's provided\n      let hashedPassword = password;\n      if (password) {\n        hashedPassword = _bcrypt.default.hashSync(password, 10);\n      }\n      const user = await _user.default.updateOne({\n        _id: userid\n      }, {\n        $set: {\n          name: name,\n          email: email,\n          password: hashedPassword,\n          // Use the hashed password\n          contact: contact,\n          image: img\n        }\n      });\n      if (user.acknowledged) {\n        return res.status(200).json({\n          message: \"Updated!\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateUser = updateUser;\nconst deleteUser = async (req, res) => {\n  try {\n    const userid = req.params.userid;\n    const existingUser = await _user.default.findOne({\n      _id: userid\n    });\n    const user = await _user.default.deleteOne({\n      _id: userid\n    });\n    if (user.acknowledged) {\n      if (_fs.default.existsSync(\"./uploads/\" + existingUser.image)) {\n        _fs.default.unlinkSync(\"./uploads/\" + existingUser.image);\n      }\n      return res.status(200).json({\n        message: \"Deleted!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n/* ===========================\r\n        Auth\r\n=============================*/\nexports.deleteUser = deleteUser;\nconst signUp = async (req, res) => {\n  try {\n    const {\n      name,\n      email,\n      password,\n      contact\n    } = req.body;\n    const existUser = await _user.default.findOne({\n      email: email\n    });\n    if (existUser) {\n      return res.status(200).json({\n        message: \"User already exist\",\n        success: false\n      });\n    }\n    const hashPassword = _bcrypt.default.hashSync(password, 10);\n    console.log(hashPassword);\n    const saveData = await _user.default.create({\n      name: name,\n      email: email,\n      password: hashPassword,\n      contact: contact\n    });\n    if (saveData) {\n      return res.status(201).json({\n        data: saveData,\n        message: \"New record added\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.signUp = signUp;\nconst login = async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    const existingUser = await _user.default.findOne({\n      email: email\n    });\n    if (!existingUser) {\n      return res.status(400).json({\n        message: \"User doesn't exist!\",\n        success: false\n      });\n    }\n    const comparePassword = _bcrypt.default.compareSync(password, existingUser.password);\n    if (!comparePassword) {\n      return res.status(400).json({\n        message: \"Invalid credential\",\n        success: false\n      });\n    }\n\n    // If passwords match, generate JWT token\n    const token = _jsonwebtoken.default.sign({\n      id: existingUser._id,\n      email: existingUser.email\n    }, \"your_secret_key_here\",\n    // Replace with your secret key\n    {\n      expiresIn: \"1h\"\n    });\n\n    // Exclude password from response data\n    const responseData = {\n      ...existingUser.toObject()\n    };\n    delete responseData.password;\n\n    // Send token and user data in response\n    return res.status(200).json({\n      data: responseData,\n      token: token,\n      message: \"Successfully logged in\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.login = login;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX2ZzIiwiX2JjcnlwdCIsIl9qc29ud2VidG9rZW4iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZnMiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwiZmlsZW5hbWUiLCJvcmdOYW1lIiwib3JpZ2luYWxuYW1lIiwiZXh0IiwicGF0aCIsInBhcnNlIiwibmFtZSIsImZ1bGxuYW1lIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsInVwbG9hZCIsImFkZFVzZXIiLCJyZXMiLCJkYXRhV2l0aEZpbGUiLCJzaW5nbGUiLCJlcnIiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsImltZyIsImVtYWlsIiwicGFzc3dvcmQiLCJjb250YWN0Iiwic2F2ZURhdGEiLCJVc2VyTW9kZWwiLCJjcmVhdGUiLCJpbWFnZSIsImRhdGEiLCJleHBvcnRzIiwiZ2V0VXNlcnMiLCJ1c2VyRGF0YSIsImZpbmQiLCJmaWxlcGF0aCIsImdldFVzZXIiLCJ1c2VyaWQiLCJwYXJhbXMiLCJmaW5kT25lIiwiX2lkIiwidXBkYXRlVXNlciIsImV4aXN0aW5nVXNlciIsInVubGlua1N5bmMiLCJoYXNoZWRQYXNzd29yZCIsImJjcnlwdCIsImhhc2hTeW5jIiwidXNlciIsInVwZGF0ZU9uZSIsIiRzZXQiLCJhY2tub3dsZWRnZWQiLCJkZWxldGVVc2VyIiwiZGVsZXRlT25lIiwic2lnblVwIiwiZXhpc3RVc2VyIiwiaGFzaFBhc3N3b3JkIiwibG9naW4iLCJjb21wYXJlUGFzc3dvcmQiLCJjb21wYXJlU3luYyIsInRva2VuIiwiand0Iiwic2lnbiIsImlkIiwiZXhwaXJlc0luIiwicmVzcG9uc2VEYXRhIiwidG9PYmplY3QiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlck1vZGVsIGZyb20gXCIuLi9tb2RlbHMvdXNlci5tb2RlbFwiO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gXCJtdWx0ZXJcIjtcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcclxuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoXCIuL3VwbG9hZHNcIikpIHtcclxuICAgICAgY2IobnVsbCwgXCIuL3VwbG9hZHNcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmcy5ta2RpclN5bmMoXCIuL3VwbG9hZHNcIik7XHJcbiAgICAgIGNiKG51bGwsIFwiLi91cGxvYWRzXCIpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjb25zdCBvcmdOYW1lID0gZmlsZS5vcmlnaW5hbG5hbWU7XHJcbiAgICBjb25zdCBleHQgPSBwYXRoLnBhcnNlKG9yZ05hbWUpLmV4dDtcclxuICAgIGNvbnN0IG5hbWUgPSBwYXRoLnBhcnNlKG9yZ05hbWUpLm5hbWU7XHJcbiAgICBjb25zdCBmdWxsbmFtZSA9XHJcbiAgICAgIG5hbWUgKyBcIi1cIiArIERhdGUubm93KCkgKyBcIlwiICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMWU5KSArIGV4dDtcclxuXHJcbiAgICBjYihudWxsLCBmdWxsbmFtZSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZFVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0YVdpdGhGaWxlID0gdXBsb2FkLnNpbmdsZShcImF2YXRhclwiKTtcclxuXHJcbiAgICBkYXRhV2l0aEZpbGUocmVxLCByZXMsIGFzeW5jIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgaWYgKGVycilcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBlcnIubWVzc2FnZSwgc3VjY2VzczogZmFsc2UgfSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICAgICAgY29uc29sZS5sb2cocmVxLmZpbGUpO1xyXG5cclxuICAgICAgbGV0IGltZyA9IG51bGw7XHJcbiAgICAgIGlmIChyZXEuZmlsZSkge1xyXG4gICAgICAgIGltZyA9IHJlcS5maWxlLmZpbGVuYW1lO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkLCBjb250YWN0IH0gPSByZXEuYm9keTtcclxuICAgICAgY29uc3Qgc2F2ZURhdGEgPSBhd2FpdCBVc2VyTW9kZWwuY3JlYXRlKHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXHJcbiAgICAgICAgY29udGFjdDogY29udGFjdCxcclxuICAgICAgICBpbWFnZTogaW1nLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChzYXZlRGF0YSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XHJcbiAgICAgICAgICBkYXRhOiBzYXZlRGF0YSxcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiTmV3IHJlY29yZCBhZGRlZFwiLFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VXNlcnMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSBhd2FpdCBVc2VyTW9kZWwuZmluZCgpO1xyXG4gICAgaWYgKHVzZXJEYXRhKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogdXNlckRhdGEsXHJcbiAgICAgICAgbWVzc2FnZTogXCJGZXRjaGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZmlsZXBhdGg6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDAxL3VwbG9hZHMvXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgZ2V0VXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyaWQgPSByZXEucGFyYW1zLnVzZXJpZDtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyBfaWQ6IHVzZXJpZCB9KTtcclxuICAgIGlmICh1c2VyRGF0YSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIGRhdGE6IHVzZXJEYXRhLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGZpbGVwYXRoOiBcImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMS91cGxvYWRzL1wiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGFXaXRoRmlsZSA9IHVwbG9hZC5zaW5nbGUoXCJhdmF0YXJcIik7XHJcblxyXG4gICAgZGF0YVdpdGhGaWxlKHJlcSwgcmVzLCBhc3luYyBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogZXJyLm1lc3NhZ2UsIHN1Y2Nlc3M6IGZhbHNlIH0pO1xyXG4gICAgICBjb25zdCB1c2VyaWQgPSByZXEucGFyYW1zLnVzZXJpZDtcclxuXHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgX2lkOiB1c2VyaWQgfSk7XHJcbiAgICAgIGxldCBpbWcgPSBleGlzdGluZ1VzZXIuaW1hZ2U7XHJcbiAgICAgIGlmIChyZXEuZmlsZSkge1xyXG4gICAgICAgIGltZyA9IHJlcS5maWxlLmZpbGVuYW1lO1xyXG4gICAgICAgIGlmIChmcy5leGlzdHNTeW5jKFwiLi91cGxvYWRzL1wiICsgZXhpc3RpbmdVc2VyLmltYWdlKSkge1xyXG4gICAgICAgICAgZnMudW5saW5rU3luYyhcIi4vdXBsb2Fkcy9cIiArIGV4aXN0aW5nVXNlci5pbWFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkLCBjb250YWN0IH0gPSByZXEuYm9keTtcclxuXHJcbiAgICAgIC8vIEhhc2ggdGhlIHBhc3N3b3JkIGlmIGl0J3MgcHJvdmlkZWRcclxuICAgICAgbGV0IGhhc2hlZFBhc3N3b3JkID0gcGFzc3dvcmQ7XHJcbiAgICAgIGlmIChwYXNzd29yZCkge1xyXG4gICAgICAgIGhhc2hlZFBhc3N3b3JkID0gYmNyeXB0Lmhhc2hTeW5jKHBhc3N3b3JkLCAxMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyTW9kZWwudXBkYXRlT25lKFxyXG4gICAgICAgIHsgX2lkOiB1c2VyaWQgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLCAvLyBVc2UgdGhlIGhhc2hlZCBwYXNzd29yZFxyXG4gICAgICAgICAgICBjb250YWN0OiBjb250YWN0LFxyXG4gICAgICAgICAgICBpbWFnZTogaW1nLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIGlmICh1c2VyLmFja25vd2xlZGdlZCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlVwZGF0ZWQhXCIsXHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlcmlkID0gcmVxLnBhcmFtcy51c2VyaWQ7XHJcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IF9pZDogdXNlcmlkIH0pO1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC5kZWxldGVPbmUoeyBfaWQ6IHVzZXJpZCB9KTtcclxuICAgIGlmICh1c2VyLmFja25vd2xlZGdlZCkge1xyXG4gICAgICBpZiAoZnMuZXhpc3RzU3luYyhcIi4vdXBsb2Fkcy9cIiArIGV4aXN0aW5nVXNlci5pbWFnZSkpIHtcclxuICAgICAgICBmcy51bmxpbmtTeW5jKFwiLi91cGxvYWRzL1wiICsgZXhpc3RpbmdVc2VyLmltYWdlKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiRGVsZXRlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgIEF1dGhcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuZXhwb3J0IGNvbnN0IHNpZ25VcCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgY29udGFjdCB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgY29uc3QgZXhpc3RVc2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyBlbWFpbDogZW1haWwgfSk7XHJcbiAgICBpZiAoZXhpc3RVc2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJVc2VyIGFscmVhZHkgZXhpc3RcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBoYXNoUGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIDEwKTtcclxuICAgIGNvbnNvbGUubG9nKGhhc2hQYXNzd29yZCk7XHJcbiAgICBjb25zdCBzYXZlRGF0YSA9IGF3YWl0IFVzZXJNb2RlbC5jcmVhdGUoe1xyXG4gICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgIHBhc3N3b3JkOiBoYXNoUGFzc3dvcmQsXHJcbiAgICAgIGNvbnRhY3Q6IGNvbnRhY3QsXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoc2F2ZURhdGEpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBzYXZlRGF0YSxcclxuICAgICAgICBtZXNzYWdlOiBcIk5ldyByZWNvcmQgYWRkZWRcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgZW1haWw6IGVtYWlsIH0pO1xyXG4gICAgaWYgKCFleGlzdGluZ1VzZXIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlVzZXIgZG9lc24ndCBleGlzdCFcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29tcGFyZVBhc3N3b3JkID0gYmNyeXB0LmNvbXBhcmVTeW5jKHBhc3N3b3JkLCBleGlzdGluZ1VzZXIucGFzc3dvcmQpO1xyXG4gICAgaWYgKCFjb21wYXJlUGFzc3dvcmQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgY3JlZGVudGlhbFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBwYXNzd29yZHMgbWF0Y2gsIGdlbmVyYXRlIEpXVCB0b2tlblxyXG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcclxuICAgICAge1xyXG4gICAgICAgIGlkOiBleGlzdGluZ1VzZXIuX2lkLFxyXG4gICAgICAgIGVtYWlsOiBleGlzdGluZ1VzZXIuZW1haWwsXHJcbiAgICAgIH0sXHJcbiAgICAgIFwieW91cl9zZWNyZXRfa2V5X2hlcmVcIiwgLy8gUmVwbGFjZSB3aXRoIHlvdXIgc2VjcmV0IGtleVxyXG4gICAgICB7IGV4cGlyZXNJbjogXCIxaFwiIH1cclxuICAgICk7XHJcblxyXG4gICAgLy8gRXhjbHVkZSBwYXNzd29yZCBmcm9tIHJlc3BvbnNlIGRhdGFcclxuICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IHsgLi4uZXhpc3RpbmdVc2VyLnRvT2JqZWN0KCkgfTtcclxuICAgIGRlbGV0ZSByZXNwb25zZURhdGEucGFzc3dvcmQ7XHJcblxyXG4gICAgLy8gU2VuZCB0b2tlbiBhbmQgdXNlciBkYXRhIGluIHJlc3BvbnNlXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBkYXRhOiByZXNwb25zZURhdGEsXHJcbiAgICAgIHRva2VuOiB0b2tlbixcclxuICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgbG9nZ2VkIGluXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxHQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxhQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFPLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDL0IsTUFBTUcsT0FBTyxHQUFHQyxlQUFNLENBQUNDLFdBQVcsQ0FBQztFQUNqQ0MsV0FBVyxFQUFFLFNBQUFBLENBQVVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDcEMsSUFBSUMsV0FBRSxDQUFDQyxVQUFVLENBQUMsV0FBVyxDQUFDLEVBQUU7TUFDOUJGLEVBQUUsQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDO0lBQ3ZCLENBQUMsTUFBTTtNQUNMQyxXQUFFLENBQUNFLFNBQVMsQ0FBQyxXQUFXLENBQUM7TUFDekJILEVBQUUsQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDO0lBQ3ZCO0VBQ0YsQ0FBQztFQUNESSxRQUFRLEVB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","map":{"version":3,"names":["_user","_interopRequireDefault","require","_multer","_path","_fs","_bcrypt","_jsonwebtoken","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","fs","existsSync","mkdirSync","filename","orgName","originalname","ext","path","parse","name","fullname","Date","now","Math","round","random","upload","addUser","res","dataWithFile","single","err","status","json","message","success","console","log","body","img","email","password","contact","saveData","UserModel","create","image","data","exports","getUsers","userData","find","filepath","getUser","userid","params","findOne","_id","updateUser","existingUser","unlinkSync","hashedPassword","bcrypt","hashSync","user","updateOne","$set","acknowledged","deleteUser","deleteOne","signUp","existUser","hashPassword","login","comparePassword","compareSync","token","jwt","sign","id","expiresIn","responseData","toObject"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["user.controller.js"],"sourcesContent":["import UserModel from \"../models/user.model\";\r\nimport multer from \"multer\";\r\nimport path from \"path\";\r\nimport fs from \"fs\";\r\nimport bcrypt from \"bcrypt\";\r\nimport jwt from \"jsonwebtoken\";\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    if (fs.existsSync(\"./uploads\")) {\r\n      cb(null, \"./uploads\");\r\n    } else {\r\n      fs.mkdirSync(\"./uploads\");\r\n      cb(null, \"./uploads\");\r\n    }\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const orgName = file.originalname;\r\n    const ext = path.parse(orgName).ext;\r\n    const name = path.parse(orgName).name;\r\n    const fullname =\r\n      name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\r\n\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nexport const addUser = async (req, res) => {\r\n  try {\r\n    const dataWithFile = upload.single(\"avatar\");\r\n\r\n    dataWithFile(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      console.log(req.body);\r\n      console.log(req.file);\r\n\r\n      let img = null;\r\n      if (req.file) {\r\n        img = req.file.filename;\r\n      }\r\n      const { name, email, password, contact } = req.body;\r\n      const saveData = await UserModel.create({\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n        contact: contact,\r\n        image: img,\r\n      });\r\n\r\n      if (saveData) {\r\n        return res.status(201).json({\r\n          data: saveData,\r\n          message: \"New record added\",\r\n          success: true,\r\n        });\r\n      }\r\n\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUsers = async (req, res) => {\r\n  try {\r\n    const userData = await UserModel.find();\r\n    if (userData) {\r\n      return res.status(200).json({\r\n        data: userData,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n        filepath: \"http://localhost:8001/uploads/\",\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\nexport const getUser = async (req, res) => {\r\n  try {\r\n    const userid = req.params.userid;\r\n    const userData = await UserModel.findOne({ _id: userid });\r\n    if (userData) {\r\n      return res.status(200).json({\r\n        data: userData,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n        filepath: \"http://localhost:8001/uploads/\",\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUser = async (req, res) => {\r\n  try {\r\n    const dataWithFile = upload.single(\"avatar\");\r\n\r\n    dataWithFile(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      const userid = req.params.userid;\r\n\r\n      const existingUser = await UserModel.findOne({ _id: userid });\r\n      let img = existingUser.image;\r\n      if (req.file) {\r\n        img = req.file.filename;\r\n        if (fs.existsSync(\"./uploads/\" + existingUser.image)) {\r\n          fs.unlinkSync(\"./uploads/\" + existingUser.image);\r\n        }\r\n      }\r\n      const { name, email, password, contact } = req.body;\r\n\r\n      // Hash the password if it's provided\r\n      let hashedPassword = password;\r\n      if (password) {\r\n        hashedPassword = bcrypt.hashSync(password, 10);\r\n      }\r\n\r\n      const user = await UserModel.updateOne(\r\n        { _id: userid },\r\n        {\r\n          $set: {\r\n            name: name,\r\n            email: email,\r\n            password: hashedPassword, // Use the hashed password\r\n            contact: contact,\r\n            image: img,\r\n          },\r\n        }\r\n      );\r\n      if (user.acknowledged) {\r\n        return res.status(200).json({\r\n          message: \"Updated!\",\r\n          success: true,\r\n        });\r\n      }\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (req, res) => {\r\n  try {\r\n    const userid = req.params.userid;\r\n    const existingUser = await UserModel.findOne({ _id: userid });\r\n    const user = await UserModel.deleteOne({ _id: userid });\r\n    if (user.acknowledged) {\r\n      if (fs.existsSync(\"./uploads/\" + existingUser.image)) {\r\n        fs.unlinkSync(\"./uploads/\" + existingUser.image);\r\n      }\r\n      return res.status(200).json({\r\n        message: \"Deleted!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n/* ===========================\r\n        Auth\r\n=============================*/\r\n\r\nexport const signUp = async (req, res) => {\r\n  try {\r\n    const { name, email, password, contact } = req.body;\r\n\r\n    const existUser = await UserModel.findOne({ email: email });\r\n    if (existUser) {\r\n      return res.status(200).json({\r\n        message: \"User already exist\",\r\n        success: false,\r\n      });\r\n    }\r\n    const hashPassword = bcrypt.hashSync(password, 10);\r\n    console.log(hashPassword);\r\n    const saveData = await UserModel.create({\r\n      name: name,\r\n      email: email,\r\n      password: hashPassword,\r\n      contact: contact,\r\n    });\r\n\r\n    if (saveData) {\r\n      return res.status(201).json({\r\n        data: saveData,\r\n        message: \"New record added\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const login = async (req, res) => {\r\n  try {\r\n    const { email, password } = req.body;\r\n\r\n    const existingUser = await UserModel.findOne({ email: email });\r\n    if (!existingUser) {\r\n      return res.status(400).json({\r\n        message: \"User doesn't exist!\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    const comparePassword = bcrypt.compareSync(password, existingUser.password);\r\n    if (!comparePassword) {\r\n      return res.status(400).json({\r\n        message: \"Invalid credential\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    // If passwords match, generate JWT token\r\n    const token = jwt.sign(\r\n      {\r\n        id: existingUser._id,\r\n        email: existingUser.email,\r\n      },\r\n      \"your_secret_key_here\", // Replace with your secret key\r\n      { expiresIn: \"1h\" }\r\n    );\r\n\r\n    // Exclude password from response data\r\n    const responseData = { ...existingUser.toObject() };\r\n    delete responseData.password;\r\n\r\n    // Send token and user data in response\r\n    return res.status(200).json({\r\n      data: responseData,\r\n      token: token,\r\n      message: \"Successfully logged in\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1715691114272},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\user.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst UserSchema = new Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  contact: {\n    type: Number,\n    default: null\n  },\n  image: {\n    type: String,\n    default: null\n  },\n  status: {\n    type: Number,\n    default: 1\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"user\", UserSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJVc2VyU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwicGFzc3dvcmQiLCJjb250YWN0IiwiTnVtYmVyIiwiaW1hZ2UiLCJzdGF0dXMiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsIm5vdyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxtb2RlbHNcXCIsInNvdXJjZXMiOlsidXNlci5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcclxuXHJcbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICBuYW1lOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIGVtYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHBhc3N3b3JkOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIGNvbnRhY3Q6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgfSxcclxuICBpbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsIFVzZXJTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUM1QkcsSUFBSSxFQUFFO0lBQ0pDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLEtBQUssRUFBRTtJQUNMSCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNERSxRQUFRLEVBQUU7SUFDUkosSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREcsT0FBTyxFQUFFO0lBQ1BMLElBQUksRUFBRU0sTUFBTTtJQUNaWCxPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RZLEtBQUssRUFBRTtJQUNMUCxJQUFJLEVBQUVDLE1BQU07SUFDWk4sT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEYSxNQUFNLEVBQUU7SUFDTlIsSUFBSSxFQUFFTSxNQUFNO0lBQ1pYLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRGMsVUFBVSxFQUFFO0lBQ1ZULElBQUksRUFBRVUsSUFBSTtJQUNWZixPQUFPLEVBQUVlLElBQUksQ0FBQ0MsR0FBRyxDQUFDO0VBQ3BCO0FBQ0YsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBRVlFLGlCQUFRLENBQUNpQixLQUFLLENBQUMsTUFBTSxFQUFFaEIsVUFBVSxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","UserSchema","name","type","String","required","email","password","contact","Number","image","status","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["user.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst UserSchema = new Schema({\r\n  name: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  password: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  contact: {\r\n    type: Number,\r\n    default: null,\r\n  },\r\n  image: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  status: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"user\", UserSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,IAAI,EAAE;IACJC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,KAAK,EAAE;IACLH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDE,QAAQ,EAAE;IACRJ,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDG,OAAO,EAAE;IACPL,IAAI,EAAEM,MAAM;IACZX,OAAO,EAAE;EACX,CAAC;EACDY,KAAK,EAAE;IACLP,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDa,MAAM,EAAE;IACNR,IAAI,EAAEM,MAAM;IACZX,OAAO,EAAE;EACX,CAAC;EACDc,UAAU,EAAE;IACVT,IAAI,EAAEU,IAAI;IACVf,OAAO,EAAEe,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAEYE,iBAAQ,CAACiB,KAAK,CAAC,MAAM,EAAEhB,UAAU,CAAC","ignoreList":[]}},"mtime":1714562444651},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\category.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _category = require(\"../controllers/category.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-category\", _category.addCategory);\nrouter.get(\"/get-categories\", _category.getCategories);\nrouter.get(\"/get-category/:categoryid\", _category.getCategory);\nrouter.put(\"/update-category/:categoryid\", _category.updateCategory);\nrouter.delete(\"/delete-category/:categoryid\", _category.deleteCategory);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NhdGVnb3J5Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsImFkZENhdGVnb3J5IiwiZ2V0IiwiZ2V0Q2F0ZWdvcmllcyIsImdldENhdGVnb3J5IiwicHV0IiwidXBkYXRlQ2F0ZWdvcnkiLCJkZWxldGUiLCJkZWxldGVDYXRlZ29yeSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxccm91dGVyc1xcIiwic291cmNlcyI6WyJjYXRlZ29yeS5yb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHtcclxuICBhZGRDYXRlZ29yeSxcclxuICBkZWxldGVDYXRlZ29yeSxcclxuICBnZXRDYXRlZ29yaWVzLFxyXG4gIGdldENhdGVnb3J5LFxyXG4gIHVwZGF0ZUNhdGVnb3J5LFxyXG59IGZyb20gXCIuLi9jb250cm9sbGVycy9jYXRlZ29yeS5jb250cm9sbGVyXCI7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWRkLWNhdGVnb3J5XCIsIGFkZENhdGVnb3J5KTtcclxucm91dGVyLmdldChcIi9nZXQtY2F0ZWdvcmllc1wiLCBnZXRDYXRlZ29yaWVzKTtcclxucm91dGVyLmdldChcIi9nZXQtY2F0ZWdvcnkvOmNhdGVnb3J5aWRcIiwgZ2V0Q2F0ZWdvcnkpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS1jYXRlZ29yeS86Y2F0ZWdvcnlpZFwiLCB1cGRhdGVDYXRlZ29yeSk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLWNhdGVnb3J5LzpjYXRlZ29yeWlkXCIsIGRlbGV0ZUNhdGVnb3J5KTtcclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRCxPQUFBO0FBTTRDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTVDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLGVBQWUsRUFBRUMscUJBQVcsQ0FBQztBQUN6Q0osTUFBTSxDQUFDSyxHQUFHLENBQUMsaUJBQWlCLEVBQUVDLHVCQUFhLENBQUM7QUFDNUNOLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLDJCQUEyQixFQUFFRSxxQkFBVyxDQUFDO0FBQ3BEUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyw4QkFBOEIsRUFBRUMsd0JBQWMsQ0FBQztBQUMxRFQsTUFBTSxDQUFDVSxNQUFNLENBQUMsOEJBQThCLEVBQUVDLHdCQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWQsT0FBQSxHQUMvQ0MsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_category","obj","__esModule","default","router","express","Router","post","addCategory","get","getCategories","getCategory","put","updateCategory","delete","deleteCategory","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["category.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addCategory,\r\n  deleteCategory,\r\n  getCategories,\r\n  getCategory,\r\n  updateCategory,\r\n} from \"../controllers/category.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-category\", addCategory);\r\nrouter.get(\"/get-categories\", getCategories);\r\nrouter.get(\"/get-category/:categoryid\", getCategory);\r\nrouter.put(\"/update-category/:categoryid\", updateCategory);\r\nrouter.delete(\"/delete-category/:categoryid\", deleteCategory);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAM4C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5C,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,eAAe,EAAEC,qBAAW,CAAC;AACzCJ,MAAM,CAACK,GAAG,CAAC,iBAAiB,EAAEC,uBAAa,CAAC;AAC5CN,MAAM,CAACK,GAAG,CAAC,2BAA2B,EAAEE,qBAAW,CAAC;AACpDP,MAAM,CAACQ,GAAG,CAAC,8BAA8B,EAAEC,wBAAc,CAAC;AAC1DT,MAAM,CAACU,MAAM,CAAC,8BAA8B,EAAEC,wBAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAd,OAAA,GAC/CC,MAAM","ignoreList":[]}},"mtime":1712733580848},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\category.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateCategory = exports.getCategory = exports.getCategories = exports.deleteCategory = exports.addCategory = void 0;\nvar _category = _interopRequireDefault(require(\"../models/category.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst addCategory = async (req, res) => {\n  try {\n    const {\n      categoryname,\n      categorytype,\n      description\n    } = req.body; // Corrected keys\n    const saveData = await _category.default.create({\n      categoryname: categoryname,\n      // Corrected key\n      categorytype: categorytype,\n      // Corrected key\n      description: description\n    });\n    if (saveData) {\n      return res.status(201).json({\n        data: saveData,\n        message: \"New record added\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addCategory = addCategory;\nconst getCategories = async (req, res) => {\n  try {\n    const categories = await _category.default.find();\n    if (categories) {\n      return res.status(200).json({\n        data: categories,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getCategories = getCategories;\nconst getCategory = async (req, res) => {\n  try {\n    const categoryid = req.params.categoryid;\n    const category = await _category.default.findOne({\n      _id: categoryid\n    });\n    if (category) {\n      return res.status(200).json({\n        data: category,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getCategory = getCategory;\nconst updateCategory = async (req, res) => {\n  try {\n    const categoryid = req.params.categoryid;\n    const {\n      name,\n      description\n    } = req.body;\n    const category = await _category.default.updateOne({\n      _id: categoryid\n    }, {\n      $set: {\n        name: name,\n        description: description\n      }\n    });\n    if (category.acknowledged) {\n      return res.status(200).json({\n        message: \"Updated!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateCategory = updateCategory;\nconst deleteCategory = async (req, res) => {\n  try {\n    const categoryid = req.params.categoryid;\n    const category = await _category.default.deleteOne({\n      _id: categoryid\n    });\n    if (category.acknowledged) {\n      return res.status(200).json({\n        message: \"Deleted!\",\n        success: true\n      });\n      a;\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteCategory = deleteCategory;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2F0ZWdvcnkiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYWRkQ2F0ZWdvcnkiLCJyZXEiLCJyZXMiLCJjYXRlZ29yeW5hbWUiLCJjYXRlZ29yeXR5cGUiLCJkZXNjcmlwdGlvbiIsImJvZHkiLCJzYXZlRGF0YSIsIkNhdGVnb3J5TW9kZWwiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZGF0YSIsIm1lc3NhZ2UiLCJzdWNjZXNzIiwiZXJyIiwiZXhwb3J0cyIsImdldENhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIiwiZmluZCIsImdldENhdGVnb3J5IiwiY2F0ZWdvcnlpZCIsInBhcmFtcyIsImNhdGVnb3J5IiwiZmluZE9uZSIsIl9pZCIsInVwZGF0ZUNhdGVnb3J5IiwibmFtZSIsInVwZGF0ZU9uZSIsIiRzZXQiLCJhY2tub3dsZWRnZWQiLCJkZWxldGVDYXRlZ29yeSIsImRlbGV0ZU9uZSIsImEiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbImNhdGVnb3J5LmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENhdGVnb3J5TW9kZWwgZnJvbSBcIi4uL21vZGVscy9jYXRlZ29yeS5tb2RlbFwiO1xyXG5leHBvcnQgY29uc3QgYWRkQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBjYXRlZ29yeW5hbWUsIGNhdGVnb3J5dHlwZSwgZGVzY3JpcHRpb24gfSA9IHJlcS5ib2R5OyAvLyBDb3JyZWN0ZWQga2V5c1xyXG4gICAgY29uc3Qgc2F2ZURhdGEgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgIGNhdGVnb3J5bmFtZTogY2F0ZWdvcnluYW1lLCAvLyBDb3JyZWN0ZWQga2V5XHJcbiAgICAgIGNhdGVnb3J5dHlwZTogY2F0ZWdvcnl0eXBlLCAvLyBDb3JyZWN0ZWQga2V5XHJcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChzYXZlRGF0YSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICAgIGRhdGE6IHNhdmVEYXRhLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiTmV3IHJlY29yZCBhZGRlZFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDYXRlZ29yaWVzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLmZpbmQoKTtcclxuICAgIGlmIChjYXRlZ29yaWVzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogY2F0ZWdvcmllcyxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCBjb25zdCBnZXRDYXRlZ29yeSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjYXRlZ29yeWlkID0gcmVxLnBhcmFtcy5jYXRlZ29yeWlkO1xyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLmZpbmRPbmUoeyBfaWQ6IGNhdGVnb3J5aWQgfSk7XHJcbiAgICBpZiAoY2F0ZWdvcnkpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBjYXRlZ29yeSxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2F0ZWdvcnlpZCA9IHJlcS5wYXJhbXMuY2F0ZWdvcnlpZDtcclxuICAgIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24gfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBhd2FpdCBDYXRlZ29yeU1vZGVsLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IGNhdGVnb3J5aWQgfSxcclxuICAgICAge1xyXG4gICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGlmIChjYXRlZ29yeS5hY2tub3dsZWRnZWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlVwZGF0ZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlQ2F0ZWdvcnkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2F0ZWdvcnlpZCA9IHJlcS5wYXJhbXMuY2F0ZWdvcnlpZDtcclxuICAgIGNvbnN0IGNhdGVnb3J5ID0gYXdhaXQgQ2F0ZWdvcnlNb2RlbC5kZWxldGVPbmUoeyBfaWQ6IGNhdGVnb3J5aWQgfSk7XHJcbiAgICBpZiAoY2F0ZWdvcnkuYWNrbm93bGVkZ2VkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJEZWxldGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO2FcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFxRCxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUM5QyxNQUFNRyxXQUFXLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDN0MsSUFBSTtJQUNGLE1BQU07TUFBRUMsWUFBWTtNQUFFQyxZQUFZO01BQUVDO0lBQVksQ0FBQyxHQUFHSixHQUFHLENBQUNLLElBQUksQ0FBQyxDQUFDO0lBQzlELE1BQU1DLFFBQVEsR0FBRyxNQUFNQyxpQkFBYSxDQUFDQyxNQUFNLENBQUM7TUFDMUNOLFlBQVksRUFBRUEsWUFBWTtNQUFFO01BQzVCQyxZQUFZLEVBQUVBLFlBQVk7TUFBRTtNQUM1QkMsV0FBVyxFQUFFQTtJQUNmLENBQUMsQ0FBQztJQUVGLElBQUlFLFFBQVEsRUFBRTtNQUNaLE9BQU9MLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLElBQUksRUFBRUwsUUFBUTtRQUNkTSxPQUFPLEVBQUUsa0JB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","map":{"version":3,"names":["_category","_interopRequireDefault","require","obj","__esModule","default","addCategory","req","res","categoryname","categorytype","description","body","saveData","CategoryModel","create","status","json","data","message","success","err","exports","getCategories","categories","find","getCategory","categoryid","params","category","findOne","_id","updateCategory","name","updateOne","$set","acknowledged","deleteCategory","deleteOne","a"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["category.controller.js"],"sourcesContent":["import CategoryModel from \"../models/category.model\";\r\nexport const addCategory = async (req, res) => {\r\n  try {\r\n    const { categoryname, categorytype, description } = req.body; // Corrected keys\r\n    const saveData = await CategoryModel.create({\r\n      categoryname: categoryname, // Corrected key\r\n      categorytype: categorytype, // Corrected key\r\n      description: description,\r\n    });\r\n\r\n    if (saveData) {\r\n      return res.status(201).json({\r\n        data: saveData,\r\n        message: \"New record added\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getCategories = async (req, res) => {\r\n  try {\r\n    const categories = await CategoryModel.find();\r\n    if (categories) {\r\n      return res.status(200).json({\r\n        data: categories,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\nexport const getCategory = async (req, res) => {\r\n  try {\r\n    const categoryid = req.params.categoryid;\r\n    const category = await CategoryModel.findOne({ _id: categoryid });\r\n    if (category) {\r\n      return res.status(200).json({\r\n        data: category,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateCategory = async (req, res) => {\r\n  try {\r\n    const categoryid = req.params.categoryid;\r\n    const { name, description } = req.body;\r\n    const category = await CategoryModel.updateOne(\r\n      { _id: categoryid },\r\n      {\r\n        $set: {\r\n          name: name,\r\n          description: description,\r\n        },\r\n      }\r\n    );\r\n    if (category.acknowledged) {\r\n      return res.status(200).json({\r\n        message: \"Updated!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteCategory = async (req, res) => {\r\n  try {\r\n    const categoryid = req.params.categoryid;\r\n    const category = await CategoryModel.deleteOne({ _id: categoryid });\r\n    if (category.acknowledged) {\r\n      return res.status(200).json({\r\n        message: \"Deleted!\",\r\n        success: true,\r\n      });a\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};"],"mappings":"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","ignoreList":[]}},"mtime":1715164761286},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\category.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst CategorySchema = new Schema({\n  categoryname: {\n    type: String,\n    required: true\n  },\n  categorytype: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    default: null\n  },\n  description: {\n    type: String,\n    default: null\n  },\n  status: {\n    type: Number,\n    default: 1\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"category\", CategorySchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJDYXRlZ29yeVNjaGVtYSIsImNhdGVnb3J5bmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImNhdGVnb3J5dHlwZSIsImltYWdlIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJOdW1iZXIiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsIm5vdyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiY2F0ZWdvcnkubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBDYXRlZ29yeVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIGNhdGVnb3J5bmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBjYXRlZ29yeXR5cGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcblxyXG4gIGltYWdlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsLFxyXG4gIH0sXHJcblxyXG5kZXNjcmlwdGlvbjp7XHJcbiAgdHlwZTpTdHJpbmcsXHJcbiAgZGVmYXVsdDpudWxsXHJcbn0sXHJcblxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcblxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcnlcIiwgQ2F0ZWdvcnlTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsY0FBYyxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUNoQ0csWUFBWSxFQUFFO0lBQ1pDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLFlBQVksRUFBRTtJQUNaSCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUVERSxLQUFLLEVBQUU7SUFDTEosSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFFSFUsV0FBVyxFQUFDO0lBQ1ZMLElBQUksRUFBQ0MsTUFBTTtJQUNYTixPQUFPLEVBQUM7RUFDVixDQUFDO0VBRUNXLE1BQU0sRUFBRTtJQUNOTixJQUFJLEVBQUVPLE1BQU07SUFDWlosT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEYSxVQUFVLEVBQUU7SUFDVlIsSUFBSSxFQUFFUyxJQUFJO0lBQ1ZkLE9BQU8sRUFBRWMsSUFBSSxDQUFDQyxHQUFHLENBQUM7RUFDcEI7QUFFRixDQUFDLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWpCLE9BQUEsR0FFWUUsaUJBQVEsQ0FBQ2dCLEtBQUssQ0FBQyxVQUFVLEVBQUVmLGNBQWMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","CategorySchema","categoryname","type","String","required","categorytype","image","description","status","Number","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["category.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst CategorySchema = new Schema({\r\n  categoryname: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  categorytype: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n\r\n  image: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n\r\ndescription:{\r\n  type:String,\r\n  default:null\r\n},\r\n\r\n  status: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n\r\n});\r\n\r\nexport default mongoose.model(\"category\", CategorySchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,cAAc,GAAG,IAAIF,MAAM,CAAC;EAChCG,YAAY,EAAE;IACZC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,YAAY,EAAE;IACZH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EAEDE,KAAK,EAAE;IACLJ,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EAEHU,WAAW,EAAC;IACVL,IAAI,EAACC,MAAM;IACXN,OAAO,EAAC;EACV,CAAC;EAECW,MAAM,EAAE;IACNN,IAAI,EAAEO,MAAM;IACZZ,OAAO,EAAE;EACX,CAAC;EACDa,UAAU,EAAE;IACVR,IAAI,EAAES,IAAI;IACVd,OAAO,EAAEc,IAAI,CAACC,GAAG,CAAC;EACpB;AAEF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAjB,OAAA,GAEYE,iBAAQ,CAACgB,KAAK,CAAC,UAAU,EAAEf,cAAc,CAAC","ignoreList":[]}},"mtime":1715163779121},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\product.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _product = require(\"../controllers/product.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-product\", _product.addProduct);\nrouter.get(\"/get-products\", _product.getProducts);\nrouter.get(\"/get-products-aggr\", _product.getProductsAggr);\nrouter.get(\"/get-product/:productid\", _product.getProduct);\nrouter.put(\"/update-product/:productid\", _product.updateProduct);\nrouter.delete(\"/delete-product/:productid\", _product.deleteProduct);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3QiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkUHJvZHVjdCIsImdldCIsImdldFByb2R1Y3RzIiwiZ2V0UHJvZHVjdHNBZ2dyIiwiZ2V0UHJvZHVjdCIsInB1dCIsInVwZGF0ZVByb2R1Y3QiLCJkZWxldGUiLCJkZWxldGVQcm9kdWN0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcdW56aXBwZWRcXFNlc3Npb244XFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3Qucm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCB7XHJcbiAgYWRkUHJvZHVjdCxcclxuICBkZWxldGVQcm9kdWN0LFxyXG4gIGdldFByb2R1Y3QsXHJcbiAgZ2V0UHJvZHVjdHMsXHJcbiAgZ2V0UHJvZHVjdHNBZ2dyLFxyXG4gIHVwZGF0ZVByb2R1Y3QsXHJcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL3Byb2R1Y3QuY29udHJvbGxlclwiO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvYWRkLXByb2R1Y3RcIiwgYWRkUHJvZHVjdCk7XHJcbnJvdXRlci5nZXQoXCIvZ2V0LXByb2R1Y3RzXCIsIGdldFByb2R1Y3RzKTtcclxucm91dGVyLmdldChcIi9nZXQtcHJvZHVjdHMtYWdnclwiLCBnZXRQcm9kdWN0c0FnZ3IpO1xyXG5yb3V0ZXIuZ2V0KFwiL2dldC1wcm9kdWN0Lzpwcm9kdWN0aWRcIiwgZ2V0UHJvZHVjdCk7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXByb2R1Y3QvOnByb2R1Y3RpZFwiLCB1cGRhdGVQcm9kdWN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUtcHJvZHVjdC86cHJvZHVjdGlkXCIsIGRlbGV0ZVByb2R1Y3QpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUQsT0FBQTtBQU8yQyxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUMzQyxNQUFNRyxNQUFNLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRixNQUFNLENBQUNHLElBQUksQ0FBQyxjQUFjLEVBQUVDLG1CQUFVLENBQUM7QUFDdkNKLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLGVBQWUsRUFBRUMsb0JBQVcsQ0FBQztBQUN4Q04sTUFBTSxDQUFDSyxHQUFHLENBQUMsb0JBQW9CLEVBQUVFLHdCQUFlLENBQUM7QUFDakRQLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLHlCQUF5QixFQUFFRyxtQkFBVSxDQUFDO0FBQ2pEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyw0QkFBNEIsRUFBRUMsc0JBQWEsQ0FBQztBQUN2RFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsNEJBQTRCLEVBQUVDLHNCQUFhLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUU1Q0MsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_product","obj","__esModule","default","router","express","Router","post","addProduct","get","getProducts","getProductsAggr","getProduct","put","updateProduct","delete","deleteProduct","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["product.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addProduct,\r\n  deleteProduct,\r\n  getProduct,\r\n  getProducts,\r\n  getProductsAggr,\r\n  updateProduct,\r\n} from \"../controllers/product.controller\";\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-product\", addProduct);\r\nrouter.get(\"/get-products\", getProducts);\r\nrouter.get(\"/get-products-aggr\", getProductsAggr);\r\nrouter.get(\"/get-product/:productid\", getProduct);\r\nrouter.put(\"/update-product/:productid\", updateProduct);\r\nrouter.delete(\"/delete-product/:productid\", deleteProduct);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAO2C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,cAAc,EAAEC,mBAAU,CAAC;AACvCJ,MAAM,CAACK,GAAG,CAAC,eAAe,EAAEC,oBAAW,CAAC;AACxCN,MAAM,CAACK,GAAG,CAAC,oBAAoB,EAAEE,wBAAe,CAAC;AACjDP,MAAM,CAACK,GAAG,CAAC,yBAAyB,EAAEG,mBAAU,CAAC;AACjDR,MAAM,CAACS,GAAG,CAAC,4BAA4B,EAAEC,sBAAa,CAAC;AACvDV,MAAM,CAACW,MAAM,CAAC,4BAA4B,EAAEC,sBAAa,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAE5CC,MAAM","ignoreList":[]}},"mtime":1715167858626},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\product.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateProduct = exports.getProductsAggr = exports.getProducts = exports.getProduct = exports.deleteProduct = exports.addProduct = void 0;\nvar _product = _interopRequireDefault(require(\"../models/product.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _util = _interopRequireDefault(require(\"util\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    const uploadPath = \"./uploads\";\n    if (!_fs.default.existsSync(uploadPath)) {\n      _fs.default.mkdirSync(uploadPath);\n    }\n    cb(null, uploadPath);\n  },\n  filename: function (req, file, cb) {\n    const ext = _path.default.extname(file.originalname);\n    const name = _path.default.basename(file.originalname, ext);\n    const fullname = \"\".concat(name, \"-\").concat(Date.now(), \"-\").concat(Math.round(Math.random() * 1e9)).concat(ext);\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst uploadFiles = _util.default.promisify(upload.fields([{\n  name: \"thumbnail\",\n  maxCount: 1\n}, {\n  name: \"images\",\n  maxCount: 10\n}]));\nconst deleteFile = filepath => {\n  if (_fs.default.existsSync(filepath)) {\n    _fs.default.unlinkSync(filepath);\n  }\n};\nconst addProduct = async (req, res) => {\n  try {\n    await uploadFiles(req, res);\n    const {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category\n    } = req.body;\n    let thumbnail = null;\n    let images = [];\n    if (req.files) {\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\n        thumbnail = req.files[\"thumbnail\"][0].filename;\n      }\n      if (req.files[\"images\"]) {\n        images = req.files[\"images\"].map(file => file.filename);\n      }\n    }\n    const newProduct = new _product.default({\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category,\n      thumbnail,\n      images\n    });\n    const saveData = await newProduct.save();\n    return res.status(201).json({\n      data: saveData,\n      message: \"New record added\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addProduct = addProduct;\nconst updateProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    await uploadFiles(req, res);\n    const {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category\n    } = req.body;\n    let thumbnail = req.body.thumbnail;\n    let images = req.body.images ? req.body.images.split(\",\") : [];\n    if (req.files) {\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\n        const oldProduct = await _product.default.findById(productid);\n        deleteFile(\"./uploads/\".concat(oldProduct.thumbnail));\n        thumbnail = req.files[\"thumbnail\"][0].filename;\n      }\n      if (req.files[\"images\"]) {\n        const oldProduct = await _product.default.findById(productid);\n        oldProduct.images.forEach(image => deleteFile(\"./uploads/\".concat(image)));\n        images = req.files[\"images\"].map(file => file.filename);\n      }\n    }\n    const updatedProduct = await _product.default.findByIdAndUpdate(productid, {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category,\n      thumbnail,\n      images\n    }, {\n      new: true\n    });\n    if (updatedProduct) {\n      return res.status(200).json({\n        message: \"Product updated successfully\",\n        success: true,\n        data: updatedProduct\n      });\n    }\n    return res.status(400).json({\n      message: \"Failed to update product\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateProduct = updateProduct;\nconst deleteProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    const product = await _product.default.findById(productid);\n    if (!product) {\n      return res.status(404).json({\n        message: \"Product not found\",\n        success: false\n      });\n    }\n    if (product.thumbnail) {\n      deleteFile(\"./uploads/\".concat(product.thumbnail));\n    }\n    if (product.images && product.images.length > 0) {\n      product.images.forEach(image => deleteFile(\"./uploads/\".concat(image)));\n    }\n    await _product.default.findByIdAndDelete(productid);\n    return res.status(200).json({\n      message: \"Product deleted successfully\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteProduct = deleteProduct;\nconst getProducts = async (req, res) => {\n  try {\n    const {\n      page = 1,\n      limit = 10,\n      search = \"\",\n      sort\n    } = req.query;\n    const skipno = limit * (page - 1);\n    const rgx = pattern => new RegExp(\".*\".concat(pattern, \".*\"), \"i\");\n    const searchRgx = rgx(search);\n    let filter = search ? {\n      $or: [{\n        title: {\n          $regex: searchRgx\n        }\n      }, {\n        description: {\n          $regex: searchRgx\n        }\n      }]\n    } : {};\n    let sortValue = [\"_id\", 1];\n    if (sort === \"new\") sortValue = [\"_id\", -1];\n    if (sort === \"lth\") sortValue = [\"price\", 1];\n    if (sort === \"htl\") sortValue = [\"price\", -1];\n    const products = await _product.default.find(filter).populate(\"category\").limit(parseInt(limit)).skip(skipno).sort([sortValue]);\n    if (products) {\n      return res.status(200).json({\n        count: products.length,\n        data: products,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProducts = getProducts;\nconst getProductsAggr = async (req, res) => {\n  try {\n    const products = await _product.default.aggregate([{\n      $lookup: {\n        from: \"categories\",\n        localField: \"category\",\n        foreignField: \"_id\",\n        as: \"categoryData\"\n      }\n    }, {\n      $unwind: \"$categoryData\"\n    }]);\n    if (products) {\n      return res.status(200).json({\n        count: products.length,\n        data: products,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProductsAggr = getProductsAggr;\nconst getProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    const product = await _product.default.findById(productid).populate(\"category\");\n    if (product) {\n      return res.status(200).json({\n        data: product,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProduct = getProduct;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9mcyIsIl9wYXRoIiwiX3V0aWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwidXBsb2FkUGF0aCIsImZzIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImZpbGVuYW1lIiwiZXh0IiwicGF0aCIsImV4dG5hbWUiLCJvcmlnaW5hbG5hbWUiLCJuYW1lIiwiYmFzZW5hbWUiLCJmdWxsbmFtZSIsImNvbmNhdCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJ1cGxvYWQiLCJ1cGxvYWRGaWxlcyIsInV0aWwiLCJwcm9taXNpZnkiLCJmaWVsZHMiLCJtYXhDb3VudCIsImRlbGV0ZUZpbGUiLCJmaWxlcGF0aCIsInVubGlua1N5bmMiLCJhZGRQcm9kdWN0IiwicmVzIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImF2YWlsYWJsZWluIiwicHJpY2UiLCJxdWFudGl0eSIsImNhdGVnb3J5IiwiYm9keSIsInRodW1ibmFpbCIsImltYWdlcyIsImZpbGVzIiwibWFwIiwibmV3UHJvZHVjdCIsInByb2R1Y3RNb2RlbCIsInNhdmVEYXRhIiwic2F2ZSIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJlcnIiLCJleHBvcnRzIiwidXBkYXRlUHJvZHVjdCIsInByb2R1Y3RpZCIsInBhcmFtcyIsInNwbGl0Iiwib2xkUHJvZHVjdCIsImZpbmRCeUlkIiwiZm9yRWFjaCIsImltYWdlIiwidXBkYXRlZFByb2R1Y3QiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIm5ldyIsImRlbGV0ZVByb2R1Y3QiLCJwcm9kdWN0IiwibGVuZ3RoIiwiZmluZEJ5SWRBbmREZWxldGUiLCJnZXRQcm9kdWN0cyIsInBhZ2UiLCJsaW1pdCIsInNlYXJjaCIsInNvcnQiLCJxdWVyeSIsInNraXBubyIsInJneCIsInBhdHRlcm4iLCJSZWdFeHAiLCJzZWFyY2hSZ3giLCJmaWx0ZXIiLCIkb3IiLCIkcmVnZXgiLCJzb3J0VmFsdWUiLCJwcm9kdWN0cyIsImZpbmQiLCJwb3B1bGF0ZSIsInBhcnNlSW50Iiwic2tpcCIsImNvdW50IiwiZ2V0UHJvZHVjdHNBZ2dyIiwiYWdncmVnYXRlIiwiJGxvb2t1cCIsImZyb20iLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwiYXMiLCIkdW53aW5kIiwiZ2V0UHJvZHVjdCJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsicHJvZHVjdC5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcm9kdWN0TW9kZWwgZnJvbSBcIi4uL21vZGVscy9wcm9kdWN0Lm1vZGVsXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XHJcbmltcG9ydCB1dGlsIGZyb20gXCJ1dGlsXCI7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICBkZXN0aW5hdGlvbjogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNvbnN0IHVwbG9hZFBhdGggPSBcIi4vdXBsb2Fkc1wiO1xyXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHVwbG9hZFBhdGgpKSB7XHJcbiAgICAgIGZzLm1rZGlyU3luYyh1cGxvYWRQYXRoKTtcclxuICAgIH1cclxuICAgIGNiKG51bGwsIHVwbG9hZFBhdGgpO1xyXG4gIH0sXHJcbiAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjb25zdCBleHQgPSBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpO1xyXG4gICAgY29uc3QgbmFtZSA9IHBhdGguYmFzZW5hbWUoZmlsZS5vcmlnaW5hbG5hbWUsIGV4dCk7XHJcbiAgICBjb25zdCBmdWxsbmFtZSA9IGAke25hbWV9LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJvdW5kKFxyXG4gICAgICBNYXRoLnJhbmRvbSgpICogMWU5XHJcbiAgICApfSR7ZXh0fWA7XHJcbiAgICBjYihudWxsLCBmdWxsbmFtZSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pO1xyXG5cclxuY29uc3QgdXBsb2FkRmlsZXMgPSB1dGlsLnByb21pc2lmeShcclxuICB1cGxvYWQuZmllbGRzKFtcclxuICAgIHsgbmFtZTogXCJ0aHVtYm5haWxcIiwgbWF4Q291bnQ6IDEgfSxcclxuICAgIHsgbmFtZTogXCJpbWFnZXNcIiwgbWF4Q291bnQ6IDEwIH0sXHJcbiAgXSlcclxuKTtcclxuXHJcbmNvbnN0IGRlbGV0ZUZpbGUgPSAoZmlsZXBhdGgpID0+IHtcclxuICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlcGF0aCkpIHtcclxuICAgIGZzLnVubGlua1N5bmMoZmlsZXBhdGgpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHVwbG9hZEZpbGVzKHJlcSwgcmVzKTtcclxuXHJcbiAgICBjb25zdCB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgYXZhaWxhYmxlaW4sIHByaWNlLCBxdWFudGl0eSwgY2F0ZWdvcnkgfSA9XHJcbiAgICAgIHJlcS5ib2R5O1xyXG4gICAgbGV0IHRodW1ibmFpbCA9IG51bGw7XHJcbiAgICBsZXQgaW1hZ2VzID0gW107XHJcblxyXG4gICAgaWYgKHJlcS5maWxlcykge1xyXG4gICAgICBpZiAocmVxLmZpbGVzW1widGh1bWJuYWlsXCJdICYmIHJlcS5maWxlc1tcInRodW1ibmFpbFwiXVswXSkge1xyXG4gICAgICAgIHRodW1ibmFpbCA9IHJlcS5maWxlc1tcInRodW1ibmFpbFwiXVswXS5maWxlbmFtZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocmVxLmZpbGVzW1wiaW1hZ2VzXCJdKSB7XHJcbiAgICAgICAgaW1hZ2VzID0gcmVxLmZpbGVzW1wiaW1hZ2VzXCJdLm1hcCgoZmlsZSkgPT4gZmlsZS5maWxlbmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXdQcm9kdWN0ID0gbmV3IHByb2R1Y3RNb2RlbCh7XHJcbiAgICAgIHRpdGxlLFxyXG4gICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgYXZhaWxhYmxlaW4sXHJcbiAgICAgIHByaWNlLFxyXG4gICAgICBxdWFudGl0eSxcclxuICAgICAgY2F0ZWdvcnksXHJcbiAgICAgIHRodW1ibmFpbCxcclxuICAgICAgaW1hZ2VzLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qgc2F2ZURhdGEgPSBhd2FpdCBuZXdQcm9kdWN0LnNhdmUoKTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICBkYXRhOiBzYXZlRGF0YSxcclxuICAgICAgbWVzc2FnZTogXCJOZXcgcmVjb3JkIGFkZGVkXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHByb2R1Y3RpZCA9IHJlcS5wYXJhbXMucHJvZHVjdGlkO1xyXG4gICAgYXdhaXQgdXBsb2FkRmlsZXMocmVxLCByZXMpO1xyXG5cclxuICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCBhdmFpbGFibGVpbiwgcHJpY2UsIHF1YW50aXR5LCBjYXRlZ29yeSB9ID1cclxuICAgICAgcmVxLmJvZHk7XHJcblxyXG4gICAgbGV0IHRodW1ibmFpbCA9IHJlcS5ib2R5LnRodW1ibmFpbDtcclxuICAgIGxldCBpbWFnZXMgPSByZXEuYm9keS5pbWFnZXMgPyByZXEuYm9keS5pbWFnZXMuc3BsaXQoXCIsXCIpIDogW107XHJcblxyXG4gICAgaWYgKHJlcS5maWxlcykge1xyXG4gICAgICBpZiAocmVxLmZpbGVzW1widGh1bWJuYWlsXCJdICYmIHJlcS5maWxlc1tcInRodW1ibmFpbFwiXVswXSkge1xyXG4gICAgICAgIGNvbnN0IG9sZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWQocHJvZHVjdGlkKTtcclxuICAgICAgICBkZWxldGVGaWxlKGAuL3VwbG9hZHMvJHtvbGRQcm9kdWN0LnRodW1ibmFpbH1gKTtcclxuICAgICAgICB0aHVtYm5haWwgPSByZXEuZmlsZXNbXCJ0aHVtYm5haWxcIl1bMF0uZmlsZW5hbWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJlcS5maWxlc1tcImltYWdlc1wiXSkge1xyXG4gICAgICAgIGNvbnN0IG9sZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWQocHJvZHVjdGlkKTtcclxuICAgICAgICBvbGRQcm9kdWN0LmltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4gZGVsZXRlRmlsZShgLi91cGxvYWRzLyR7aW1hZ2V9YCkpO1xyXG4gICAgICAgIGltYWdlcyA9IHJlcS5maWxlc1tcImltYWdlc1wiXS5tYXAoKGZpbGUpID0+IGZpbGUuZmlsZW5hbWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWRBbmRVcGRhdGUoXHJcbiAgICAgIHByb2R1Y3RpZCxcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGF2YWlsYWJsZWluLFxyXG4gICAgICAgIHByaWNlLFxyXG4gICAgICAgIHF1YW50aXR5LFxyXG4gICAgICAgIGNhdGVnb3J5LFxyXG4gICAgICAgIHRodW1ibmFpbCxcclxuICAgICAgICBpbWFnZXMsXHJcbiAgICAgIH0sXHJcbiAgICAgIHsgbmV3OiB0cnVlIH1cclxuICAgICk7XHJcblxyXG4gICAgaWYgKHVwZGF0ZWRQcm9kdWN0KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJQcm9kdWN0IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiB1cGRhdGVkUHJvZHVjdCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gdXBkYXRlIHByb2R1Y3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHByb2R1Y3RpZCA9IHJlcS5wYXJhbXMucHJvZHVjdGlkO1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZChwcm9kdWN0aWQpO1xyXG5cclxuICAgIGlmICghcHJvZHVjdCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiUHJvZHVjdCBub3QgZm91bmRcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByb2R1Y3QudGh1bWJuYWlsKSB7XHJcbiAgICAgIGRlbGV0ZUZpbGUoYC4vdXBsb2Fkcy8ke3Byb2R1Y3QudGh1bWJuYWlsfWApO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb2R1Y3QuaW1hZ2VzICYmIHByb2R1Y3QuaW1hZ2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgcHJvZHVjdC5pbWFnZXMuZm9yRWFjaCgoaW1hZ2UpID0+IGRlbGV0ZUZpbGUoYC4vdXBsb2Fkcy8ke2ltYWdlfWApKTtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWRBbmREZWxldGUocHJvZHVjdGlkKTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIlByb2R1Y3QgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgcGFnZSA9IDEsIGxpbWl0ID0gMTAsIHNlYXJjaCA9IFwiXCIsIHNvcnQgfSA9IHJlcS5xdWVyeTtcclxuICAgIGNvbnN0IHNraXBubyA9IGxpbWl0ICogKHBhZ2UgLSAxKTtcclxuICAgIGNvbnN0IHJneCA9IChwYXR0ZXJuKSA9PiBuZXcgUmVnRXhwKGAuKiR7cGF0dGVybn0uKmAsIFwiaVwiKTtcclxuICAgIGNvbnN0IHNlYXJjaFJneCA9IHJneChzZWFyY2gpO1xyXG5cclxuICAgIGxldCBmaWx0ZXIgPSBzZWFyY2hcclxuICAgICAgPyB7XHJcbiAgICAgICAgICAkb3I6IFtcclxuICAgICAgICAgICAgeyB0aXRsZTogeyAkcmVnZXg6IHNlYXJjaFJneCB9IH0sXHJcbiAgICAgICAgICAgIHsgZGVzY3JpcHRpb246IHsgJHJlZ2V4OiBzZWFyY2hSZ3ggfSB9LFxyXG4gICAgICAgICAgXSxcclxuICAgICAgICB9XHJcbiAgICAgIDoge307XHJcblxyXG4gICAgbGV0IHNvcnRWYWx1ZSA9IFtcIl9pZFwiLCAxXTtcclxuICAgIGlmIChzb3J0ID09PSBcIm5ld1wiKSBzb3J0VmFsdWUgPSBbXCJfaWRcIiwgLTFdO1xyXG4gICAgaWYgKHNvcnQgPT09IFwibHRoXCIpIHNvcnRWYWx1ZSA9IFtcInByaWNlXCIsIDFdO1xyXG4gICAgaWYgKHNvcnQgPT09IFwiaHRsXCIpIHNvcnRWYWx1ZSA9IFtcInByaWNlXCIsIC0xXTtcclxuXHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHByb2R1Y3RNb2RlbFxyXG4gICAgICAuZmluZChmaWx0ZXIpXHJcbiAgICAgIC5wb3B1bGF0ZShcImNhdGVnb3J5XCIpXHJcbiAgICAgIC5saW1pdChwYXJzZUludChsaW1pdCkpXHJcbiAgICAgIC5za2lwKHNraXBubylcclxuICAgICAgLnNvcnQoW3NvcnRWYWx1ZV0pO1xyXG5cclxuICAgIGlmIChwcm9kdWN0cykge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIGNvdW50OiBwcm9kdWN0cy5sZW5ndGgsXHJcbiAgICAgICAgZGF0YTogcHJvZHVjdHMsXHJcbiAgICAgICAgbWVzc2FnZTogXCJGZXRjaGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0c0FnZ3IgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBwcm9kdWN0TW9kZWwuYWdncmVnYXRlKFtcclxuICAgICAge1xyXG4gICAgICAgICRsb29rdXA6IHtcclxuICAgICAgICAgIGZyb206IFwiY2F0ZWdvcmllc1wiLFxyXG4gICAgICAgICAgbG9jYWxGaWVsZDogXCJjYXRlZ29yeVwiLFxyXG4gICAgICAgICAgZm9yZWlnbkZpZWxkOiBcIl9pZFwiLFxyXG4gICAgICAgICAgYXM6IFwiY2F0ZWdvcnlEYXRhXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgeyAkdW53aW5kOiBcIiRjYXRlZ29yeURhdGFcIiB9LFxyXG4gICAgXSk7XHJcblxyXG4gICAgaWYgKHByb2R1Y3RzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgY291bnQ6IHByb2R1Y3RzLmxlbmd0aCxcclxuICAgICAgICBkYXRhOiBwcm9kdWN0cyxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdGlkID0gcmVxLnBhcmFtcy5wcm9kdWN0aWQ7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdE1vZGVsLmZpbmRCeUlkKHByb2R1Y3RpZCkucG9wdWxhdGUoXCJjYXRlZ29yeVwiKTtcclxuXHJcbiAgICBpZiAocHJvZHVjdCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIGRhdGE6IHByb2R1Y3QsXHJcbiAgICAgICAgbWVzc2FnZTogXCJGZXRjaGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxP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","map":{"version":3,"names":["_product","_interopRequireDefault","require","_multer","_fs","_path","_util","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","uploadPath","fs","existsSync","mkdirSync","filename","ext","path","extname","originalname","name","basename","fullname","concat","Date","now","Math","round","random","upload","uploadFiles","util","promisify","fields","maxCount","deleteFile","filepath","unlinkSync","addProduct","res","title","description","availablein","price","quantity","category","body","thumbnail","images","files","map","newProduct","productModel","saveData","save","status","json","data","message","success","err","exports","updateProduct","productid","params","split","oldProduct","findById","forEach","image","updatedProduct","findByIdAndUpdate","new","deleteProduct","product","length","findByIdAndDelete","getProducts","page","limit","search","sort","query","skipno","rgx","pattern","RegExp","searchRgx","filter","$or","$regex","sortValue","products","find","populate","parseInt","skip","count","getProductsAggr","aggregate","$lookup","from","localField","foreignField","as","$unwind","getProduct"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["product.controller.js"],"sourcesContent":["import productModel from \"../models/product.model\";\r\nimport multer from \"multer\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport util from \"util\";\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    const uploadPath = \"./uploads\";\r\n    if (!fs.existsSync(uploadPath)) {\r\n      fs.mkdirSync(uploadPath);\r\n    }\r\n    cb(null, uploadPath);\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const ext = path.extname(file.originalname);\r\n    const name = path.basename(file.originalname, ext);\r\n    const fullname = `${name}-${Date.now()}-${Math.round(\r\n      Math.random() * 1e9\r\n    )}${ext}`;\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nconst uploadFiles = util.promisify(\r\n  upload.fields([\r\n    { name: \"thumbnail\", maxCount: 1 },\r\n    { name: \"images\", maxCount: 10 },\r\n  ])\r\n);\r\n\r\nconst deleteFile = (filepath) => {\r\n  if (fs.existsSync(filepath)) {\r\n    fs.unlinkSync(filepath);\r\n  }\r\n};\r\n\r\nexport const addProduct = async (req, res) => {\r\n  try {\r\n    await uploadFiles(req, res);\r\n\r\n    const { title, description, availablein, price, quantity, category } =\r\n      req.body;\r\n    let thumbnail = null;\r\n    let images = [];\r\n\r\n    if (req.files) {\r\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\r\n        thumbnail = req.files[\"thumbnail\"][0].filename;\r\n      }\r\n      if (req.files[\"images\"]) {\r\n        images = req.files[\"images\"].map((file) => file.filename);\r\n      }\r\n    }\r\n\r\n    const newProduct = new productModel({\r\n      title,\r\n      description,\r\n      availablein,\r\n      price,\r\n      quantity,\r\n      category,\r\n      thumbnail,\r\n      images,\r\n    });\r\n\r\n    const saveData = await newProduct.save();\r\n\r\n    return res.status(201).json({\r\n      data: saveData,\r\n      message: \"New record added\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    await uploadFiles(req, res);\r\n\r\n    const { title, description, availablein, price, quantity, category } =\r\n      req.body;\r\n\r\n    let thumbnail = req.body.thumbnail;\r\n    let images = req.body.images ? req.body.images.split(\",\") : [];\r\n\r\n    if (req.files) {\r\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\r\n        const oldProduct = await productModel.findById(productid);\r\n        deleteFile(`./uploads/${oldProduct.thumbnail}`);\r\n        thumbnail = req.files[\"thumbnail\"][0].filename;\r\n      }\r\n      if (req.files[\"images\"]) {\r\n        const oldProduct = await productModel.findById(productid);\r\n        oldProduct.images.forEach((image) => deleteFile(`./uploads/${image}`));\r\n        images = req.files[\"images\"].map((file) => file.filename);\r\n      }\r\n    }\r\n\r\n    const updatedProduct = await productModel.findByIdAndUpdate(\r\n      productid,\r\n      {\r\n        title,\r\n        description,\r\n        availablein,\r\n        price,\r\n        quantity,\r\n        category,\r\n        thumbnail,\r\n        images,\r\n      },\r\n      { new: true }\r\n    );\r\n\r\n    if (updatedProduct) {\r\n      return res.status(200).json({\r\n        message: \"Product updated successfully\",\r\n        success: true,\r\n        data: updatedProduct,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Failed to update product\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    const product = await productModel.findById(productid);\r\n\r\n    if (!product) {\r\n      return res.status(404).json({\r\n        message: \"Product not found\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    if (product.thumbnail) {\r\n      deleteFile(`./uploads/${product.thumbnail}`);\r\n    }\r\n    if (product.images && product.images.length > 0) {\r\n      product.images.forEach((image) => deleteFile(`./uploads/${image}`));\r\n    }\r\n\r\n    await productModel.findByIdAndDelete(productid);\r\n\r\n    return res.status(200).json({\r\n      message: \"Product deleted successfully\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProducts = async (req, res) => {\r\n  try {\r\n    const { page = 1, limit = 10, search = \"\", sort } = req.query;\r\n    const skipno = limit * (page - 1);\r\n    const rgx = (pattern) => new RegExp(`.*${pattern}.*`, \"i\");\r\n    const searchRgx = rgx(search);\r\n\r\n    let filter = search\r\n      ? {\r\n          $or: [\r\n            { title: { $regex: searchRgx } },\r\n            { description: { $regex: searchRgx } },\r\n          ],\r\n        }\r\n      : {};\r\n\r\n    let sortValue = [\"_id\", 1];\r\n    if (sort === \"new\") sortValue = [\"_id\", -1];\r\n    if (sort === \"lth\") sortValue = [\"price\", 1];\r\n    if (sort === \"htl\") sortValue = [\"price\", -1];\r\n\r\n    const products = await productModel\r\n      .find(filter)\r\n      .populate(\"category\")\r\n      .limit(parseInt(limit))\r\n      .skip(skipno)\r\n      .sort([sortValue]);\r\n\r\n    if (products) {\r\n      return res.status(200).json({\r\n        count: products.length,\r\n        data: products,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProductsAggr = async (req, res) => {\r\n  try {\r\n    const products = await productModel.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: \"categories\",\r\n          localField: \"category\",\r\n          foreignField: \"_id\",\r\n          as: \"categoryData\",\r\n        },\r\n      },\r\n      { $unwind: \"$categoryData\" },\r\n    ]);\r\n\r\n    if (products) {\r\n      return res.status(200).json({\r\n        count: products.length,\r\n        data: products,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    const product = await productModel.findById(productid).populate(\"category\");\r\n\r\n    if (product) {\r\n      return res.status(200).json({\r\n        data: product,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1715808689911},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\product.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _category = _interopRequireDefault(require(\"./category.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst productSchema = new Schema({\n  title: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: Schema.Types.ObjectId,\n    required: true,\n    ref: _category.default\n  },\n  description: {\n    type: String,\n    default: null\n  },\n  avaliablein: {\n    type: String,\n    default: null\n  },\n  quantity: {\n    type: Number,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  sizes: {\n    type: Array,\n    default: [34, 36, 38, 40, 42, 44, 46]\n  },\n  thumbnail: {\n    type: String,\n    default: null\n  },\n  images: {\n    type: [String],\n    default: [1, 2, 3, 4]\n  },\n  status: {\n    type: Number,\n    default: 1\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"product\", productSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jYXRlZ29yeSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJwcm9kdWN0U2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJjYXRlZ29yeSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJjYXRlZ29yeU1vZGVsIiwiZGVzY3JpcHRpb24iLCJhdmFsaWFibGVpbiIsInF1YW50aXR5IiwiTnVtYmVyIiwicHJpY2UiLCJzaXplcyIsIkFycmF5IiwidGh1bWJuYWlsIiwiaW1hZ2VzIiwic3RhdHVzIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3QubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgY2F0ZWdvcnlNb2RlbCBmcm9tIFwiLi9jYXRlZ29yeS5tb2RlbFwiO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBwcm9kdWN0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdGl0bGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgY2F0ZWdvcnk6IHtcclxuICAgIHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgcmVmOiBjYXRlZ29yeU1vZGVsLFxyXG4gIH0sXHJcbiAgZGVzY3JpcHRpb246IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgfSxcclxuICBhdmFsaWFibGVpbjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIHF1YW50aXR5OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHByaWNlOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG5cclxuICBzaXplczoge1xyXG4gICAgdHlwZTogQXJyYXksXHJcbiAgICBkZWZhdWx0OiBbMzQsIDM2LCAzOCwgNDAsIDQyLCA0NCwgNDZdLFxyXG4gIH0sXHJcbiAgdGh1bWJuYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsLFxyXG4gIH0sXHJcbiAgaW1hZ2VzOiB7XHJcbiAgICB0eXBlOiBbU3RyaW5nXSxcclxuICAgIGRlZmF1bHQ6IFsxLCAyLCAzLCA0XSxcclxuICB9LFxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMSxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJwcm9kdWN0XCIsIHByb2R1Y3RTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QyxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUM3QyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsYUFBYSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUMvQkcsS0FBSyxFQUFFO0lBQ0xDLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RDLFFBQVEsRUFBRTtJQUNSSCxJQUFJLEVBQUVKLE1BQU0sQ0FBQ1EsS0FBSyxDQUFDQyxRQUFRO0lBQzNCSCxRQUFRLEVBQUUsSUFBSTtJQUNkSSxHQUFHLEVBQUVDO0VBQ1AsQ0FBQztFQUNEQyxXQUFXLEVBQUU7SUFDWFIsSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRGMsV0FBVyxFQUFFO0lBQ1hULElBQUksRUFBRUMsTUFBTTtJQUNaTixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RlLFFBQVEsRUFBRTtJQUNSVixJQUFJLEVBQUVXLE1BQU07SUFDWlQsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNEVSxLQUFLLEVBQUU7SUFDTFosSUFBSSxFQUFFVyxNQUFNO0lBQ1pULFFBQVEsRUFBRTtFQUNaLENBQUM7RUFFRFcsS0FBSyxFQUFFO0lBQ0xiLElBQUksRUFBRWMsS0FBSztJQUNYbkIsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtFQUN0QyxDQUFDO0VBQ0RvQixTQUFTLEVBQUU7SUFDVGYsSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRHFCLE1BQU0sRUFBRTtJQUNOaEIsSUFBSSxFQUFFLENBQUNDLE1BQU0sQ0FBQztJQUNkTixPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0VBQ3RCLENBQUM7RUFDRHNCLE1BQU0sRUFBRTtJQUNOakIsSUFBSSxFQUFFVyxNQUFNO0lBQ1poQixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0R1QixVQUFVLEVBQUU7SUFDVmxCLElBQUksRUFBRW1CLElBQUk7SUFDVnhCLE9BQU8sRUFBRXdCLElBQUksQ0FBQ0MsR0FBRyxDQUFDO0VBQ3BCO0FBQ0YsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUEzQixPQUFBLEdBRVlFLGlCQUFRLENBQUMwQixLQUFLLENBQUMsU0FBUyxFQUFFekIsYUFBYSxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_category","obj","__esModule","default","Schema","mongoose","productSchema","title","type","String","required","category","Types","ObjectId","ref","categoryModel","description","avaliablein","quantity","Number","price","sizes","Array","thumbnail","images","status","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["product.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nimport categoryModel from \"./category.model\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst productSchema = new Schema({\r\n  title: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  category: {\r\n    type: Schema.Types.ObjectId,\r\n    required: true,\r\n    ref: categoryModel,\r\n  },\r\n  description: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  avaliablein: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  quantity: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  price: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n\r\n  sizes: {\r\n    type: Array,\r\n    default: [34, 36, 38, 40, 42, 44, 46],\r\n  },\r\n  thumbnail: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  images: {\r\n    type: [String],\r\n    default: [1, 2, 3, 4],\r\n  },\r\n  status: {\r\n    type: Number,\r\n    default: 1,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"product\", productSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC7C,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,aAAa,GAAG,IAAIF,MAAM,CAAC;EAC/BG,KAAK,EAAE;IACLC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,QAAQ,EAAE;IACRH,IAAI,EAAEJ,MAAM,CAACQ,KAAK,CAACC,QAAQ;IAC3BH,QAAQ,EAAE,IAAI;IACdI,GAAG,EAAEC;EACP,CAAC;EACDC,WAAW,EAAE;IACXR,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDc,WAAW,EAAE;IACXT,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDe,QAAQ,EAAE;IACRV,IAAI,EAAEW,MAAM;IACZT,QAAQ,EAAE;EACZ,CAAC;EACDU,KAAK,EAAE;IACLZ,IAAI,EAAEW,MAAM;IACZT,QAAQ,EAAE;EACZ,CAAC;EAEDW,KAAK,EAAE;IACLb,IAAI,EAAEc,KAAK;IACXnB,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;EACtC,CAAC;EACDoB,SAAS,EAAE;IACTf,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDqB,MAAM,EAAE;IACNhB,IAAI,EAAE,CAACC,MAAM,CAAC;IACdN,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;EACtB,CAAC;EACDsB,MAAM,EAAE;IACNjB,IAAI,EAAEW,MAAM;IACZhB,OAAO,EAAE;EACX,CAAC;EACDuB,UAAU,EAAE;IACVlB,IAAI,EAAEmB,IAAI;IACVxB,OAAO,EAAEwB,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAA3B,OAAA,GAEYE,iBAAQ,CAAC0B,KAAK,CAAC,SAAS,EAAEzB,aAAa,CAAC","ignoreList":[]}},"mtime":1715804608148},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\cart.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cart = require(\"../controllers/cart.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-to-cart\", _cart.addToCart);\nrouter.put(\"/update-quantity/:item_id\", _cart.updateQuantity);\nrouter.delete(\"/delete-cart-item/:item_id\", _cart.deleteCartItem);\nrouter.get(\"/get-cart-items/:user_id\", _cart.getCartItems);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NhcnQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkVG9DYXJ0IiwicHV0IiwidXBkYXRlUXVhbnRpdHkiLCJkZWxldGUiLCJkZWxldGVDYXJ0SXRlbSIsImdldCIsImdldENhcnRJdGVtcyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxccm91dGVyc1xcIiwic291cmNlcyI6WyJjYXJ0LnJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge1xyXG4gIGFkZFRvQ2FydCxcclxuICBkZWxldGVDYXJ0SXRlbSxcclxuICBnZXRDYXJ0SXRlbXMsXHJcbiAgdXBkYXRlUXVhbnRpdHksXHJcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL2NhcnQuY29udHJvbGxlclwiO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL2FkZC10by1jYXJ0XCIsIGFkZFRvQ2FydCk7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXF1YW50aXR5LzppdGVtX2lkXCIsIHVwZGF0ZVF1YW50aXR5KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUtY2FydC1pdGVtLzppdGVtX2lkXCIsIGRlbGV0ZUNhcnRJdGVtKTtcclxucm91dGVyLmdldChcIi9nZXQtY2FydC1pdGVtcy86dXNlcl9pZFwiLCBnZXRDYXJ0SXRlbXMpO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBS3dDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXhDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLGNBQWMsRUFBRUMsZUFBUyxDQUFDO0FBQ3RDSixNQUFNLENBQUNLLEdBQUcsQ0FBQywyQkFBMkIsRUFBRUMsb0JBQWMsQ0FBQztBQUN2RE4sTUFBTSxDQUFDTyxNQUFNLENBQUMsNEJBQTRCLEVBQUVDLG9CQUFjLENBQUM7QUFDM0RSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLDBCQUEwQixFQUFFQyxrQkFBWSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFiLE9BQUEsR0FDdENDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cart","obj","__esModule","default","router","express","Router","post","addToCart","put","updateQuantity","delete","deleteCartItem","get","getCartItems","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["cart.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addToCart,\r\n  deleteCartItem,\r\n  getCartItems,\r\n  updateQuantity,\r\n} from \"../controllers/cart.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-to-cart\", addToCart);\r\nrouter.put(\"/update-quantity/:item_id\", updateQuantity);\r\nrouter.delete(\"/delete-cart-item/:item_id\", deleteCartItem);\r\nrouter.get(\"/get-cart-items/:user_id\", getCartItems);\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAKwC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,cAAc,EAAEC,eAAS,CAAC;AACtCJ,MAAM,CAACK,GAAG,CAAC,2BAA2B,EAAEC,oBAAc,CAAC;AACvDN,MAAM,CAACO,MAAM,CAAC,4BAA4B,EAAEC,oBAAc,CAAC;AAC3DR,MAAM,CAACS,GAAG,CAAC,0BAA0B,EAAEC,kBAAY,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAb,OAAA,GACtCC,MAAM","ignoreList":[]}},"mtime":1714722895373},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\cart.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateQuantity = exports.getCartItems = exports.deleteCartItem = exports.addToCart = void 0;\nvar _cart = _interopRequireDefault(require(\"../models/cart.model\"));\nvar _product = _interopRequireDefault(require(\"../models/product.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst addToCart = async (req, res) => {\n  try {\n    const {\n      userID,\n      productID,\n      quantity\n    } = req.body;\n    const exitingItem = await _cart.default.findOne({\n      userID: userID,\n      productID: productID\n    });\n    if (exitingItem) {\n      let qty = quantity ? exitingItem.quantity + quantity : exitingItem.quantity + 1;\n      if (qty > 5) {\n        return res.status(200).json({\n          message: \"Quantity exceeded\"\n        });\n      }\n      const updateQty = await _cart.default.updateOne({\n        _id: exitingItem._id\n      }, {\n        $set: {\n          quantity: qty\n        }\n      });\n      if (updateQty.modifiedCount > 0) {\n        return res.status(201).json({\n          message: \"Updated\",\n          success: true\n        });\n      }\n    }\n    const proData = await _product.default.findOne({\n      _id: productID\n    });\n    const saveData = await _cart.default.create({\n      userID: userID,\n      productID: productID,\n      title: proData.title,\n      image: proData.thumbnail,\n      price: proData.price,\n      quantity: quantity ? quantity : 1\n    });\n    if (saveData) {\n      return res.status(200).json({\n        data: saveData,\n        message: \"Success\",\n        success: true\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addToCart = addToCart;\nconst updateQuantity = async (req, res) => {\n  try {\n    const type = req.query.type;\n    const cartItemID = req.params.item_id;\n    const cartItem = await _cart.default.findOne({\n      _id: cartItemID\n    });\n    let qty = cartItem.quantity;\n    if (type === \"increment\") {\n      qty = qty + 1;\n    }\n    if (type === \"decrement\") {\n      qty = qty - 1;\n    }\n    if (qty > 5) {\n      return res.status(200).json({\n        message: \"Quantity exceeded\"\n      });\n    }\n    if (qty == 0) {\n      const deleteItem = await _cart.default.deleteOne({\n        _id: cartItemID\n      });\n      //   console.log(deleteItem)\n      if (deleteItem.deletedCount > 0) {\n        return res.status(200).json({\n          message: \"Item removed\"\n        });\n      }\n    }\n    const updateCartQty = await _cart.default.updateOne({\n      _id: cartItemID\n    }, {\n      $set: {\n        quantity: qty\n      }\n    });\n    if (updateCartQty.modifiedCount > 0) {\n      return res.status(200).json({\n        message: \"Updated\",\n        success: true\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateQuantity = updateQuantity;\nconst deleteCartItem = async (req, res) => {\n  try {\n    const cartItemID = req.params.item_id;\n    const deleteItem = await _cart.default.deleteOne({\n      _id: cartItemID\n    });\n    if (deleteItem.deletedCount > 0) {\n      return res.status(200).json({\n        message: \"Item removed\"\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteCartItem = deleteCartItem;\nconst getCartItems = async (req, res) => {\n  try {\n    const userID = req.params.user_id;\n    const cartItems = await _cart.default.find({\n      userID: userID\n    });\n    if (cartItems) {\n      return res.status(201).json({\n        data: cartItems,\n        message: \"Success\",\n        success: true\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getCartItems = getCartItems;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2FydCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3QiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFkZFRvQ2FydCIsInJlcSIsInJlcyIsInVzZXJJRCIsInByb2R1Y3RJRCIsInF1YW50aXR5IiwiYm9keSIsImV4aXRpbmdJdGVtIiwiY2FydE1vZGVsIiwiZmluZE9uZSIsInF0eSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidXBkYXRlUXR5IiwidXBkYXRlT25lIiwiX2lkIiwiJHNldCIsIm1vZGlmaWVkQ291bnQiLCJzdWNjZXNzIiwicHJvRGF0YSIsInByb2R1Y3RNb2RlbCIsInNhdmVEYXRhIiwiY3JlYXRlIiwidGl0bGUiLCJpbWFnZSIsInRodW1ibmFpbCIsInByaWNlIiwiZGF0YSIsImVyciIsImV4cG9ydHMiLCJ1cGRhdGVRdWFudGl0eSIsInR5cGUiLCJxdWVyeSIsImNhcnRJdGVtSUQiLCJwYXJhbXMiLCJpdGVtX2lkIiwiY2FydEl0ZW0iLCJkZWxldGVJdGVtIiwiZGVsZXRlT25lIiwiZGVsZXRlZENvdW50IiwidXBkYXRlQ2FydFF0eSIsImRlbGV0ZUNhcnRJdGVtIiwiZ2V0Q2FydEl0ZW1zIiwidXNlcl9pZCIsImNhcnRJdGVtcyIsImZpbmQiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbImNhcnQuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2FydE1vZGVsIGZyb20gXCIuLi9tb2RlbHMvY2FydC5tb2RlbFwiO1xyXG5pbXBvcnQgcHJvZHVjdE1vZGVsIGZyb20gXCIuLi9tb2RlbHMvcHJvZHVjdC5tb2RlbFwiO1xyXG5leHBvcnQgY29uc3QgYWRkVG9DYXJ0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklELCBwcm9kdWN0SUQsIHF1YW50aXR5IH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBjb25zdCBleGl0aW5nSXRlbSA9IGF3YWl0IGNhcnRNb2RlbC5maW5kT25lKHtcclxuICAgICAgdXNlcklEOiB1c2VySUQsXHJcbiAgICAgIHByb2R1Y3RJRDogcHJvZHVjdElELFxyXG4gICAgfSk7XHJcbiAgICBpZiAoZXhpdGluZ0l0ZW0pIHtcclxuICAgICAgbGV0IHF0eSA9IHF1YW50aXR5XHJcbiAgICAgICAgPyBleGl0aW5nSXRlbS5xdWFudGl0eSArIHF1YW50aXR5XHJcbiAgICAgICAgOiBleGl0aW5nSXRlbS5xdWFudGl0eSArIDE7XHJcblxyXG4gICAgICBpZiAocXR5ID4gNSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlF1YW50aXR5IGV4Y2VlZGVkXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgdXBkYXRlUXR5ID0gYXdhaXQgY2FydE1vZGVsLnVwZGF0ZU9uZShcclxuICAgICAgICB7IF9pZDogZXhpdGluZ0l0ZW0uX2lkIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgICBxdWFudGl0eTogcXR5LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAodXBkYXRlUXR5Lm1vZGlmaWVkQ291bnQgPiAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZFwiLFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByb0RhdGEgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZE9uZSh7IF9pZDogcHJvZHVjdElEIH0pO1xyXG5cclxuICAgIGNvbnN0IHNhdmVEYXRhID0gYXdhaXQgY2FydE1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgIHVzZXJJRDogdXNlcklELFxyXG4gICAgICBwcm9kdWN0SUQ6IHByb2R1Y3RJRCxcclxuICAgICAgdGl0bGU6IHByb0RhdGEudGl0bGUsXHJcbiAgICAgIGltYWdlOiBwcm9EYXRhLnRodW1ibmFpbCxcclxuICAgICAgcHJpY2U6IHByb0RhdGEucHJpY2UsXHJcbiAgICAgIHF1YW50aXR5OiBxdWFudGl0eSA/IHF1YW50aXR5IDogMSxcclxuICAgIH0pO1xyXG4gICAgaWYgKHNhdmVEYXRhKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogc2F2ZURhdGEsXHJcbiAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlUXVhbnRpdHkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdHlwZSA9IHJlcS5xdWVyeS50eXBlO1xyXG4gICAgY29uc3QgY2FydEl0ZW1JRCA9IHJlcS5wYXJhbXMuaXRlbV9pZDtcclxuICAgIGNvbnN0IGNhcnRJdGVtID0gYXdhaXQgY2FydE1vZGVsLmZpbmRPbmUoeyBfaWQ6IGNhcnRJdGVtSUQgfSk7XHJcbiAgICBsZXQgcXR5ID0gY2FydEl0ZW0ucXVhbnRpdHk7XHJcblxyXG4gICAgaWYgKHR5cGUgPT09IFwiaW5jcmVtZW50XCIpIHtcclxuICAgICAgcXR5ID0gcXR5ICsgMTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZSA9PT0gXCJkZWNyZW1lbnRcIikge1xyXG4gICAgICBxdHkgPSBxdHkgLSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChxdHkgPiA1KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJRdWFudGl0eSBleGNlZWRlZFwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocXR5ID09IDApIHtcclxuICAgICAgY29uc3QgZGVsZXRlSXRlbSA9IGF3YWl0IGNhcnRNb2RlbC5kZWxldGVPbmUoeyBfaWQ6IGNhcnRJdGVtSUQgfSk7XHJcbiAgICAgIC8vICAgY29uc29sZS5sb2coZGVsZXRlSXRlbSlcclxuICAgICAgaWYgKGRlbGV0ZUl0ZW0uZGVsZXRlZENvdW50ID4gMCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gcmVtb3ZlZFwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCB1cGRhdGVDYXJ0UXR5ID0gYXdhaXQgY2FydE1vZGVsLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IGNhcnRJdGVtSUQgfSxcclxuICAgICAge1xyXG4gICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgIHF1YW50aXR5OiBxdHksXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodXBkYXRlQ2FydFF0eS5tb2RpZmllZENvdW50ID4gMCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZUNhcnRJdGVtID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhcnRJdGVtSUQgPSByZXEucGFyYW1zLml0ZW1faWQ7XHJcbiAgICBjb25zdCBkZWxldGVJdGVtID0gYXdhaXQgY2FydE1vZGVsLmRlbGV0ZU9uZSh7IF9pZDogY2FydEl0ZW1JRCB9KTtcclxuICAgIGlmIChkZWxldGVJdGVtLmRlbGV0ZWRDb3VudCA+IDApIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gcmVtb3ZlZFwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDYXJ0SXRlbXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlcklEID0gcmVxLnBhcmFtcy51c2VyX2lkO1xyXG4gICAgY29uc3QgY2FydEl0ZW1zID0gYXdhaXQgY2FydE1vZGVsLmZpbmQoeyB1c2VySUQ6IHVzZXJJRCB9KTtcclxuICAgIGlmIChjYXJ0SXRlbXMpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBjYXJ0SXRlbXMsXHJcbiAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQW1ELFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzVDLE1BQU1HLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMzQyxJQUFJO0lBQ0YsTUFBTTtNQUFFQyxNQUFNO01BQUVDLFNBQVM7TUFBRUM7SUFBUyxDQUFDLEdBQUdKLEdBQUcsQ0FBQ0ssSUFBSTtJQUVoRCxNQUFNQyxXQUFXLEdBQUcsTUFBTUMsYUFBUyxDQUFDQyxPQUFPLENBQUM7TUFDMUNOLE1BQU0sRUFBRUEsTUFBTTtNQUNkQyxTQUFTLEVBQUVBO0lBQ2IsQ0FBQyxDQUFDO0lBQ0YsSUFBSUcsV0FBVyxFQUFFO01BQ2YsSUFBSUcsR0FBRyxHQUFHTCxRQUFRLEdBQ2RFLFdBQVcsQ0FBQ0YsUUFBUSxHQUFHQSxRQUFRLEdBQy9CRSxXQUFXLENBQUNGLFFBQVEsR0FBRyxDQUFDO01BRTVCLElBQUlLLEdBQUcsR0FBRyxDQUFDLEVBQUU7UUFDWCxPQUFPUixHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQzFCQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtNQUNBLE1BQU1DLFNBQVMsR0FBRyxNQUFNTixhQUFTLENBQUNPLFNBQVMsQ0FDekM7UUFBRUMsR0FBRyxFQUFFVCxXQUFXLENBQUNTO01BQUksQ0FBQyxFQUN4QjtRQUNFQyxJQUFJLEVBQUU7VUFDSlosUUFBUSxFQUFFSztRQUNaO01BQ0YsQ0FDRixDQUFDO01BRUQsSUFBSUksU0FBUyxDQUFDSSxhQUFhLEdBQUcsQ0FBQyxFQUFFO1FBQy9CLE9BQU9oQixHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQzFCQyxPQUFPLEVBQUUsU0FBUztVQUNsQk0sT0FBTyxFQUFFO1FBQ1gsQ0FBQyxDQUFDO01BQ0o7SUFDRjtJQUVBLE1BQU1DLE9BQU8sR0FBRyxNQUFNQyxnQkFBWSxDQUFDWixPQUFPLENBQUM7TUFBRU8sR0FBRyxFQUFFWjtJQUFVLENBQUMsQ0FBQztJQUU5RCxNQUFNa0IsUUFBUSxHQUFHLE1BQU1kLGFBQVMsQ0FBQ2UsTUFBTSxDQUFDO01BQ3RDcEIsTUFBTSxFQUFFQSxNQUFNO01BQ2RDLFNBQVMsRUFBRUEsU0FBUztNQUNwQm9CLEtBQUssRUFBRUosT0FBTyxDQUFDSSxLQUFLO01BQ3BCQyxLQUFLLEVBQUVMLE9BQU8sQ0FBQ00sU0FBUztNQUN4QkMsS0FBSyxFQUFFUCxPQUFPLENBQUNPLEtBQUs7TUFDcEJ0QixRQUFRLEVBQUVBLFFBQVEsR0FBR0EsUUFBUSxHQUFHO0lBQ2xDLENBQUMsQ0FBQztJQUNGLElBQUlpQixRQUFRLEVBQUU7TUFDWixPQUFPcEIsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQmdCLElBQUksRUFBRU4sUUFBUTtRQUNkVCxPQUFPLEVBQUUsU0FBUztRQUNsQk0sT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7RUFDRixDQUFDLENBQUMsT0FBT1UsR0FBRyxFQUFFO0lBQ1osT0FBTzNCLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFDMUJDLE9BQU8sRUFBRWdCLEdBQUcsQ0FBQ2hCLE9BQU87TUFDcEJNLE9BQU8sRUFBRTtJQUNYLENBQUMsQ0FBQztFQUNKO0FBQ0YsQ0FBQztBQUFDVyxPQUFBLENBQUE5QixTQUFBLEdBQUFBLFNBQUE7QUFFSyxNQUFNK0IsY0FBYyxHQUFHLE1BQUFBLENBQU85QixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNoRCxJQUFJO0lBQ0YsTUFBTThCLElBQUksR0FBRy9CLEdBQUcsQ0FBQ2dDLEtBQUssQ0FBQ0QsSUFBSTtJQUMzQixNQUFNRSxVQUFVLEdBQUdqQyxHQUFHLENBQUNrQyxNQUFNLENBQUNDLE9BQU87SUFDckMsTUFBTUMsUUFBUSxHQUFHLE1BQU03QixhQUFTLENBQUNDLE9BQU8sQ0FBQztNQUFFTyxHQUFHLEVBQUVrQjtJQUFXLENBQUMsQ0FBQztJQUM3RCxJQUFJeEIsR0FBRyxHQUFHMkIsUUFBUSxDQUFDaEMsUUFBUTtJQUUzQixJQUFJMkIsSUFBSSxLQUFLLFdBQVcsRUFBRTtNQUN4QnRCLEdBQUcsR0FBR0EsR0FBRyxHQUFHLENBQUM7SUFDZjtJQUVBLElBQUlzQixJQUFJLEtBQUssV0FBVyxFQUFFO01BQ3hCdEIsR0FBRyxHQUFHQSxHQUFHLEdBQUcsQ0FBQztJQUNmO0lBRUEsSUFBSUEsR0FBRyxHQUFHLENBQUMsRUFBRTtNQUNYLE9BQU9SLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0lBRUEsSUFBSUgsR0FBRyxJQUFJLENBQUMsRUFBRTtNQUNaLE1BQU00QixVQUFVLEdBQUcsTUFBTTlCLGFBQVMsQ0FBQytCLFNBQVMsQ0FBQztRQUFFdkIsR0FBRyxFQUFFa0I7TUFBVyxDQUFDLENBQUM7TUFDakU7TUFDQSxJQUFJSSxVQUFVLENBQUNFLFlBQVksR0FBRyxDQUFDLEVBQUU7UUFDL0IsT0FBT3RDLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDMUJDLE9BQU8sRUFBRTtRQUNYLENBQUMsQ0FBQztNQUNKO0lBQ0Y7SUFDQSxNQUFNNEIsYUFBYSxHQUFHLE1BQU1qQyxhQUFTLENBQUNPLFNBQVMsQ0FDN0M7TUFBRUMsR0FBRyxFQUFFa0I7SUFBVyxDQUFDLEVBQ25CO01BQ0VqQixJQUFJLEVBQUU7UUFDSlosUUFBUSxFQUFFSztNQUNaO0lBQ0YsQ0FDRixDQUFDO0lBRUQsSUFBSStCLGFBQWEsQ0FBQ3ZCLGFBQWEsR0FBRyxDQUFDLEVBQUU7TUFDbkMsT0FBT2hCLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLE9BQU8sRUFBRSxTQUFTO1FBQ2xCTSxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGLENBQUMsQ0FBQyxPQUFPVSxHQUFHLEVBQUU7SUFDWixPQUFPM0IsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUMxQkMsT0FBTyxFQUFFZ0IsR0FBRyxDQUFDaEIsT0FBTztNQUNwQk0sT0FBTyxFQUFFO0lBQ1gsQ0FBQyxDQUFDO0VBQ0o7QUFDRixDQUFDO0FBQUNXLE9BQUEsQ0FBQUMsY0FBQSxHQUFBQSxjQUFBO0FBRUssTUFBTVcsY0FBYyxHQUFHLE1BQUFBLENBQU96QyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNoRCxJQUFJO0lBQ0YsTUFBTWdDLFVBQVUsR0FBR2pDLEdBQUcsQ0FBQ2tDLE1BQU0sQ0FBQ0MsT0FBTztJQUNyQyxNQUFNRSxVQUFVLEdBQUcsTUFBTTlCLGFBQVMsQ0FBQytCLFNBQVMsQ0FBQztNQUFFdkIsR0FBRyxFQUFFa0I7SUFBVyxDQUFDLENBQUM7SUFDakUsSUFBSUksVUFBVSxDQUFDRSxZQUFZLEdBQUcsQ0FBQyxFQUFFO01BQy9CLE9BQU90QyxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQzFCQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGLENBQUMsQ0FBQyxPQUFPZ0IsR0FBRyxFQUFFO0lBQ1osT0FBTzNCLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFDMUJDLE9BQU8sRUFBRWdCLEdBQUcsQ0FBQ2hCLE9BQU87TUFDcEJNLE9BQU8sRUFBRTtJQUNYLENBQUMsQ0FBQztFQUNKO0FBQ0YsQ0FBQztBQUFDVyxPQUFBLENBQUFZLGNBQUEsR0FBQUEsY0FBQTtBQUVLLE1BQU1DLFlBQVksR0FBRyxNQUFBQSxDQUFPMUMsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDOUMsSUFBSTtJQUNGLE1BQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDa0MsTUFBTSxDQUFDUyxPQUFPO0lBQ2pDLE1BQU1DLFNBQVMsR0FBRyxNQUFNckMsYUFBUyxDQUFDc0MsSUFBSSxDQUFDO01BQUUzQyxNQUFNLEVBQUVBO0lBQU8sQ0FBQyxDQUFDO0lBQzFELElBQUkwQyxTQUFTLEVBQUU7TUFDYixPQUFPM0MsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQmdCLElBQUksRUFBRWlCLFNBQVM7UUFDZmhDLE9BQU8sRUFBRSxTQUFTO1FBQ2xCTSxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGLENBQUMsQ0FBQyxPQUFPVSxHQUFHLEVBQUU7SUFDWixPQUFPM0IsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUMxQkMsT0FBTyxFQUFFZ0IsR0FBRyxDQUFDaEIsT0FBTztNQUNwQk0sT0FBTyxFQUFFO0lBQ1gsQ0FBQyxDQUFDO0VBQ0o7QUFDRixDQUFDO0FBQUNXLE9BQUEsQ0FBQWEsWUFBQSxHQUFBQSxZQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_cart","_interopRequireDefault","require","_product","obj","__esModule","default","addToCart","req","res","userID","productID","quantity","body","exitingItem","cartModel","findOne","qty","status","json","message","updateQty","updateOne","_id","$set","modifiedCount","success","proData","productModel","saveData","create","title","image","thumbnail","price","data","err","exports","updateQuantity","type","query","cartItemID","params","item_id","cartItem","deleteItem","deleteOne","deletedCount","updateCartQty","deleteCartItem","getCartItems","user_id","cartItems","find"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["cart.controller.js"],"sourcesContent":["import cartModel from \"../models/cart.model\";\r\nimport productModel from \"../models/product.model\";\r\nexport const addToCart = async (req, res) => {\r\n  try {\r\n    const { userID, productID, quantity } = req.body;\r\n\r\n    const exitingItem = await cartModel.findOne({\r\n      userID: userID,\r\n      productID: productID,\r\n    });\r\n    if (exitingItem) {\r\n      let qty = quantity\r\n        ? exitingItem.quantity + quantity\r\n        : exitingItem.quantity + 1;\r\n\r\n      if (qty > 5) {\r\n        return res.status(200).json({\r\n          message: \"Quantity exceeded\",\r\n        });\r\n      }\r\n      const updateQty = await cartModel.updateOne(\r\n        { _id: exitingItem._id },\r\n        {\r\n          $set: {\r\n            quantity: qty,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (updateQty.modifiedCount > 0) {\r\n        return res.status(201).json({\r\n          message: \"Updated\",\r\n          success: true,\r\n        });\r\n      }\r\n    }\r\n\r\n    const proData = await productModel.findOne({ _id: productID });\r\n\r\n    const saveData = await cartModel.create({\r\n      userID: userID,\r\n      productID: productID,\r\n      title: proData.title,\r\n      image: proData.thumbnail,\r\n      price: proData.price,\r\n      quantity: quantity ? quantity : 1,\r\n    });\r\n    if (saveData) {\r\n      return res.status(200).json({\r\n        data: saveData,\r\n        message: \"Success\",\r\n        success: true,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateQuantity = async (req, res) => {\r\n  try {\r\n    const type = req.query.type;\r\n    const cartItemID = req.params.item_id;\r\n    const cartItem = await cartModel.findOne({ _id: cartItemID });\r\n    let qty = cartItem.quantity;\r\n\r\n    if (type === \"increment\") {\r\n      qty = qty + 1;\r\n    }\r\n\r\n    if (type === \"decrement\") {\r\n      qty = qty - 1;\r\n    }\r\n\r\n    if (qty > 5) {\r\n      return res.status(200).json({\r\n        message: \"Quantity exceeded\",\r\n      });\r\n    }\r\n\r\n    if (qty == 0) {\r\n      const deleteItem = await cartModel.deleteOne({ _id: cartItemID });\r\n      //   console.log(deleteItem)\r\n      if (deleteItem.deletedCount > 0) {\r\n        return res.status(200).json({\r\n          message: \"Item removed\",\r\n        });\r\n      }\r\n    }\r\n    const updateCartQty = await cartModel.updateOne(\r\n      { _id: cartItemID },\r\n      {\r\n        $set: {\r\n          quantity: qty,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (updateCartQty.modifiedCount > 0) {\r\n      return res.status(200).json({\r\n        message: \"Updated\",\r\n        success: true,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteCartItem = async (req, res) => {\r\n  try {\r\n    const cartItemID = req.params.item_id;\r\n    const deleteItem = await cartModel.deleteOne({ _id: cartItemID });\r\n    if (deleteItem.deletedCount > 0) {\r\n      return res.status(200).json({\r\n        message: \"Item removed\",\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getCartItems = async (req, res) => {\r\n  try {\r\n    const userID = req.params.user_id;\r\n    const cartItems = await cartModel.find({ userID: userID });\r\n    if (cartItems) {\r\n      return res.status(201).json({\r\n        data: cartItems,\r\n        message: \"Success\",\r\n        success: true,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1715348956678},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\routers\\\\cart.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cart = require(\"../controllers/cart.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-to-cart\", _cart.addToCart);\nrouter.put(\"/update-quantity/:item_id\", _cart.updateQuantity);\nrouter.delete(\"/delete-cart-item/:item_id\", _cart.deleteCartItem);\nrouter.get(\"/get-cart-items/:user_id\", _cart.getCartItems);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NhcnQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkVG9DYXJ0IiwicHV0IiwidXBkYXRlUXVhbnRpdHkiLCJkZWxldGUiLCJkZWxldGVDYXJ0SXRlbSIsImdldCIsImdldENhcnRJdGVtcyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxccm91dGVyc1xcIiwic291cmNlcyI6WyJjYXJ0LnJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge1xyXG4gIGFkZFRvQ2FydCxcclxuICBkZWxldGVDYXJ0SXRlbSxcclxuICBnZXRDYXJ0SXRlbXMsXHJcbiAgdXBkYXRlUXVhbnRpdHksXHJcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL2NhcnQuY29udHJvbGxlclwiO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL2FkZC10by1jYXJ0XCIsIGFkZFRvQ2FydCk7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXF1YW50aXR5LzppdGVtX2lkXCIsIHVwZGF0ZVF1YW50aXR5KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUtY2FydC1pdGVtLzppdGVtX2lkXCIsIGRlbGV0ZUNhcnRJdGVtKTtcclxucm91dGVyLmdldChcIi9nZXQtY2FydC1pdGVtcy86dXNlcl9pZFwiLCBnZXRDYXJ0SXRlbXMpO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRCxPQUFBO0FBS3dDLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXhDLE1BQU1HLE1BQU0sR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFFL0JGLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLGNBQWMsRUFBRUMsZUFBUyxDQUFDO0FBQ3RDSixNQUFNLENBQUNLLEdBQUcsQ0FBQywyQkFBMkIsRUFBRUMsb0JBQWMsQ0FBQztBQUN2RE4sTUFBTSxDQUFDTyxNQUFNLENBQUMsNEJBQTRCLEVBQUVDLG9CQUFjLENBQUM7QUFDM0RSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLDBCQUEwQixFQUFFQyxrQkFBWSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFiLE9BQUEsR0FDdENDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cart","obj","__esModule","default","router","express","Router","post","addToCart","put","updateQuantity","delete","deleteCartItem","get","getCartItems","_default","exports"],"sourceRoot":"D:\\unzipped\\Session8\\routers\\","sources":["cart.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addToCart,\r\n  deleteCartItem,\r\n  getCartItems,\r\n  updateQuantity,\r\n} from \"../controllers/cart.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-to-cart\", addToCart);\r\nrouter.put(\"/update-quantity/:item_id\", updateQuantity);\r\nrouter.delete(\"/delete-cart-item/:item_id\", deleteCartItem);\r\nrouter.get(\"/get-cart-items/:user_id\", getCartItems);\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAKwC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,cAAc,EAAEC,eAAS,CAAC;AACtCJ,MAAM,CAACK,GAAG,CAAC,2BAA2B,EAAEC,oBAAc,CAAC;AACvDN,MAAM,CAACO,MAAM,CAAC,4BAA4B,EAAEC,oBAAc,CAAC;AAC3DR,MAAM,CAACS,GAAG,CAAC,0BAA0B,EAAEC,kBAAY,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAb,OAAA,GACtCC,MAAM","ignoreList":[]}},"mtime":1714722895373},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\cart.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst cartSchema = new Schema({\n  userID: {\n    type: Schema.Types.ObjectId,\n    required: true\n  },\n  productID: {\n    type: Schema.Types.ObjectId,\n    required: true\n  },\n  title: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  quantity: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    default: null\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"cart\", cartSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJjYXJ0U2NoZW1hIiwidXNlcklEIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZXF1aXJlZCIsInByb2R1Y3RJRCIsInRpdGxlIiwiU3RyaW5nIiwicHJpY2UiLCJOdW1iZXIiLCJxdWFudGl0eSIsImltYWdlIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImNhcnQubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBjYXJ0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdXNlcklEOiB7XHJcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHByb2R1Y3RJRDoge1xyXG4gICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICB0aXRsZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBwcmljZToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBxdWFudGl0eToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBpbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJjYXJ0XCIsIGNhcnRTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUM1QkcsTUFBTSxFQUFFO0lBQ05DLElBQUksRUFBRUosTUFBTSxDQUFDSyxLQUFLLENBQUNDLFFBQVE7SUFDM0JDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREMsU0FBUyxFQUFFO0lBQ1RKLElBQUksRUFBRUosTUFBTSxDQUFDSyxLQUFLLENBQUNDLFFBQVE7SUFDM0JDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREUsS0FBSyxFQUFFO0lBQ0xMLElBQUksRUFBRU0sTUFBTTtJQUNaSCxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RJLEtBQUssRUFBRTtJQUNMUCxJQUFJLEVBQUVRLE1BQU07SUFDWkwsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNETSxRQUFRLEVBQUU7SUFDUlQsSUFBSSxFQUFFUSxNQUFNO0lBQ1pMLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDRE8sS0FBSyxFQUFFO0lBQ0xWLElBQUksRUFBRU0sTUFBTTtJQUNaWCxPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RnQixVQUFVLEVBQUU7SUFDVlgsSUFBSSxFQUFFWSxJQUFJO0lBQ1ZqQixPQUFPLEVBQUVpQixJQUFJLENBQUNDLEdBQUcsQ0FBQztFQUNwQjtBQUNGLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBcEIsT0FBQSxHQUVZRSxpQkFBUSxDQUFDbUIsS0FBSyxDQUFDLE1BQU0sRUFBRWxCLFVBQVUsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","cartSchema","userID","type","Types","ObjectId","required","productID","title","String","price","Number","quantity","image","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["cart.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst cartSchema = new Schema({\r\n  userID: {\r\n    type: Schema.Types.ObjectId,\r\n    required: true,\r\n  },\r\n  productID: {\r\n    type: Schema.Types.ObjectId,\r\n    required: true,\r\n  },\r\n  title: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  price: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  quantity: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  image: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"cart\", cartSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,MAAM,EAAE;IACNC,IAAI,EAAEJ,MAAM,CAACK,KAAK,CAACC,QAAQ;IAC3BC,QAAQ,EAAE;EACZ,CAAC;EACDC,SAAS,EAAE;IACTJ,IAAI,EAAEJ,MAAM,CAACK,KAAK,CAACC,QAAQ;IAC3BC,QAAQ,EAAE;EACZ,CAAC;EACDE,KAAK,EAAE;IACLL,IAAI,EAAEM,MAAM;IACZH,QAAQ,EAAE;EACZ,CAAC;EACDI,KAAK,EAAE;IACLP,IAAI,EAAEQ,MAAM;IACZL,QAAQ,EAAE;EACZ,CAAC;EACDM,QAAQ,EAAE;IACRT,IAAI,EAAEQ,MAAM;IACZL,QAAQ,EAAE;EACZ,CAAC;EACDO,KAAK,EAAE;IACLV,IAAI,EAAEM,MAAM;IACZX,OAAO,EAAE;EACX,CAAC;EACDgB,UAAU,EAAE;IACVX,IAAI,EAAEY,IAAI;IACVjB,OAAO,EAAEiB,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAEYE,iBAAQ,CAACmB,KAAK,CAAC,MAAM,EAAElB,UAAU,CAAC","ignoreList":[]}},"mtime":1715349179130},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\controllers\\\\cart.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateQuantity = exports.getCartItems = exports.deleteCartItem = exports.addToCart = void 0;\nvar _cart = _interopRequireDefault(require(\"../models/cart.model\"));\nvar _product = _interopRequireDefault(require(\"../models/product.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst addToCart = async (req, res) => {\n  try {\n    const {\n      userID,\n      productID,\n      quantity\n    } = req.body;\n    const exitingItem = await _cart.default.findOne({\n      userID: userID,\n      productID: productID\n    });\n    if (exitingItem) {\n      let qty = quantity ? exitingItem.quantity + quantity : exitingItem.quantity + 1;\n      if (qty > 5) {\n        return res.status(200).json({\n          message: \"Quantity exceeded\"\n        });\n      }\n      const updateQty = await _cart.default.updateOne({\n        _id: exitingItem._id\n      }, {\n        $set: {\n          quantity: qty\n        }\n      });\n      if (updateQty.modifiedCount > 0) {\n        return res.status(201).json({\n          message: \"Updated\",\n          success: true\n        });\n      }\n    }\n    const proData = await _product.default.findOne({\n      _id: productID\n    });\n    const saveData = await _cart.default.create({\n      userID: userID,\n      productID: productID,\n      title: proData.title,\n      image: proData.thumbnail,\n      price: proData.price,\n      quantity: quantity ? quantity : 1\n    });\n    if (saveData) {\n      return res.status(200).json({\n        data: saveData,\n        message: \"Success\",\n        success: true\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addToCart = addToCart;\nconst updateQuantity = async (req, res) => {\n  try {\n    const type = req.query.type;\n    const cartItemID = req.params.item_id;\n    const cartItem = await _cart.default.findOne({\n      _id: cartItemID\n    });\n    let qty = cartItem.quantity;\n    if (type === \"increment\") {\n      qty = qty + 1;\n    }\n    if (type === \"decrement\") {\n      qty = qty - 1;\n    }\n    if (qty > 5) {\n      return res.status(200).json({\n        message: \"Quantity exceeded\"\n      });\n    }\n    if (qty == 0) {\n      const deleteItem = await _cart.default.deleteOne({\n        _id: cartItemID\n      });\n      //   console.log(deleteItem)\n      if (deleteItem.deletedCount > 0) {\n        return res.status(200).json({\n          message: \"Item removed\"\n        });\n      }\n    }\n    const updateCartQty = await _cart.default.updateOne({\n      _id: cartItemID\n    }, {\n      $set: {\n        quantity: qty\n      }\n    });\n    if (updateCartQty.modifiedCount > 0) {\n      return res.status(200).json({\n        message: \"Updated\",\n        success: true\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateQuantity = updateQuantity;\nconst deleteCartItem = async (req, res) => {\n  try {\n    const cartItemID = req.params.item_id;\n    const deleteItem = await _cart.default.deleteOne({\n      _id: cartItemID\n    });\n    if (deleteItem.deletedCount > 0) {\n      return res.status(200).json({\n        message: \"Item removed\"\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteCartItem = deleteCartItem;\nconst getCartItems = async (req, res) => {\n  try {\n    const userID = req.params.user_id;\n    const cartItems = await _cart.default.find({\n      userID: userID\n    });\n    if (cartItems) {\n      return res.status(201).json({\n        data: cartItems,\n        message: \"Success\",\n        success: true\n      });\n    }\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getCartItems = getCartItems;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY2FydCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3QiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFkZFRvQ2FydCIsInJlcSIsInJlcyIsInVzZXJJRCIsInByb2R1Y3RJRCIsInF1YW50aXR5IiwiYm9keSIsImV4aXRpbmdJdGVtIiwiY2FydE1vZGVsIiwiZmluZE9uZSIsInF0eSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwidXBkYXRlUXR5IiwidXBkYXRlT25lIiwiX2lkIiwiJHNldCIsIm1vZGlmaWVkQ291bnQiLCJzdWNjZXNzIiwicHJvRGF0YSIsInByb2R1Y3RNb2RlbCIsInNhdmVEYXRhIiwiY3JlYXRlIiwidGl0bGUiLCJpbWFnZSIsInRodW1ibmFpbCIsInByaWNlIiwiZGF0YSIsImVyciIsImV4cG9ydHMiLCJ1cGRhdGVRdWFudGl0eSIsInR5cGUiLCJxdWVyeSIsImNhcnRJdGVtSUQiLCJwYXJhbXMiLCJpdGVtX2lkIiwiY2FydEl0ZW0iLCJkZWxldGVJdGVtIiwiZGVsZXRlT25lIiwiZGVsZXRlZENvdW50IiwidXBkYXRlQ2FydFF0eSIsImRlbGV0ZUNhcnRJdGVtIiwiZ2V0Q2FydEl0ZW1zIiwidXNlcl9pZCIsImNhcnRJdGVtcyIsImZpbmQiXSwic291cmNlUm9vdCI6IkQ6XFx1bnppcHBlZFxcU2Vzc2lvbjhcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbImNhcnQuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2FydE1vZGVsIGZyb20gXCIuLi9tb2RlbHMvY2FydC5tb2RlbFwiO1xyXG5pbXBvcnQgcHJvZHVjdE1vZGVsIGZyb20gXCIuLi9tb2RlbHMvcHJvZHVjdC5tb2RlbFwiO1xyXG5leHBvcnQgY29uc3QgYWRkVG9DYXJ0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdXNlcklELCBwcm9kdWN0SUQsIHF1YW50aXR5IH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBjb25zdCBleGl0aW5nSXRlbSA9IGF3YWl0IGNhcnRNb2RlbC5maW5kT25lKHtcclxuICAgICAgdXNlcklEOiB1c2VySUQsXHJcbiAgICAgIHByb2R1Y3RJRDogcHJvZHVjdElELFxyXG4gICAgfSk7XHJcbiAgICBpZiAoZXhpdGluZ0l0ZW0pIHtcclxuICAgICAgbGV0IHF0eSA9IHF1YW50aXR5XHJcbiAgICAgICAgPyBleGl0aW5nSXRlbS5xdWFudGl0eSArIHF1YW50aXR5XHJcbiAgICAgICAgOiBleGl0aW5nSXRlbS5xdWFudGl0eSArIDE7XHJcblxyXG4gICAgICBpZiAocXR5ID4gNSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIlF1YW50aXR5IGV4Y2VlZGVkXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgdXBkYXRlUXR5ID0gYXdhaXQgY2FydE1vZGVsLnVwZGF0ZU9uZShcclxuICAgICAgICB7IF9pZDogZXhpdGluZ0l0ZW0uX2lkIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgICBxdWFudGl0eTogcXR5LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAodXBkYXRlUXR5Lm1vZGlmaWVkQ291bnQgPiAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZFwiLFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByb0RhdGEgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZE9uZSh7IF9pZDogcHJvZHVjdElEIH0pO1xyXG5cclxuICAgIGNvbnN0IHNhdmVEYXRhID0gYXdhaXQgY2FydE1vZGVsLmNyZWF0ZSh7XHJcbiAgICAgIHVzZXJJRDogdXNlcklELFxyXG4gICAgICBwcm9kdWN0SUQ6IHByb2R1Y3RJRCxcclxuICAgICAgdGl0bGU6IHByb0RhdGEudGl0bGUsXHJcbiAgICAgIGltYWdlOiBwcm9EYXRhLnRodW1ibmFpbCxcclxuICAgICAgcHJpY2U6IHByb0RhdGEucHJpY2UsXHJcbiAgICAgIHF1YW50aXR5OiBxdWFudGl0eSA/IHF1YW50aXR5IDogMSxcclxuICAgIH0pO1xyXG4gICAgaWYgKHNhdmVEYXRhKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogc2F2ZURhdGEsXHJcbiAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlUXVhbnRpdHkgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdHlwZSA9IHJlcS5xdWVyeS50eXBlO1xyXG4gICAgY29uc3QgY2FydEl0ZW1JRCA9IHJlcS5wYXJhbXMuaXRlbV9pZDtcclxuICAgIGNvbnN0IGNhcnRJdGVtID0gYXdhaXQgY2FydE1vZGVsLmZpbmRPbmUoeyBfaWQ6IGNhcnRJdGVtSUQgfSk7XHJcbiAgICBsZXQgcXR5ID0gY2FydEl0ZW0ucXVhbnRpdHk7XHJcblxyXG4gICAgaWYgKHR5cGUgPT09IFwiaW5jcmVtZW50XCIpIHtcclxuICAgICAgcXR5ID0gcXR5ICsgMTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZSA9PT0gXCJkZWNyZW1lbnRcIikge1xyXG4gICAgICBxdHkgPSBxdHkgLSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChxdHkgPiA1KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJRdWFudGl0eSBleGNlZWRlZFwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocXR5ID09IDApIHtcclxuICAgICAgY29uc3QgZGVsZXRlSXRlbSA9IGF3YWl0IGNhcnRNb2RlbC5kZWxldGVPbmUoeyBfaWQ6IGNhcnRJdGVtSUQgfSk7XHJcbiAgICAgIC8vICAgY29uc29sZS5sb2coZGVsZXRlSXRlbSlcclxuICAgICAgaWYgKGRlbGV0ZUl0ZW0uZGVsZXRlZENvdW50ID4gMCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gcmVtb3ZlZFwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCB1cGRhdGVDYXJ0UXR5ID0gYXdhaXQgY2FydE1vZGVsLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IGNhcnRJdGVtSUQgfSxcclxuICAgICAge1xyXG4gICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgIHF1YW50aXR5OiBxdHksXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodXBkYXRlQ2FydFF0eS5tb2RpZmllZENvdW50ID4gMCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZUNhcnRJdGVtID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhcnRJdGVtSUQgPSByZXEucGFyYW1zLml0ZW1faWQ7XHJcbiAgICBjb25zdCBkZWxldGVJdGVtID0gYXdhaXQgY2FydE1vZGVsLmRlbGV0ZU9uZSh7IF9pZDogY2FydEl0ZW1JRCB9KTtcclxuICAgIGlmIChkZWxldGVJdGVtLmRlbGV0ZWRDb3VudCA+IDApIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkl0ZW0gcmVtb3ZlZFwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDYXJ0SXRlbXMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlcklEID0gcmVxLnBhcmFtcy51c2VyX2lkO1xyXG4gICAgY29uc3QgY2FydEl0ZW1zID0gYXdhaXQgY2FydE1vZGVsLmZpbmQoeyB1c2VySUQ6IHVzZXJJRCB9KTtcclxuICAgIGlmIChjYXJ0SXRlbXMpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBjYXJ0SXRlbXMsXHJcbiAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQW1ELFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzVDLE1BQU1HLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMzQyxJQUFJO0lBQ0YsTUFBTTtNQUFFQyxNQUFNO01BQUVDLFNBQVM7TUFBRUM7SUFBUyxDQUFDLEdBQUdKLEdBQUcsQ0FBQ0ssSUFBSTtJQUVoRCxNQUFNQyxXQUFXLEdBQUcsTUFBTUMsYUFBUyxDQUFDQyxPQUFPLENBQUM7TUFDMUNOLE1BQU0sRUFBRUEsTUFBTTtNQUNkQyxTQUFTLEVBQUVBO0lBQ2IsQ0FBQyxDQUFDO0lBQ0YsSUFBSUcsV0FBVyxFQUFFO01BQ2YsSUFBSUcsR0FBRyxHQUFHTCxRQUFRLEdBQ2RFLFdBQVcsQ0FBQ0YsUUFBUSxHQUFHQSxRQUFRLEdBQy9CRSxXQUFXLENBQUNGLFFBQVEsR0FBRyxDQUFDO01BRTVCLElBQUlLLEdBQUcsR0FBRyxDQUFDLEVBQUU7UUFDWCxPQUFPUixHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQzFCQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtNQUNBLE1BQU1DLFNBQVMsR0FBRyxNQUFNTixhQUFTLENBQUNPLFNBQVMsQ0FDekM7UUFBRUMsR0FBRyxFQUFFVCxXQUFXLENBQUNTO01BQUksQ0FBQyxFQUN4QjtR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","map":{"version":3,"names":["_cart","_interopRequireDefault","require","_product","obj","__esModule","default","addToCart","req","res","userID","productID","quantity","body","exitingItem","cartModel","findOne","qty","status","json","message","updateQty","updateOne","_id","$set","modifiedCount","success","proData","productModel","saveData","create","title","image","thumbnail","price","data","err","exports","updateQuantity","type","query","cartItemID","params","item_id","cartItem","deleteItem","deleteOne","deletedCount","updateCartQty","deleteCartItem","getCartItems","user_id","cartItems","find"],"sourceRoot":"D:\\unzipped\\Session8\\controllers\\","sources":["cart.controller.js"],"sourcesContent":["import cartModel from \"../models/cart.model\";\r\nimport productModel from \"../models/product.model\";\r\nexport const addToCart = async (req, res) => {\r\n  try {\r\n    const { userID, productID, quantity } = req.body;\r\n\r\n    const exitingItem = await cartModel.findOne({\r\n      userID: userID,\r\n      productID: productID,\r\n    });\r\n    if (exitingItem) {\r\n      let qty = quantity\r\n        ? exitingItem.quantity + quantity\r\n        : exitingItem.quantity + 1;\r\n\r\n      if (qty > 5) {\r\n        return res.status(200).json({\r\n          message: \"Quantity exceeded\",\r\n        });\r\n      }\r\n      const updateQty = await cartModel.updateOne(\r\n        { _id: exitingItem._id },\r\n        {\r\n          $set: {\r\n            quantity: qty,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (updateQty.modifiedCount > 0) {\r\n        return res.status(201).json({\r\n          message: \"Updated\",\r\n          success: true,\r\n        });\r\n      }\r\n    }\r\n\r\n    const proData = await productModel.findOne({ _id: productID });\r\n\r\n    const saveData = await cartModel.create({\r\n      userID: userID,\r\n      productID: productID,\r\n      title: proData.title,\r\n      image: proData.thumbnail,\r\n      price: proData.price,\r\n      quantity: quantity ? quantity : 1,\r\n    });\r\n    if (saveData) {\r\n      return res.status(200).json({\r\n        data: saveData,\r\n        message: \"Success\",\r\n        success: true,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateQuantity = async (req, res) => {\r\n  try {\r\n    const type = req.query.type;\r\n    const cartItemID = req.params.item_id;\r\n    const cartItem = await cartModel.findOne({ _id: cartItemID });\r\n    let qty = cartItem.quantity;\r\n\r\n    if (type === \"increment\") {\r\n      qty = qty + 1;\r\n    }\r\n\r\n    if (type === \"decrement\") {\r\n      qty = qty - 1;\r\n    }\r\n\r\n    if (qty > 5) {\r\n      return res.status(200).json({\r\n        message: \"Quantity exceeded\",\r\n      });\r\n    }\r\n\r\n    if (qty == 0) {\r\n      const deleteItem = await cartModel.deleteOne({ _id: cartItemID });\r\n      //   console.log(deleteItem)\r\n      if (deleteItem.deletedCount > 0) {\r\n        return res.status(200).json({\r\n          message: \"Item removed\",\r\n        });\r\n      }\r\n    }\r\n    const updateCartQty = await cartModel.updateOne(\r\n      { _id: cartItemID },\r\n      {\r\n        $set: {\r\n          quantity: qty,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (updateCartQty.modifiedCount > 0) {\r\n      return res.status(200).json({\r\n        message: \"Updated\",\r\n        success: true,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteCartItem = async (req, res) => {\r\n  try {\r\n    const cartItemID = req.params.item_id;\r\n    const deleteItem = await cartModel.deleteOne({ _id: cartItemID });\r\n    if (deleteItem.deletedCount > 0) {\r\n      return res.status(200).json({\r\n        message: \"Item removed\",\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getCartItems = async (req, res) => {\r\n  try {\r\n    const userID = req.params.user_id;\r\n    const cartItems = await cartModel.find({ userID: userID });\r\n    if (cartItems) {\r\n      return res.status(201).json({\r\n        data: cartItems,\r\n        message: \"Success\",\r\n        success: true,\r\n      });\r\n    }\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1715348956678},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\unzipped\\\\Session8\",\"filename\":\"D:\\\\unzipped\\\\Session8\\\\models\\\\cart.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\unzipped\\\\Session8\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst cartSchema = new Schema({\n  userID: {\n    type: Schema.Types.ObjectId,\n    required: true\n  },\n  productID: {\n    type: Schema.Types.ObjectId,\n    required: true\n  },\n  title: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  quantity: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    default: null\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"cart\", cartSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJjYXJ0U2NoZW1hIiwidXNlcklEIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZXF1aXJlZCIsInByb2R1Y3RJRCIsInRpdGxlIiwiU3RyaW5nIiwicHJpY2UiLCJOdW1iZXIiLCJxdWFudGl0eSIsImltYWdlIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiRDpcXHVuemlwcGVkXFxTZXNzaW9uOFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImNhcnQubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XHJcblxyXG5jb25zdCBjYXJ0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdXNlcklEOiB7XHJcbiAgICB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIHByb2R1Y3RJRDoge1xyXG4gICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICB0aXRsZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBwcmljZToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBxdWFudGl0eToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBpbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIGNyZWF0ZWRfYXQ6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vdygpLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJjYXJ0XCIsIGNhcnRTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUM1QkcsTUFBTSxFQUFFO0lBQ05DLElBQUksRUFBRUosTUFBTSxDQUFDSyxLQUFLLENBQUNDLFFBQVE7SUFDM0JDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREMsU0FBUyxFQUFFO0lBQ1RKLElBQUksRUFBRUosTUFBTSxDQUFDSyxLQUFLLENBQUNDLFFBQVE7SUFDM0JDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREUsS0FBSyxFQUFFO0lBQ0xMLElBQUksRUFBRU0sTUFBTTtJQUNaSCxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RJLEtBQUssRUFBRTtJQUNMUCxJQUFJLEVBQUVRLE1BQU07SUFDWkwsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNETSxRQUFRLEVBQUU7SUFDUlQsSUFBSSxFQUFFUSxNQUFNO0lBQ1pMLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDRE8sS0FBSyxFQUFFO0lBQ0xWLElBQUksRUFBRU0sTUFBTTtJQUNaWCxPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RnQixVQUFVLEVBQUU7SUFDVlgsSUFBSSxFQUFFWSxJQUFJO0lBQ1ZqQixPQUFPLEVBQUVpQixJQUFJLENBQUNDLEdBQUcsQ0FBQztFQUNwQjtBQUNGLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBcEIsT0FBQSxHQUVZRSxpQkFBUSxDQUFDbUIsS0FBSyxDQUFDLE1BQU0sRUFBRWxCLFVBQVUsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","cartSchema","userID","type","Types","ObjectId","required","productID","title","String","price","Number","quantity","image","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\unzipped\\Session8\\models\\","sources":["cart.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst cartSchema = new Schema({\r\n  userID: {\r\n    type: Schema.Types.ObjectId,\r\n    required: true,\r\n  },\r\n  productID: {\r\n    type: Schema.Types.ObjectId,\r\n    required: true,\r\n  },\r\n  title: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  price: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  quantity: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  image: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"cart\", cartSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,MAAM,EAAE;IACNC,IAAI,EAAEJ,MAAM,CAACK,KAAK,CAACC,QAAQ;IAC3BC,QAAQ,EAAE;EACZ,CAAC;EACDC,SAAS,EAAE;IACTJ,IAAI,EAAEJ,MAAM,CAACK,KAAK,CAACC,QAAQ;IAC3BC,QAAQ,EAAE;EACZ,CAAC;EACDE,KAAK,EAAE;IACLL,IAAI,EAAEM,MAAM;IACZH,QAAQ,EAAE;EACZ,CAAC;EACDI,KAAK,EAAE;IACLP,IAAI,EAAEQ,MAAM;IACZL,QAAQ,EAAE;EACZ,CAAC;EACDM,QAAQ,EAAE;IACRT,IAAI,EAAEQ,MAAM;IACZL,QAAQ,EAAE;EACZ,CAAC;EACDO,KAAK,EAAE;IACLV,IAAI,EAAEM,MAAM;IACZX,OAAO,EAAE;EACX,CAAC;EACDgB,UAAU,EAAE;IACVX,IAAI,EAAEY,IAAI;IACVjB,OAAO,EAAEiB,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAEYE,iBAAQ,CAACmB,KAAK,CAAC,MAAM,EAAElB,UAAU,CAAC","ignoreList":[]}},"mtime":1715349179130},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\index.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _user = _interopRequireDefault(require(\"./routers/user.router\"));\nvar _tickets = _interopRequireDefault(require(\"./routers/tickets.router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst app = (0, _express.default)();\nconst PORT = 8003;\n\n// body parser\napp.use(_express.default.json());\n\n// serving static files\napp.use(\"/uploads\", _express.default.static(\"uploads\"));\n\n// DB connectivity\n_mongoose.default.connect(\"mongodb://localhost:27017/supportTicketDB\").then(() => console.log(\"DB Connected!\"));\napp.listen(PORT, () => {\n  console.log(\"Server is running on port: \" + PORT);\n});\napp.use((req, res, next) => {\n  res.setHeader(\"Access-Control-Allow-Origin\", \"http://localhost:3000\"); // Replace with your React app's URL // orgin as in frontend\n  res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE\");\n  res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n  next();\n});\napp.use(\"/api/v1/user\", _user.default);\napp.use(\"/api/v1/tickets\", _tickets.default);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX21vbmdvb3NlIiwiX3VzZXIiLCJfdGlja2V0cyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYXBwIiwiZXhwcmVzcyIsIlBPUlQiLCJ1c2UiLCJqc29uIiwic3RhdGljIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJsaXN0ZW4iLCJyZXEiLCJyZXMiLCJuZXh0Iiwic2V0SGVhZGVyIiwidXNlclJvdXRlciIsInRpY2tldHNSb3V0ZXIiXSwic291cmNlUm9vdCI6IkQ6XFxGdWxsc3RhY2sgTWVyblxcUmVhY3RcXHRpY2tldHNtYW5hZ2VtZW50YmFja2VuZFxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmltcG9ydCB1c2VyUm91dGVyIGZyb20gXCIuL3JvdXRlcnMvdXNlci5yb3V0ZXJcIjtcclxuaW1wb3J0IHRpY2tldHNSb3V0ZXIgZnJvbSBcIi4vcm91dGVycy90aWNrZXRzLnJvdXRlclwiO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5jb25zdCBQT1JUID0gODAwMztcclxuXHJcbi8vIGJvZHkgcGFyc2VyXHJcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG5cclxuLy8gc2VydmluZyBzdGF0aWMgZmlsZXNcclxuYXBwLnVzZShcIi91cGxvYWRzXCIsIGV4cHJlc3Muc3RhdGljKFwidXBsb2Fkc1wiKSk7XHJcblxyXG4vLyBEQiBjb25uZWN0aXZpdHlcclxubW9uZ29vc2VcclxuICAuY29ubmVjdChcIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvc3VwcG9ydFRpY2tldERCXCIpXHJcbiAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCJEQiBDb25uZWN0ZWQhXCIpKTtcclxuXHJcbmFwcC5saXN0ZW4oUE9SVCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiU2VydmVyIGlzIHJ1bm5pbmcgb24gcG9ydDogXCIgKyBQT1JUKTtcclxufSk7XHJcblxyXG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIik7IC8vIFJlcGxhY2Ugd2l0aCB5b3VyIFJlYWN0IGFwcCdzIFVSTCAvLyBvcmdpbiBhcyBpbiBmcm9udGVuZFxyXG4gIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULCBQT1NULCBQVVQsIERFTEVURVwiKTtcclxuICByZXMuc2V0SGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIkNvbnRlbnQtVHlwZSwgQXV0aG9yaXphdGlvblwiKTtcclxuICBuZXh0KCk7XHJcbn0pO1xyXG5cclxuYXBwLnVzZShcIi9hcGkvdjEvdXNlclwiLCB1c2VyUm91dGVyKTtcclxuYXBwLnVzZShcIi9hcGkvdjEvdGlja2V0c1wiLCB0aWNrZXRzUm91dGVyKTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFxRCxTQUFBRCx1QkFBQUssR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUVyRCxNQUFNRyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCLE1BQU1DLElBQUksR0FBRyxJQUFJOztBQUVqQjtBQUNBRixHQUFHLENBQUNHLEdBQUcsQ0FBQ0YsZ0JBQU8sQ0FBQ0csSUFBSSxDQUFDLENBQUMsQ0FBQzs7QUFFdkI7QUFDQUosR0FBRyxDQUFDRyxHQUFHLENBQUMsVUFBVSxFQUFFRixnQkFBTyxDQUFDSSxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7O0FBRTlDO0FBQ0FDLGlCQUFRLENBQ0xDLE9BQU8sQ0FBQywyQ0FBMkMsQ0FBQyxDQUNwREMsSUFBSSxDQUFDLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBRTNDVixHQUFHLENBQUNXLE1BQU0sQ0FBQ1QsSUFBSSxFQUFFLE1BQU07RUFDckJPLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDZCQUE2QixHQUFHUixJQUFJLENBQUM7QUFDbkQsQ0FBQyxDQUFDO0FBRUZGLEdBQUcsQ0FBQ0csR0FBRyxDQUFDLENBQUNTLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDMUJELEdBQUcsQ0FBQ0UsU0FBUyxDQUFDLDZCQUE2QixFQUFFLHVCQUF1QixDQUFDLENBQUMsQ0FBQztFQUN2RUYsR0FBRyxDQUFDRSxTQUFTLENBQUMsOEJBQThCLEVBQUUsd0JBQXdCLENBQUM7RUFDdkVGLEdBQUcsQ0FBQ0UsU0FBUyxDQUFDLDhCQUE4QixFQUFFLDZCQUE2QixDQUFDO0VBQzVFRCxJQUFJLENBQUMsQ0FBQztBQUNSLENBQUMsQ0FBQztBQUVGZCxHQUFHLENBQUNHLEdBQUcsQ0FBQyxjQUFjLEVBQUVhLGFBQVUsQ0FBQztBQUNuQ2hCLEdBQUcsQ0FBQ0csR0FBRyxDQUFDLGlCQUFpQixFQUFFYyxnQkFBYSxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_express","_interopRequireDefault","require","_mongoose","_user","_tickets","obj","__esModule","default","app","express","PORT","use","json","static","mongoose","connect","then","console","log","listen","req","res","next","setHeader","userRouter","ticketsRouter"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\","sources":["index.js"],"sourcesContent":["import express from \"express\";\r\nimport mongoose from \"mongoose\";\r\nimport userRouter from \"./routers/user.router\";\r\nimport ticketsRouter from \"./routers/tickets.router\";\r\n\r\nconst app = express();\r\nconst PORT = 8003;\r\n\r\n// body parser\r\napp.use(express.json());\r\n\r\n// serving static files\r\napp.use(\"/uploads\", express.static(\"uploads\"));\r\n\r\n// DB connectivity\r\nmongoose\r\n  .connect(\"mongodb://localhost:27017/supportTicketDB\")\r\n  .then(() => console.log(\"DB Connected!\"));\r\n\r\napp.listen(PORT, () => {\r\n  console.log(\"Server is running on port: \" + PORT);\r\n});\r\n\r\napp.use((req, res, next) => {\r\n  res.setHeader(\"Access-Control-Allow-Origin\", \"http://localhost:3000\"); // Replace with your React app's URL // orgin as in frontend\r\n  res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE\");\r\n  res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\r\n  next();\r\n});\r\n\r\napp.use(\"/api/v1/user\", userRouter);\r\napp.use(\"/api/v1/tickets\", ticketsRouter);\r\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAqD,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAErD,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrB,MAAMC,IAAI,GAAG,IAAI;;AAEjB;AACAF,GAAG,CAACG,GAAG,CAACF,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;;AAEvB;AACAJ,GAAG,CAACG,GAAG,CAAC,UAAU,EAAEF,gBAAO,CAACI,MAAM,CAAC,SAAS,CAAC,CAAC;;AAE9C;AACAC,iBAAQ,CACLC,OAAO,CAAC,2CAA2C,CAAC,CACpDC,IAAI,CAAC,MAAMC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAAC;AAE3CV,GAAG,CAACW,MAAM,CAACT,IAAI,EAAE,MAAM;EACrBO,OAAO,CAACC,GAAG,CAAC,6BAA6B,GAAGR,IAAI,CAAC;AACnD,CAAC,CAAC;AAEFF,GAAG,CAACG,GAAG,CAAC,CAACS,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAC1BD,GAAG,CAACE,SAAS,CAAC,6BAA6B,EAAE,uBAAuB,CAAC,CAAC,CAAC;EACvEF,GAAG,CAACE,SAAS,CAAC,8BAA8B,EAAE,wBAAwB,CAAC;EACvEF,GAAG,CAACE,SAAS,CAAC,8BAA8B,EAAE,6BAA6B,CAAC;EAC5ED,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AAEFd,GAAG,CAACG,GAAG,CAAC,cAAc,EAAEa,aAAU,CAAC;AACnChB,GAAG,CAACG,GAAG,CAAC,iBAAiB,EAAEc,gBAAa,CAAC","ignoreList":[]}},"mtime":1717078755716},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\routers\\\\user.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _user = require(\"../controllers/user.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-user\", _user.addUser);\nrouter.get(\"/get-users\", _user.getUsers);\nrouter.get(\"/get-user/:userid\", _user.getUser);\nrouter.put(\"/update-user/:userid\", _user.updateUser);\nrouter.delete(\"/delete-user/:userid\", _user.deleteUser);\n\n// Auth\nrouter.post(\"/sign-up\", _user.signUp);\nrouter.post(\"/login\", _user.login);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3VzZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkVXNlciIsImdldCIsImdldFVzZXJzIiwiZ2V0VXNlciIsInB1dCIsInVwZGF0ZVVzZXIiLCJkZWxldGUiLCJkZWxldGVVc2VyIiwic2lnblVwIiwibG9naW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxGdWxsc3RhY2sgTWVyblxcUmVhY3RcXHRpY2tldHNtYW5hZ2VtZW50YmFja2VuZFxccm91dGVyc1xcIiwic291cmNlcyI6WyJ1c2VyLnJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge1xyXG4gIGFkZFVzZXIsXHJcbiAgZGVsZXRlVXNlcixcclxuICBnZXRVc2VyLFxyXG4gIGxvZ2luLFxyXG4gIHNpZ25VcCxcclxuICBnZXRVc2VycyxcclxuICB1cGRhdGVVc2VyLFxyXG59IGZyb20gXCIuLi9jb250cm9sbGVycy91c2VyLmNvbnRyb2xsZXJcIjtcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9hZGQtdXNlclwiLCBhZGRVc2VyKTtcclxucm91dGVyLmdldChcIi9nZXQtdXNlcnNcIiwgZ2V0VXNlcnMpO1xyXG5yb3V0ZXIuZ2V0KFwiL2dldC11c2VyLzp1c2VyaWRcIiwgZ2V0VXNlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXVzZXIvOnVzZXJpZFwiLCB1cGRhdGVVc2VyKTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUtdXNlci86dXNlcmlkXCIsIGRlbGV0ZVVzZXIpO1xyXG5cclxuLy8gQXV0aFxyXG5yb3V0ZXIucG9zdChcIi9zaWduLXVwXCIsIHNpZ25VcCk7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIGxvZ2luKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFELE9BQUE7QUFRd0MsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFeEMsTUFBTUcsTUFBTSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUUvQkYsTUFBTSxDQUFDRyxJQUFJLENBQUMsV0FBVyxFQUFFQyxhQUFPLENBQUM7QUFDakNKLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLFlBQVksRUFBRUMsY0FBUSxDQUFDO0FBQ2xDTixNQUFNLENBQUNLLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRUUsYUFBTyxDQUFDO0FBQ3hDUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRUMsZ0JBQVUsQ0FBQztBQUM5Q1QsTUFBTSxDQUFDVSxNQUFNLENBQUMsc0JBQXNCLEVBQUVDLGdCQUFVLENBQUM7O0FBRWpEO0FBQ0FYLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLFVBQVUsRUFBRVMsWUFBTSxDQUFDO0FBQy9CWixNQUFNLENBQUNHLElBQUksQ0FBQyxRQUFRLEVBQUVVLFdBQUssQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUVkQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_express","_interopRequireDefault","require","_user","obj","__esModule","default","router","express","Router","post","addUser","get","getUsers","getUser","put","updateUser","delete","deleteUser","signUp","login","_default","exports"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\routers\\","sources":["user.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addUser,\r\n  deleteUser,\r\n  getUser,\r\n  login,\r\n  signUp,\r\n  getUsers,\r\n  updateUser,\r\n} from \"../controllers/user.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-user\", addUser);\r\nrouter.get(\"/get-users\", getUsers);\r\nrouter.get(\"/get-user/:userid\", getUser);\r\nrouter.put(\"/update-user/:userid\", updateUser);\r\nrouter.delete(\"/delete-user/:userid\", deleteUser);\r\n\r\n// Auth\r\nrouter.post(\"/sign-up\", signUp);\r\nrouter.post(\"/login\", login);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAQwC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,WAAW,EAAEC,aAAO,CAAC;AACjCJ,MAAM,CAACK,GAAG,CAAC,YAAY,EAAEC,cAAQ,CAAC;AAClCN,MAAM,CAACK,GAAG,CAAC,mBAAmB,EAAEE,aAAO,CAAC;AACxCP,MAAM,CAACQ,GAAG,CAAC,sBAAsB,EAAEC,gBAAU,CAAC;AAC9CT,MAAM,CAACU,MAAM,CAAC,sBAAsB,EAAEC,gBAAU,CAAC;;AAEjD;AACAX,MAAM,CAACG,IAAI,CAAC,UAAU,EAAES,YAAM,CAAC;AAC/BZ,MAAM,CAACG,IAAI,CAAC,QAAQ,EAAEU,WAAK,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEdC,MAAM","ignoreList":[]}},"mtime":1716907375314},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\controllers\\\\user.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUser = exports.signUp = exports.login = exports.getUsers = exports.getUser = exports.deleteUser = exports.addUser = void 0;\nvar _user = _interopRequireDefault(require(\"../models/user.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    const uploadPath = \"./uploads\";\n    if (_fs.default.existsSync(uploadPath)) {\n      cb(null, uploadPath);\n    } else {\n      _fs.default.mkdirSync(uploadPath);\n      cb(null, uploadPath);\n    }\n  },\n  filename: function (req, file, cb) {\n    const orgName = file.originalname;\n    const ext = _path.default.parse(orgName).ext;\n    const name = _path.default.parse(orgName).name;\n    const fullname = name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst addUser = async (req, res) => {\n  try {\n    const dataWithFile = upload.single(\"avatar\");\n    dataWithFile(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      console.log(req.body);\n      console.log(req.file);\n      let img = null;\n      if (req.file) {\n        img = req.file.filename;\n      }\n      const {\n        name,\n        email,\n        password,\n        contact\n      } = req.body;\n      const saveData = await _user.default.create({\n        name: name,\n        email: email,\n        password: password,\n        contact: contact,\n        image: img\n      });\n      if (saveData) {\n        return res.status(201).json({\n          data: saveData,\n          message: \"New record added\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addUser = addUser;\nconst getUsers = async (req, res) => {\n  try {\n    const userData = await _user.default.find();\n    if (userData) {\n      return res.status(200).json({\n        data: userData,\n        message: \"Fetched!\",\n        success: true,\n        filepath: \"http://localhost:8003/uploads/\"\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getUsers = getUsers;\nconst getUser = async (req, res) => {\n  try {\n    const userid = req.params.userid;\n    const userData = await _user.default.findOne({\n      _id: userid\n    });\n    if (userData) {\n      return res.status(200).json({\n        data: userData,\n        message: \"Fetched!\",\n        success: true,\n        filepath: \"http://localhost:8003/uploads/\"\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getUser = getUser;\nconst updateUser = async (req, res) => {\n  try {\n    const dataWithFile = upload.single(\"avatar\");\n    dataWithFile(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      const userid = req.params.userid;\n      const existingUser = await _user.default.findOne({\n        _id: userid\n      });\n      let img = existingUser.image;\n      if (req.file) {\n        img = req.file.filename;\n        if (_fs.default.existsSync(\"./uploads/\" + existingUser.image)) {\n          _fs.default.unlinkSync(\"./uploads/\" + existingUser.image);\n        }\n      }\n      const {\n        name,\n        email,\n        password,\n        contact\n      } = req.body;\n\n      // Hash the password if it's provided\n      let hashedPassword = password;\n      if (password) {\n        hashedPassword = _bcrypt.default.hashSync(password, 10);\n      }\n      const user = await _user.default.updateOne({\n        _id: userid\n      }, {\n        $set: {\n          name: name,\n          email: email,\n          password: hashedPassword,\n          // Use the hashed password\n          contact: contact,\n          image: img\n        }\n      });\n      if (user.acknowledged) {\n        return res.status(200).json({\n          message: \"Updated!\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateUser = updateUser;\nconst deleteUser = async (req, res) => {\n  try {\n    const userid = req.params.userid;\n    const existingUser = await _user.default.findOne({\n      _id: userid\n    });\n    const user = await _user.default.deleteOne({\n      _id: userid\n    });\n    if (user.acknowledged) {\n      if (_fs.default.existsSync(\"./uploads/\" + existingUser.image)) {\n        _fs.default.unlinkSync(\"./uploads/\" + existingUser.image);\n      }\n      return res.status(200).json({\n        message: \"Deleted!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n/* ===========================\r\n        Auth\r\n=============================*/\nexports.deleteUser = deleteUser;\nconst signUp = async (req, res) => {\n  try {\n    // Apply Multer middleware to handle file uploads\n    upload.single(\"image\")(req, res, async function (err) {\n      if (err) {\n        return res.status(400).json({\n          message: err.message,\n          success: false\n        });\n      }\n\n      // Check if a file is uploaded\n      if (!req.file) {\n        return res.status(400).json({\n          message: \"Please upload an image\",\n          success: false\n        });\n      }\n\n      // Destructure user data from request body\n      const {\n        firstname,\n        email,\n        password,\n        contact,\n        usertype,\n        lastname\n      } = req.body;\n\n      // Hash password\n      const hashPassword = _bcrypt.default.hashSync(password, 10);\n\n      // Create new user document\n      const newUser = await _user.default.create({\n        firstname,\n        lastname,\n        email,\n        usertype,\n        password: hashPassword,\n        contact,\n        image: req.file.filename // Set image field to uploaded file's filename\n      });\n\n      // Check if user was created successfully\n      if (newUser) {\n        return res.status(201).json({\n          data: newUser,\n          message: \"New user added successfully\",\n          success: true\n        });\n      }\n\n      // If newUser is null, return error response\n      return res.status(400).json({\n        message: \"Failed to create user\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.signUp = signUp;\nconst login = async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    const existingUser = await _user.default.findOne({\n      email: email\n    });\n    if (!existingUser) {\n      return res.status(400).json({\n        message: \"User doesn't exist!\",\n        success: false\n      });\n    }\n    const comparePassword = _bcrypt.default.compareSync(password, existingUser.password);\n    if (!comparePassword) {\n      return res.status(400).json({\n        message: \"Invalid credential\",\n        success: false\n      });\n    }\n\n    // If passwords match, generate JWT token\n    const token = _jsonwebtoken.default.sign({\n      id: existingUser._id,\n      email: existingUser.email\n    }, \"OqHmkzkKs73DCGJ\",\n    // Replace with your secret key\n    {\n      expiresIn: \"1h\"\n    });\n\n    // Exclude password from response data\n    const responseData = {\n      ...existingUser.toObject()\n    };\n    delete responseData.password;\n\n    // Send token and user data in response\n    return res.status(200).json({\n      data: responseData,\n      token: token,\n      message: \"Successfully logged in\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.login = login;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX2ZzIiwiX2JjcnlwdCIsIl9qc29ud2VidG9rZW4iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwidXBsb2FkUGF0aCIsImZzIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImZpbGVuYW1lIiwib3JnTmFtZSIsIm9yaWdpbmFsbmFtZSIsImV4dCIsInBhdGgiLCJwYXJzZSIsIm5hbWUiLCJmdWxsbmFtZSIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJ1cGxvYWQiLCJhZGRVc2VyIiwicmVzIiwiZGF0YVdpdGhGaWxlIiwic2luZ2xlIiwiZXJyIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJzdWNjZXNzIiwiY29uc29sZSIsImxvZyIsImJvZHkiLCJpbWciLCJlbWFpbCIsInBhc3N3b3JkIiwiY29udGFjdCIsInNhdmVEYXRhIiwiVXNlck1vZGVsIiwiY3JlYXRlIiwiaW1hZ2UiLCJkYXRhIiwiZXhwb3J0cyIsImdldFVzZXJzIiwidXNlckRhdGEiLCJmaW5kIiwiZmlsZXBhdGgiLCJnZXRVc2VyIiwidXNlcmlkIiwicGFyYW1zIiwiZmluZE9uZSIsIl9pZCIsInVwZGF0ZVVzZXIiLCJleGlzdGluZ1VzZXIiLCJ1bmxpbmtTeW5jIiwiaGFzaGVkUGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoU3luYyIsInVzZXIiLCJ1cGRhdGVPbmUiLCIkc2V0IiwiYWNrbm93bGVkZ2VkIiwiZGVsZXRlVXNlciIsImRlbGV0ZU9uZSIsInNpZ25VcCIsImZpcnN0bmFtZSIsInVzZXJ0eXBlIiwibGFzdG5hbWUiLCJoYXNoUGFzc3dvcmQiLCJuZXdVc2VyIiwibG9naW4iLCJjb21wYXJlUGFzc3dvcmQiLCJjb21wYXJlU3luYyIsInRva2VuIiwiand0Iiwic2lnbiIsImlkIiwiZXhwaXJlc0luIiwicmVzcG9uc2VEYXRhIiwidG9PYmplY3QiXSwic291cmNlUm9vdCI6IkQ6XFxGdWxsc3RhY2sgTWVyblxcUmVhY3RcXHRpY2tldHNtYW5hZ2VtZW50YmFja2VuZFxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsidXNlci5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyTW9kZWwgZnJvbSBcIi4uL21vZGVscy91c2VyLm1vZGVsXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xyXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xyXG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY29uc3QgdXBsb2FkUGF0aCA9IFwiLi91cGxvYWRzXCI7XHJcbiAgICBpZiAoZnMuZXhpc3RzU3luYyh1cGxvYWRQYXRoKSkge1xyXG4gICAgICBjYihudWxsLCB1cGxvYWRQYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZzLm1rZGlyU3luYyh1cGxvYWRQYXRoKTtcclxuICAgICAgY2IobnVsbCwgdXBsb2FkUGF0aCk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBmaWxlbmFtZTogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNvbnN0IG9yZ05hbWUgPSBmaWxlLm9yaWdpbmFsbmFtZTtcclxuICAgIGNvbnN0IGV4dCA9IHBhdGgucGFyc2Uob3JnTmFtZSkuZXh0O1xyXG4gICAgY29uc3QgbmFtZSA9IHBhdGgucGFyc2Uob3JnTmFtZSkubmFtZTtcclxuICAgIGNvbnN0IGZ1bGxuYW1lID1cclxuICAgICAgbmFtZSArIFwiLVwiICsgRGF0ZS5ub3coKSArIFwiXCIgKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxZTkpICsgZXh0O1xyXG5cclxuICAgIGNiKG51bGwsIGZ1bGxuYW1lKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2UgfSk7XHJcblxyXG5leHBvcnQgY29uc3QgYWRkVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRhV2l0aEZpbGUgPSB1cGxvYWQuc2luZ2xlKFwiYXZhdGFyXCIpO1xyXG5cclxuICAgIGRhdGFXaXRoRmlsZShyZXEsIHJlcywgYXN5bmMgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICBpZiAoZXJyKVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGVyci5tZXNzYWdlLCBzdWNjZXNzOiBmYWxzZSB9KTtcclxuICAgICAgY29uc29sZS5sb2cocmVxLmJvZHkpO1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXEuZmlsZSk7XHJcblxyXG4gICAgICBsZXQgaW1nID0gbnVsbDtcclxuICAgICAgaWYgKHJlcS5maWxlKSB7XHJcbiAgICAgICAgaW1nID0gcmVxLmZpbGUuZmlsZW5hbWU7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGNvbnRhY3QgfSA9IHJlcS5ib2R5O1xyXG4gICAgICBjb25zdCBzYXZlRGF0YSA9IGF3YWl0IFVzZXJNb2RlbC5jcmVhdGUoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcclxuICAgICAgICBjb250YWN0OiBjb250YWN0LFxyXG4gICAgICAgIGltYWdlOiBpbWcsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHNhdmVEYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgIGRhdGE6IHNhdmVEYXRhLFxyXG4gICAgICAgICAgbWVzc2FnZTogXCJOZXcgcmVjb3JkIGFkZGVkXCIsXHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRVc2VycyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IFVzZXJNb2RlbC5maW5kKCk7XHJcbiAgICBpZiAodXNlckRhdGEpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiB1c2VyRGF0YSxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBmaWxlcGF0aDogXCJodHRwOi8vbG9jYWxob3N0OjgwMDMvdXBsb2Fkcy9cIixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCBjb25zdCBnZXRVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzZXJpZCA9IHJlcS5wYXJhbXMudXNlcmlkO1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IF9pZDogdXNlcmlkIH0pO1xyXG4gICAgaWYgKHVzZXJEYXRhKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogdXNlckRhdGEsXHJcbiAgICAgICAgbWVzc2FnZTogXCJGZXRjaGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZmlsZXBhdGg6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDAzL3VwbG9hZHMvXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0YVdpdGhGaWxlID0gdXBsb2FkLnNpbmdsZShcImF2YXRhclwiKTtcclxuXHJcbiAgICBkYXRhV2l0aEZpbGUocmVxLCByZXMsIGFzeW5jIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgaWYgKGVycilcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBlcnIubWVzc2FnZSwgc3VjY2VzczogZmFsc2UgfSk7XHJcbiAgICAgIGNvbnN0IHVzZXJpZCA9IHJlcS5wYXJhbXMudXNlcmlkO1xyXG5cclxuICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyBfaWQ6IHVzZXJpZCB9KTtcclxuICAgICAgbGV0IGltZyA9IGV4aXN0aW5nVXNlci5pbWFnZTtcclxuICAgICAgaWYgKHJlcS5maWxlKSB7XHJcbiAgICAgICAgaW1nID0gcmVxLmZpbGUuZmlsZW5hbWU7XHJcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoXCIuL3VwbG9hZHMvXCIgKyBleGlzdGluZ1VzZXIuaW1hZ2UpKSB7XHJcbiAgICAgICAgICBmcy51bmxpbmtTeW5jKFwiLi91cGxvYWRzL1wiICsgZXhpc3RpbmdVc2VyLmltYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGNvbnRhY3QgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgLy8gSGFzaCB0aGUgcGFzc3dvcmQgaWYgaXQncyBwcm92aWRlZFxyXG4gICAgICBsZXQgaGFzaGVkUGFzc3dvcmQgPSBwYXNzd29yZDtcclxuICAgICAgaWYgKHBhc3N3b3JkKSB7XHJcbiAgICAgICAgaGFzaGVkUGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIDEwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC51cGRhdGVPbmUoXHJcbiAgICAgICAgeyBfaWQ6IHVzZXJpZCB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsIC8vIFVzZSB0aGUgaGFzaGVkIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIGNvbnRhY3Q6IGNvbnRhY3QsXHJcbiAgICAgICAgICAgIGltYWdlOiBpbWcsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgICAgaWYgKHVzZXIuYWNrbm93bGVkZ2VkKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZCFcIixcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyaWQgPSByZXEucGFyYW1zLnVzZXJpZDtcclxuICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgX2lkOiB1c2VyaWQgfSk7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmRlbGV0ZU9uZSh7IF9pZDogdXNlcmlkIH0pO1xyXG4gICAgaWYgKHVzZXIuYWNrbm93bGVkZ2VkKSB7XHJcbiAgICAgIGlmIChmcy5leGlzdHNTeW5jKFwiLi91cGxvYWRzL1wiICsgZXhpc3RpbmdVc2VyLmltYWdlKSkge1xyXG4gICAgICAgIGZzLnVubGlua1N5bmMoXCIuL3VwbG9hZHMvXCIgKyBleGlzdGluZ1VzZXIuaW1hZ2UpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJEZWxldGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgQXV0aFxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcbmV4cG9ydCBjb25zdCBzaWduVXAgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gQXBwbHkgTXVsdGVyIG1pZGRsZXdhcmUgdG8gaGFuZGxlIGZpbGUgdXBsb2Fkc1xyXG4gICAgdXBsb2FkLnNpbmdsZShcImltYWdlXCIpKHJlcSwgcmVzLCBhc3luYyBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBlcnIubWVzc2FnZSwgc3VjY2VzczogZmFsc2UgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIGEgZmlsZSBpcyB1cGxvYWRlZFxyXG4gICAgICBpZiAoIXJlcS5maWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiUGxlYXNlIHVwbG9hZCBhbiBpbWFnZVwiLFxyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERlc3RydWN0dXJlIHVzZXIgZGF0YSBmcm9tIHJlcXVlc3QgYm9keVxyXG4gICAgICBjb25zdCB7IGZpcnN0bmFtZSwgZW1haWwsIHBhc3N3b3JkLCBjb250YWN0LCB1c2VydHlwZSwgbGFzdG5hbWUgfSA9XHJcbiAgICAgICAgcmVxLmJvZHk7XHJcblxyXG4gICAgICAvLyBIYXNoIHBhc3N3b3JkXHJcbiAgICAgIGNvbnN0IGhhc2hQYXNzd29yZCA9IGJjcnlwdC5oYXNoU3luYyhwYXNzd29yZCwgMTApO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIG5ldyB1c2VyIGRvY3VtZW50XHJcbiAgICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCBVc2VyTW9kZWwuY3JlYXRlKHtcclxuICAgICAgICBmaXJzdG5hbWUsXHJcbiAgICAgICAgbGFzdG5hbWUsXHJcbiAgICAgICAgZW1haWwsXHJcbiAgICAgICAgdXNlcnR5cGUsXHJcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2hQYXNzd29yZCxcclxuICAgICAgICBjb250YWN0LFxyXG4gICAgICAgIGltYWdlOiByZXEuZmlsZS5maWxlbmFtZSwgLy8gU2V0IGltYWdlIGZpZWxkIHRvIHVwbG9hZGVkIGZpbGUncyBmaWxlbmFtZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIHVzZXIgd2FzIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5XHJcbiAgICAgIGlmIChuZXdVc2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgIGRhdGE6IG5ld1VzZXIsXHJcbiAgICAgICAgICBtZXNzYWdlOiBcIk5ldyB1c2VyIGFkZGVkIHN1Y2Nlc3NmdWxseVwiLFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgbmV3VXNlciBpcyBudWxsLCByZXR1cm4gZXJyb3IgcmVzcG9uc2VcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBjcmVhdGUgdXNlclwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGxvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJVc2VyIGRvZXNuJ3QgZXhpc3QhXCIsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbXBhcmVQYXNzd29yZCA9IGJjcnlwdC5jb21wYXJlU3luYyhwYXNzd29yZCwgZXhpc3RpbmdVc2VyLnBhc3N3b3JkKTtcclxuICAgIGlmICghY29tcGFyZVBhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGNyZWRlbnRpYWxcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgcGFzc3dvcmRzIG1hdGNoLCBnZW5lcmF0ZSBKV1QgdG9rZW5cclxuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogZXhpc3RpbmdVc2VyLl9pZCxcclxuICAgICAgICBlbWFpbDogZXhpc3RpbmdVc2VyLmVtYWlsLFxyXG4gICAgICB9LFxyXG4gICAgICBcIk9xSG1remtLczczRENHSlwiLCAvLyBSZXBsYWNlIHdpdGggeW91ciBzZWNyZXQga2V5XHJcbiAgICAgIHsgZXhwaXJlc0luOiBcIjFoXCIgfSAgICAgXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEV4Y2x1ZGUgcGFzc3dvcmQgZnJvbSByZXNwb25zZSBkYXRhXHJcbiAgICBjb25zdCByZXNwb25zZURhdGEgPSB7IC4uLmV4aXN0aW5nVXNlci50b09iamVjdCgpIH07XHJcbiAgICBkZWxldGUgcmVzcG9uc2VEYXRhLnBhc3N3b3JkO1xyXG5cclxuICAgIC8vIFNlbmQgdG9rZW4gYW5kIHVzZXIgZGF0YSBpbiByZXNwb25zZVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxyXG4gICAgICB0b2tlbjogdG9rZW4sXHJcbiAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IGxvZ2dlZCBpblwiLFxyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsR0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssYUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBTyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRS9CLE1BQU1HLE9BQU8sR0FBR0MsZUFBTSxDQUFDQyxXQUFXLENBQUM7RUFDakNDLFdBQVcsRUFBRSxTQUFBQSxDQUFVQyxHQUFHLEVBQUVDLElBQUksRUFBRUMsRUFBRSxFQUFFO0lBQ3BDLE1BQU1DLFVBQVUsR0FBRyxXQUFXO0lBQzlCLElBQUlDLFdBQUUsQ0FBQ0MsVUFBVSxDQUFDRixVQUFVLENBQUMsRUFBRTtNQUM3QkQsRUFBRSxDQUFDLElBQUksRUFBRUMsVUFBVSxDQUFDO0lBQ3RCLENBQUMsTUFBTTtNQUNMQyxXQUFFLENBQUNFLFNBQVMsQ0FBQ0gsVUFBVSxDQUFDO01BQ3hCRCxFQUFFLENBQUMsSUFBSSxFQUFFQyxVQUFVLENBQUM7SUFDdEI7RUFDRixDQUFDO0VBQ0RJLFFBQVEsRUFBRSxTQUFBQSxDQUFVUCxHQUFHLEVBQUVDLElBQUksRUFBRUMsRUFBRSxFQUFFO0lBQ2pDLE1BQU1NLE9BQU8sR0FBR1AsSUFBSSxDQUFDUSxZQUFZO0lBQ2pDLE1BQU1DLEdBQUcsR0FBR0MsYUFBSSxDQUFDQyxLQUFLLENBQUNKLE9BQU8sQ0FBQyxDQUFDRSxHQUFHO0lBQ25DLE1BQU1HLElBQUksR0FBR0YsYUFBSSxDQUFDQyxLQUFLLENBQUNKLE9BQU8sQ0FBQyxDQUFDSyxJQUFJO0lBQ3JDLE1BQU1DLFFBQVEsR0FDWkQsSUFBSSxHQUFHLEdBQUcsR0FBR0UsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0UsTUFBTSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBR1QsR0FBRztJQUV0RVIsRUFBRSxDQUFDLElBQUksRUFBRVksUUFBUSxDQUFDO0VBQ3BCO0FBQ0YsQ0FBQyxDQUFDO0FBRUYsTUFBTU0sTUFBTSxHQUFHLElBQUF2QixlQUFNLEVBQUM7RUFBRUQsT0FBTyxFQUFFQTtBQUFRLENBQUMsQ0FBQztBQUVwQyxNQUFNeUIsT0FBTyxHQUFHLE1BQUFBLENBQU9yQixHQUFHLEVBQUVzQixHQUFHLEtBQUs7RUFDekMsSUFBSTtJQUNGLE1BQU1DLFlBQVksR0FBR0gsTUFBTSxDQUFDSSxNQUFNLENBQUMsUUFBUSxDQUFDO0lBRTVDRCxZQUFZLENBQUN2QixHQUFHLEVBQUVzQixHQUFHLEVBQUUsZ0JBQWdCRyxHQUFHLEVBQUU7TUFDMUMsSUFBSUEsR0FBRyxFQUNMLE9BQU9ILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUMsT0FBTyxFQUFFSCxHQUFHLENBQUNHLE9BQU87UUFBRUMsT0FBTyxFQUFFO01BQU0sQ0FBQyxDQUFDO01BQ3ZFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQy9CLEdBQUcsQ0FBQ2dDLElBQUksQ0FBQztNQUNyQkYsT0FBTyxDQUFDQyxHQUFHLENBQUMvQixHQUFHLENBQUNDLElBQUksQ0FBQztNQUVyQixJQUFJZ0MsR0FBRyxHQUFHLElBQUk7TUFDZCxJQUFJakMsR0FBRyxDQUFDQyxJQUFJLEVBQUU7UUFDWmdDLEdBQUcsR0FBR2pDLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDTSxRQUFRO01BQ3pCO01BQ0EsTUFBTTtRQUFFTSxJQUFJO1FBQUVxQixLQUFLO1FBQUVDLFFBQVE7UUFBRUM7TUFBUSxDQUFDLEdBQUdwQyxHQUFHLENBQUNnQyxJQUFJO01BQ25ELE1BQU1LLFFBQVEsR0FBRyxNQUFNQyxhQUFTLENBQUNDLE1BQU0sQ0FBQztRQUN0QzFCLElBQUksRUFBRUEsSUFBSTtRQUNWcUIsS0FBSyxFQUFFQSxLQUFLO1FBQ1pDLFFBQVEsRUFBRUEsUUFBUTtRQUNsQkMsT0FBTyxFQUFFQSxPQUFPO1FBQ2hCSSxLQUFLLEVBQUVQO01BQ1QsQ0FBQyxDQUFDO01BRUYsSUFBSUksUUFBUSxFQUFFO1FBQ1osT0FBT2YsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUMxQmMsSUFBSSxFQUFFSixRQUFRO1VBQ2RULE9BQU8sRUFBRSxrQkFBa0I7VUFDM0JDLE9BQU8sRUFBRTtRQUNYLENBQUMsQ0FBQztNQUNKO01BRUEsT0FBT1AsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFLGFBQWE7UUFDdEJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQyxPQUFPSixHQUFHLEVBQUU7SUFDWixPQUFPSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQzFCQyxPQUFPLEVBQUVILEdBQUcsQ0FBQ0csT0FBTztNQUNwQkMsT0FBTyxFQUFFO0lBQ1gsQ0FBQyxDQUFDO0VBQ0o7QUFDRixDQUFDO0FBQUNhLE9BQUEsQ0FBQXJCLE9BQUEsR0FBQUEsT0FBQTtBQUVLLE1BQU1zQixRQUFRLEdBQUcsTUFBQUEsQ0FBTzNDLEdBQUcsRUFBRXNCLEdBQUcsS0FBSztFQUMxQyxJQUFJO0lBQ0YsTUFBTXNCLFFBQVEsR0FBRyxNQUFNTixhQUFTLENBQUNPLElBQUksQ0FBQyxDQUFDO0lBQ3ZDLElBQUlELFFBQVEsRUFBRTtNQUNaLE9BQU90QixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQzFCYyxJQUFJLEVBQUVHLFFBQVE7UUFDZGhCLE9BQU8sRUFBRSxVQUFVO1FBQ25CQyxPQUFPLEVBQUUsSUFBSTtRQUNiaUIsUUFBUSxFQUFFO01BQ1osQ0FBQyxDQUFDO0lBQ0o7SUFDQSxPQUFPeEIsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUMxQkMsT0FBTyxFQUFFLGFBQWE7TUFDdEJDLE9BQU8sRUFBRTtJQUNYLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQyxPQUFPSixHQUFHLEVBQUU7SUFDWixPQUFPSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQzFCQyxPQUFPLEVBQUVILEdBQUcsQ0FBQ0csT0FBTztNQUNwQkMsT0FBTyxFQUFFO0lBQ1gsQ0FBQyxDQUFDO0VBQ0o7QUFDRixDQUFDO0FBQUNhLE9BQUEsQ0FBQUMsUUFBQSxHQUFBQSxRQUFBO0FBQ0ssTUFBTUksT0FBTyxHQUFHLE1BQUFBLENBQU8vQyxHQUFHLEVBQUVzQixHQUFHLEtBQUs7RUFDekMsSUFBSTtJQUNGLE1BQU0wQixNQUFNLEdBQUdoRCxHQUFHLENBQUNpRCxNQUFNLENBQUNELE1BQU07SUFDaEMsTUFBTUosUUFBUSxHQUFHLE1BQU1OLGFBQVMsQ0FBQ1ksT0FBTyxDQUFDO01BQUVDLEdBQUcsRUFBRUg7SUFBTyxDQUFDLENBQUM7SUFDekQsSUFBSUosUUFBUSxFQUFFO01BQ1osT0FBT3RCLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJjLElBQUksRUFBRUcsUUFBUTtRQUNkaEIsT0FBTyxFQUFFLFVBQVU7UUFDbkJDLE9BQU8sRUFBRSxJQUFJO1FBQ2JpQixRQUFRLEVBQUU7TUFDWixDQUFDLENBQUM7SUFDSjtJQUNBLE9BQU94QixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQzFCQyxPQUFPLEVBQUUsYUFBYTtNQUN0QkMsT0FBTyxFQUFFO0lBQ1gsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDLE9BQU9KLEdBQUcsRUFBRTtJQUNaLE9BQU9ILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFDMUJDLE9BQU8sRUFBRUgsR0FBRyxDQUFDRyxPQUFPO01BQ3BCQyxPQUFPLEVBQUU7SUFDWCxDQUFDLENBQUM7RUFDSjtBQUNGLENBQUM7QUFBQ2EsT0FBQSxDQUFBSyxPQUFBLEdBQUFBLE9BQUE7QUFFSyxNQUFNSyxVQUFVLEdBQUcsTUFBQUEsQ0FBT3BELEdBQUcsRUFBRXNCLEdBQUcsS0FBSztFQUM1QyxJQUFJO0lBQ0YsTUFBTUMsWUFBWSxHQUFHSCxNQUFNLENBQUNJLE1BQU0sQ0FBQyxRQUFRLENBQUM7SUFFNUNELFlBQVksQ0FBQ3ZCLEdBQUcsRUFBRXNCLEdBQUcsRUFBRSxnQkFBZ0JHLEdBQUcsRUFBRTtNQUMxQyxJQUFJQSxHQUFHLEVBQ0wsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUVILEdBQUcsQ0FBQ0csT0FBTztRQUFFQyxPQUFPLEVBQUU7TUFBTSxDQUFDLENBQUM7TUFDdkUsTUFBTW1CLE1BQU0sR0FBR2hELEdBQUcsQ0FBQ2lELE1BQU0sQ0FBQ0QsTUFBTTtNQUVoQyxNQUFNSyxZQUFZLEdBQUcsTUFBTWYsYUFBUyxDQUFDWSxPQUFPLENBQUM7UUFBRUMsR0FBRyxFQUFFSDtNQUFPLENBQUMsQ0FBQztNQUM3RCxJQUFJZixHQUFHLEdBQUdvQixZQUFZLENBQUNiLEtBQUs7TUFDNUIsSUFBSXhDLEdBQUcsQ0FBQ0MsSUFBSSxFQUFFO1FBQ1pnQyxHQUFHLEdBQUdqQyxHQUFHLENBQUNDLElBQUksQ0FBQ00sUUFBUTtRQUN2QixJQUFJSCxXQUFFLENBQUNDLFVBQVUsQ0FBQyxZQUFZLEdBQUdnRCxZQUFZLENBQUNiLEtBQUssQ0FBQyxFQUFFO1VBQ3BEcEMsV0FBRSxDQUFDa0QsVUFBVSxDQUFDLFlBQVksR0FBR0QsWUFBWSxDQUFDYixLQUFLLENBQUM7UUFDbEQ7TUFDRjtNQUNBLE1BQU07UUFBRTNCLElBQUk7UUFBRXFCLEtBQUs7UUFBRUMsUUFBUTtRQUFFQztNQUFRLENBQUMsR0FBR3BDLEdBQUcsQ0FBQ2dDLElBQUk7O01BRW5EO01BQ0EsSUFBSXVCLGNBQWMsR0FBR3BCLFFBQVE7TUFDN0IsSUFBSUEsUUFBUSxFQUFFO1FBQ1pvQixjQUFjLEdBQUdDLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDdEIsUUFBUSxFQUFFLEVBQUUsQ0FBQztNQUNoRDtNQUVBLE1BQU11QixJQUFJLEdBQUcsTUFBTXBCLGFBQVMsQ0FBQ3FCLFNBQVMsQ0FDcEM7UUFBRVIsR0FBRyxFQUFFSDtNQUFPLENBQUMsRUFDZjtRQUNFWSxJQUFJLEVBQUU7VUFDSi9DLElBQUksRUFBRUEsSUFBSTtVQUNWcUIsS0FBSyxFQUFFQSxLQUFLO1VBQ1pDLFFBQVEsRUFBRW9CLGNBQWM7VUFBRTtVQUMxQm5CLE9BQU8sRUFBRUEsT0FBTztVQUNoQkksS0FBSyxFQUFFUDtRQUNUO01BQ0YsQ0FDRixDQUFDO01BQ0QsSUFBSXlCLElBQUksQ0FBQ0csWUFBWSxFQUFFO1FBQ3JCLE9BQU92QyxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQzFCQyxPQUFPLEVBQUUsVUFBVTtVQUNuQkMsT0FBTyxFQUFFO1FBQ1gsQ0FBQyxDQUFDO01BQ0o7TUFDQSxPQUFPUCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQzFCQyxPQUFPLEVBQUUsYUFBYTtRQUN0QkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDLE9BQU9KLEdBQUcsRUFBRTtJQUNaLE9BQU9ILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFDMUJDLE9BQU8sRUFBRUgsR0FBRyxDQUFDRyxPQUFPO01BQ3BCQyxPQUFPLEVBQUU7SUFDWCxDQUFDLENBQUM7RUFDSjtBQUNGLENBQUM7QUFBQ2EsT0FBQSxDQUFBVSxVQUFBLEdBQUFBLFVBQUE7QUFFSyxNQUFNVSxVQUFVLEdBQUcsTUFBQUEsQ0FBTzlELEdBQUcsRUFBRXNCLEdBQUcsS0FBSztFQUM1QyxJQUFJO0lBQ0YsTUFBTTBCLE1BQU0sR0FBR2hELEdBQUcsQ0FBQ2lELE1BQU0sQ0FBQ0QsTUFBTTtJQUNoQyxNQUFNSyxZQUFZLEdBQUcsTUFBTWYsYUFBUyxDQUFDWSxPQUFPLENBQUM7TUFBRUMsR0FBRyxFQUFFSDtJQUFPLENBQUMsQ0FBQztJQUM3RCxNQUFNVSxJQUFJLEdBQUcsTUFBTXBCLGFBQVMsQ0FBQ3lCLFNBQVMsQ0FBQztNQUFFWixHQUFHLEVBQUVIO0lBQU8sQ0FBQyxDQUFDO0lBQ3ZELElBQUlVLElBQUksQ0FBQ0csWUFBWSxFQUFFO01BQ3JCLElBQUl6RCxXQUFFLENBQUNDLFVBQVUsQ0FBQyxZQUFZLEdBQUdnRCxZQUFZLENBQUNiLEtBQUssQ0FBQyxFQUFFO1FBQ3BEcEMsV0FBRSxDQUFDa0QsVUFBVSxDQUFDLFlBQVksR0FBR0QsWUFBWSxDQUFDYixLQUFLLENBQUM7TUFDbEQ7TUFDQSxPQUFPbEIsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFLFVBQVU7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0lBQ0EsT0FBT1AsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUMxQkMsT0FBTyxFQUFFLGFBQWE7TUFDdEJDLE9BQU8sRUFBRTtJQUNYLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQyxPQUFPSixHQUFHLEVBQUU7SUFDWixPQUFPSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQzFCQyxPQUFPLEVBQUVILEdBQUcsQ0FBQ0csT0FBTztNQUNwQkMsT0FBTyxFQUFFO0lBQ1gsQ0FBQyxDQUFDO0VBQ0o7QUFDRixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUZBYSxPQUFBLENBQUFvQixVQUFBLEdBQUFBLFVBQUE7QUFHTyxNQUFNRSxNQUFNLEdBQUcsTUFBQUEsQ0FBT2hFLEdBQUcsRUFBRXNCLEdBQUcsS0FBSztFQUN4QyxJQUFJO0lBQ0Y7SUFDQUYsTUFBTSxDQUFDSSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUN4QixHQUFHLEVBQUVzQixHQUFHLEVBQUUsZ0JBQWdCRyxHQUFHLEVBQUU7TUFDcEQsSUFBSUEsR0FBRyxFQUFFO1FBQ1AsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUFFQyxPQUFPLEVBQUVILEdBQUcsQ0FBQ0csT0FBTztVQUFFQyxPQUFPLEVBQUU7UUFBTSxDQUFDLENBQUM7TUFDdkU7O01BRUE7TUFDQSxJQUFJLENBQUM3QixHQUFHLENBQUNDLElBQUksRUFBRTtRQUNiLE9BQU9xQixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQzFCQyxPQUFPLEVBQUUsd0JBQXdCO1VBQ2pDQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjs7TUFFQTtNQUNBLE1BQU07UUFBRW9DLFNBQVM7UUFBRS9CLEtBQUs7UUFBRUMsUUFBUTtRQUFFQyxPQUFPO1FBQUU4QixRQUFRO1FBQUVDO01BQVMsQ0FBQyxHQUMvRG5FLEdBQUcsQ0FBQ2dDLElBQUk7O01BRVY7TUFDQSxNQUFNb0MsWUFBWSxHQUFHWixlQUFNLENBQUNDLFFBQVEsQ0FBQ3RCLFFBQVEsRUFBRSxFQUFFLENBQUM7O01BRWxEO01BQ0EsTUFBTWtDLE9BQU8sR0FBRyxNQUFNL0IsYUFBUyxDQUFDQyxNQUFNLENBQUM7UUFDckMwQixTQUFTO1FBQ1RFLFFBQVE7UUFDUmpDLEtBQUs7UUFDTGdDLFFBQVE7UUFDUi9CLFFBQVEsRUFBRWlDLFlBQVk7UUFDdEJoQyxPQUFPO1FBQ1BJLEtBQUssRUFBRXhDLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDTSxRQUFRLENBQUU7TUFDNUIsQ0FBQyxDQUFDOztNQUVGO01BQ0EsSUFBSThELE9BQU8sRUFBRTtRQUNYLE9BQU8vQyxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQzFCYyxJQUFJLEVBQUU0QixPQUFPO1VBQ2J6QyxPQUFPLEVBQUUsNkJBQTZCO1VBQ3RDQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjs7TUFFQTtNQUNBLE9BQU9QLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLE9BQU8sRUFBRSx1QkFBdUI7UUFDaENDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQyxPQUFPSixHQUFHLEVBQUU7SUFDWixPQUFPSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO01BQzFCQyxPQUFPLEVBQUVILEdBQUcsQ0FBQ0csT0FBTztNQUNwQkMsT0FBTyxFQUFFO0lBQ1gsQ0FBQyxDQUFDO0VBQ0o7QUFDRixDQUFDO0FBQUNhLE9BQUEsQ0FBQXNCLE1BQUEsR0FBQUEsTUFBQTtBQUVLLE1BQU1NLEtBQUssR0FBRyxNQUFBQSxDQUFPdEUsR0FBRyxFQUFFc0IsR0FBRyxLQUFLO0VBQ3ZDLElBQUk7SUFDRixNQUFNO01BQUVZLEtBQUs7TUFBRUM7SUFBUyxDQUFDLEdBQUduQyxHQUFHLENBQUNnQyxJQUFJO0lBRXBDLE1BQU1xQixZQUFZLEdBQUcsTUFBTWYsYUFBUyxDQUFDWSxPQUFPLENBQUM7TUFBRWhCLEtBQUssRUFBRUE7SUFBTSxDQUFDLENBQUM7SUFDOUQsSUFBSSxDQUFDbUIsWUFBWSxFQUFFO01BQ2pCLE9BQU8vQixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQzFCQyxPQUFPLEVBQUUscUJBQXFCO1FBQzlCQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtJQUVBLE1BQU0wQyxlQUFlLEdBQUdmLGVBQU0sQ0FBQ2dCLFdBQVcsQ0FBQ3JDLFFBQVEsRUFBRWtCLFlBQVksQ0FBQ2xCLFFBQVEsQ0FBQztJQUMzRSxJQUFJLENBQUNvQyxlQUFlLEVBQUU7TUFDcEIsT0FBT2pELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLE9BQU8sRUFBRSxvQkFBb0I7UUFDN0JDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKOztJQUVBO0lBQ0EsTUFBTTRDLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUNwQjtNQUNFQyxFQUFFLEVBQUV2QixZQUFZLENBQUNGLEdBQUc7TUFDcEJqQixLQUFLLEVBQUVtQixZQUFZLENBQUNuQjtJQUN0QixDQUFDLEVBQ0QsaUJBQWlCO0lBQUU7SUFDbkI7TUFBRTJDLFNBQVMsRUFBRTtJQUFLLENBQ3BCLENBQUM7O0lBRUQ7SUFDQSxNQUFNQyxZQUFZLEdBQUc7TUFBRSxHQUFHekIsWUFBWSxDQUFDMEIsUUFBUSxDQUFDO0lBQUUsQ0FBQztJQUNuRCxPQUFPRCxZQUFZLENBQUMzQyxRQUFROztJQUU1QjtJQUNBLE9BQU9iLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFDMUJjLElBQUksRUFBRXFDLFlBQVk7TUFDbEJMLEtBQUssRUFBRUEsS0FBSztNQUNaN0MsT0FBTyxFQUFFLHdCQUF3QjtNQUNqQ0MsT0FBTyxFQUFFO0lBQ1gsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDLE9BQU9KLEdBQUcsRUFBRTtJQUNaLE9BQU9ILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFDMUJDLE9BQU8sRUFBRUgsR0FBRyxDQUFDRyxPQUFPO01BQ3BCQyxPQUFPLEVBQUU7SUFDWCxDQUFDLENBQUM7RUFDSjtBQUNGLENBQUM7QUFBQ2EsT0FBQSxDQUFBNEIsS0FBQSxHQUFBQSxLQUFBIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_user","_interopRequireDefault","require","_multer","_path","_fs","_bcrypt","_jsonwebtoken","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","uploadPath","fs","existsSync","mkdirSync","filename","orgName","originalname","ext","path","parse","name","fullname","Date","now","Math","round","random","upload","addUser","res","dataWithFile","single","err","status","json","message","success","console","log","body","img","email","password","contact","saveData","UserModel","create","image","data","exports","getUsers","userData","find","filepath","getUser","userid","params","findOne","_id","updateUser","existingUser","unlinkSync","hashedPassword","bcrypt","hashSync","user","updateOne","$set","acknowledged","deleteUser","deleteOne","signUp","firstname","usertype","lastname","hashPassword","newUser","login","comparePassword","compareSync","token","jwt","sign","id","expiresIn","responseData","toObject"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\controllers\\","sources":["user.controller.js"],"sourcesContent":["import UserModel from \"../models/user.model\";\r\nimport multer from \"multer\";\r\nimport path from \"path\";\r\nimport fs from \"fs\";\r\nimport bcrypt from \"bcrypt\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    const uploadPath = \"./uploads\";\r\n    if (fs.existsSync(uploadPath)) {\r\n      cb(null, uploadPath);\r\n    } else {\r\n      fs.mkdirSync(uploadPath);\r\n      cb(null, uploadPath);\r\n    }\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const orgName = file.originalname;\r\n    const ext = path.parse(orgName).ext;\r\n    const name = path.parse(orgName).name;\r\n    const fullname =\r\n      name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\r\n\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nexport const addUser = async (req, res) => {\r\n  try {\r\n    const dataWithFile = upload.single(\"avatar\");\r\n\r\n    dataWithFile(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      console.log(req.body);\r\n      console.log(req.file);\r\n\r\n      let img = null;\r\n      if (req.file) {\r\n        img = req.file.filename;\r\n      }\r\n      const { name, email, password, contact } = req.body;\r\n      const saveData = await UserModel.create({\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n        contact: contact,\r\n        image: img,\r\n      });\r\n\r\n      if (saveData) {\r\n        return res.status(201).json({\r\n          data: saveData,\r\n          message: \"New record added\",\r\n          success: true,\r\n        });\r\n      }\r\n\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUsers = async (req, res) => {\r\n  try {\r\n    const userData = await UserModel.find();\r\n    if (userData) {\r\n      return res.status(200).json({\r\n        data: userData,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n        filepath: \"http://localhost:8003/uploads/\",\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\nexport const getUser = async (req, res) => {\r\n  try {\r\n    const userid = req.params.userid;\r\n    const userData = await UserModel.findOne({ _id: userid });\r\n    if (userData) {\r\n      return res.status(200).json({\r\n        data: userData,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n        filepath: \"http://localhost:8003/uploads/\",\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUser = async (req, res) => {\r\n  try {\r\n    const dataWithFile = upload.single(\"avatar\");\r\n\r\n    dataWithFile(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      const userid = req.params.userid;\r\n\r\n      const existingUser = await UserModel.findOne({ _id: userid });\r\n      let img = existingUser.image;\r\n      if (req.file) {\r\n        img = req.file.filename;\r\n        if (fs.existsSync(\"./uploads/\" + existingUser.image)) {\r\n          fs.unlinkSync(\"./uploads/\" + existingUser.image);\r\n        }\r\n      }\r\n      const { name, email, password, contact } = req.body;\r\n\r\n      // Hash the password if it's provided\r\n      let hashedPassword = password;\r\n      if (password) {\r\n        hashedPassword = bcrypt.hashSync(password, 10);\r\n      }\r\n\r\n      const user = await UserModel.updateOne(\r\n        { _id: userid },\r\n        {\r\n          $set: {\r\n            name: name,\r\n            email: email,\r\n            password: hashedPassword, // Use the hashed password\r\n            contact: contact,\r\n            image: img,\r\n          },\r\n        }\r\n      );\r\n      if (user.acknowledged) {\r\n        return res.status(200).json({\r\n          message: \"Updated!\",\r\n          success: true,\r\n        });\r\n      }\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (req, res) => {\r\n  try {\r\n    const userid = req.params.userid;\r\n    const existingUser = await UserModel.findOne({ _id: userid });\r\n    const user = await UserModel.deleteOne({ _id: userid });\r\n    if (user.acknowledged) {\r\n      if (fs.existsSync(\"./uploads/\" + existingUser.image)) {\r\n        fs.unlinkSync(\"./uploads/\" + existingUser.image);\r\n      }\r\n      return res.status(200).json({\r\n        message: \"Deleted!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n/* ===========================\r\n        Auth\r\n=============================*/\r\nexport const signUp = async (req, res) => {\r\n  try {\r\n    // Apply Multer middleware to handle file uploads\r\n    upload.single(\"image\")(req, res, async function (err) {\r\n      if (err) {\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      }\r\n\r\n      // Check if a file is uploaded\r\n      if (!req.file) {\r\n        return res.status(400).json({\r\n          message: \"Please upload an image\",\r\n          success: false,\r\n        });\r\n      }\r\n\r\n      // Destructure user data from request body\r\n      const { firstname, email, password, contact, usertype, lastname } =\r\n        req.body;\r\n\r\n      // Hash password\r\n      const hashPassword = bcrypt.hashSync(password, 10);\r\n\r\n      // Create new user document\r\n      const newUser = await UserModel.create({\r\n        firstname,\r\n        lastname,\r\n        email,\r\n        usertype,\r\n        password: hashPassword,\r\n        contact,\r\n        image: req.file.filename, // Set image field to uploaded file's filename\r\n      });\r\n\r\n      // Check if user was created successfully\r\n      if (newUser) {\r\n        return res.status(201).json({\r\n          data: newUser,\r\n          message: \"New user added successfully\",\r\n          success: true,\r\n        });\r\n      }\r\n\r\n      // If newUser is null, return error response\r\n      return res.status(400).json({\r\n        message: \"Failed to create user\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const login = async (req, res) => {\r\n  try {\r\n    const { email, password } = req.body;\r\n\r\n    const existingUser = await UserModel.findOne({ email: email });\r\n    if (!existingUser) {\r\n      return res.status(400).json({\r\n        message: \"User doesn't exist!\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    const comparePassword = bcrypt.compareSync(password, existingUser.password);\r\n    if (!comparePassword) {\r\n      return res.status(400).json({\r\n        message: \"Invalid credential\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    // If passwords match, generate JWT token\r\n    const token = jwt.sign(\r\n      {\r\n        id: existingUser._id,\r\n        email: existingUser.email,\r\n      },\r\n      \"OqHmkzkKs73DCGJ\", // Replace with your secret key\r\n      { expiresIn: \"1h\" }     \r\n    );\r\n\r\n    // Exclude password from response data\r\n    const responseData = { ...existingUser.toObject() };\r\n    delete responseData.password;\r\n\r\n    // Send token and user data in response\r\n    return res.status(200).json({\r\n      data: responseData,\r\n      token: token,\r\n      message: \"Successfully logged in\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,GAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,aAAA,GAAAN,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAO,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE/B,MAAMG,OAAO,GAAGC,eAAM,CAACC,WAAW,CAAC;EACjCC,WAAW,EAAE,SAAAA,CAAUC,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACpC,MAAMC,UAAU,GAAG,WAAW;IAC9B,IAAIC,WAAE,CAACC,UAAU,CAACF,UAAU,CAAC,EAAE;MAC7BD,EAAE,CAAC,IAAI,EAAEC,UAAU,CAAC;IACtB,CAAC,MAAM;MACLC,WAAE,CAACE,SAAS,CAACH,UAAU,CAAC;MACxBD,EAAE,CAAC,IAAI,EAAEC,UAAU,CAAC;IACtB;EACF,CAAC;EACDI,QAAQ,EAAE,SAAAA,CAAUP,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACjC,MAAMM,OAAO,GAAGP,IAAI,CAACQ,YAAY;IACjC,MAAMC,GAAG,GAAGC,aAAI,CAACC,KAAK,CAACJ,OAAO,CAAC,CAACE,GAAG;IACnC,MAAMG,IAAI,GAAGF,aAAI,CAACC,KAAK,CAACJ,OAAO,CAAC,CAACK,IAAI;IACrC,MAAMC,QAAQ,GACZD,IAAI,GAAG,GAAG,GAAGE,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC,GAAGT,GAAG;IAEtER,EAAE,CAAC,IAAI,EAAEY,QAAQ,CAAC;EACpB;AACF,CAAC,CAAC;AAEF,MAAMM,MAAM,GAAG,IAAAvB,eAAM,EAAC;EAAED,OAAO,EAAEA;AAAQ,CAAC,CAAC;AAEpC,MAAMyB,OAAO,GAAG,MAAAA,CAAOrB,GAAG,EAAEsB,GAAG,KAAK;EACzC,IAAI;IACF,MAAMC,YAAY,GAAGH,MAAM,CAACI,MAAM,CAAC,QAAQ,CAAC;IAE5CD,YAAY,CAACvB,GAAG,EAAEsB,GAAG,EAAE,gBAAgBG,GAAG,EAAE;MAC1C,IAAIA,GAAG,EACL,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAEH,GAAG,CAACG,OAAO;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;MACvEC,OAAO,CAACC,GAAG,CAAC/B,GAAG,CAACgC,IAAI,CAAC;MACrBF,OAAO,CAACC,GAAG,CAAC/B,GAAG,CAACC,IAAI,CAAC;MAErB,IAAIgC,GAAG,GAAG,IAAI;MACd,IAAIjC,GAAG,CAACC,IAAI,EAAE;QACZgC,GAAG,GAAGjC,GAAG,CAACC,IAAI,CAACM,QAAQ;MACzB;MACA,MAAM;QAAEM,IAAI;QAAEqB,KAAK;QAAEC,QAAQ;QAAEC;MAAQ,CAAC,GAAGpC,GAAG,CAACgC,IAAI;MACnD,MAAMK,QAAQ,GAAG,MAAMC,aAAS,CAACC,MAAM,CAAC;QACtC1B,IAAI,EAAEA,IAAI;QACVqB,KAAK,EAAEA,KAAK;QACZC,QAAQ,EAAEA,QAAQ;QAClBC,OAAO,EAAEA,OAAO;QAChBI,KAAK,EAAEP;MACT,CAAC,CAAC;MAEF,IAAII,QAAQ,EAAE;QACZ,OAAOf,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1Bc,IAAI,EAAEJ,QAAQ;UACdT,OAAO,EAAE,kBAAkB;UAC3BC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MAEA,OAAOP,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE,aAAa;QACtBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACa,OAAA,CAAArB,OAAA,GAAAA,OAAA;AAEK,MAAMsB,QAAQ,GAAG,MAAAA,CAAO3C,GAAG,EAAEsB,GAAG,KAAK;EAC1C,IAAI;IACF,MAAMsB,QAAQ,GAAG,MAAMN,aAAS,CAACO,IAAI,CAAC,CAAC;IACvC,IAAID,QAAQ,EAAE;MACZ,OAAOtB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1Bc,IAAI,EAAEG,QAAQ;QACdhB,OAAO,EAAE,UAAU;QACnBC,OAAO,EAAE,IAAI;QACbiB,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ;IACA,OAAOxB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAE,aAAa;MACtBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACa,OAAA,CAAAC,QAAA,GAAAA,QAAA;AACK,MAAMI,OAAO,GAAG,MAAAA,CAAO/C,GAAG,EAAEsB,GAAG,KAAK;EACzC,IAAI;IACF,MAAM0B,MAAM,GAAGhD,GAAG,CAACiD,MAAM,CAACD,MAAM;IAChC,MAAMJ,QAAQ,GAAG,MAAMN,aAAS,CAACY,OAAO,CAAC;MAAEC,GAAG,EAAEH;IAAO,CAAC,CAAC;IACzD,IAAIJ,QAAQ,EAAE;MACZ,OAAOtB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1Bc,IAAI,EAAEG,QAAQ;QACdhB,OAAO,EAAE,UAAU;QACnBC,OAAO,EAAE,IAAI;QACbiB,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ;IACA,OAAOxB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAE,aAAa;MACtBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACa,OAAA,CAAAK,OAAA,GAAAA,OAAA;AAEK,MAAMK,UAAU,GAAG,MAAAA,CAAOpD,GAAG,EAAEsB,GAAG,KAAK;EAC5C,IAAI;IACF,MAAMC,YAAY,GAAGH,MAAM,CAACI,MAAM,CAAC,QAAQ,CAAC;IAE5CD,YAAY,CAACvB,GAAG,EAAEsB,GAAG,EAAE,gBAAgBG,GAAG,EAAE;MAC1C,IAAIA,GAAG,EACL,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAEC,OAAO,EAAEH,GAAG,CAACG,OAAO;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;MACvE,MAAMmB,MAAM,GAAGhD,GAAG,CAACiD,MAAM,CAACD,MAAM;MAEhC,MAAMK,YAAY,GAAG,MAAMf,aAAS,CAACY,OAAO,CAAC;QAAEC,GAAG,EAAEH;MAAO,CAAC,CAAC;MAC7D,IAAIf,GAAG,GAAGoB,YAAY,CAACb,KAAK;MAC5B,IAAIxC,GAAG,CAACC,IAAI,EAAE;QACZgC,GAAG,GAAGjC,GAAG,CAACC,IAAI,CAACM,QAAQ;QACvB,IAAIH,WAAE,CAACC,UAAU,CAAC,YAAY,GAAGgD,YAAY,CAACb,KAAK,CAAC,EAAE;UACpDpC,WAAE,CAACkD,UAAU,CAAC,YAAY,GAAGD,YAAY,CAACb,KAAK,CAAC;QAClD;MACF;MACA,MAAM;QAAE3B,IAAI;QAAEqB,KAAK;QAAEC,QAAQ;QAAEC;MAAQ,CAAC,GAAGpC,GAAG,CAACgC,IAAI;;MAEnD;MACA,IAAIuB,cAAc,GAAGpB,QAAQ;MAC7B,IAAIA,QAAQ,EAAE;QACZoB,cAAc,GAAGC,eAAM,CAACC,QAAQ,CAACtB,QAAQ,EAAE,EAAE,CAAC;MAChD;MAEA,MAAMuB,IAAI,GAAG,MAAMpB,aAAS,CAACqB,SAAS,CACpC;QAAER,GAAG,EAAEH;MAAO,CAAC,EACf;QACEY,IAAI,EAAE;UACJ/C,IAAI,EAAEA,IAAI;UACVqB,KAAK,EAAEA,KAAK;UACZC,QAAQ,EAAEoB,cAAc;UAAE;UAC1BnB,OAAO,EAAEA,OAAO;UAChBI,KAAK,EAAEP;QACT;MACF,CACF,CAAC;MACD,IAAIyB,IAAI,CAACG,YAAY,EAAE;QACrB,OAAOvC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,UAAU;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MACA,OAAOP,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE,aAAa;QACtBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACa,OAAA,CAAAU,UAAA,GAAAA,UAAA;AAEK,MAAMU,UAAU,GAAG,MAAAA,CAAO9D,GAAG,EAAEsB,GAAG,KAAK;EAC5C,IAAI;IACF,MAAM0B,MAAM,GAAGhD,GAAG,CAACiD,MAAM,CAACD,MAAM;IAChC,MAAMK,YAAY,GAAG,MAAMf,aAAS,CAACY,OAAO,CAAC;MAAEC,GAAG,EAAEH;IAAO,CAAC,CAAC;IAC7D,MAAMU,IAAI,GAAG,MAAMpB,aAAS,CAACyB,SAAS,CAAC;MAAEZ,GAAG,EAAEH;IAAO,CAAC,CAAC;IACvD,IAAIU,IAAI,CAACG,YAAY,EAAE;MACrB,IAAIzD,WAAE,CAACC,UAAU,CAAC,YAAY,GAAGgD,YAAY,CAACb,KAAK,CAAC,EAAE;QACpDpC,WAAE,CAACkD,UAAU,CAAC,YAAY,GAAGD,YAAY,CAACb,KAAK,CAAC;MAClD;MACA,OAAOlB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE,UAAU;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,OAAOP,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAE,aAAa;MACtBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;;AAED;AACA;AACA;AAFAa,OAAA,CAAAoB,UAAA,GAAAA,UAAA;AAGO,MAAME,MAAM,GAAG,MAAAA,CAAOhE,GAAG,EAAEsB,GAAG,KAAK;EACxC,IAAI;IACF;IACAF,MAAM,CAACI,MAAM,CAAC,OAAO,CAAC,CAACxB,GAAG,EAAEsB,GAAG,EAAE,gBAAgBG,GAAG,EAAE;MACpD,IAAIA,GAAG,EAAE;QACP,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAAEC,OAAO,EAAEH,GAAG,CAACG,OAAO;UAAEC,OAAO,EAAE;QAAM,CAAC,CAAC;MACvE;;MAEA;MACA,IAAI,CAAC7B,GAAG,CAACC,IAAI,EAAE;QACb,OAAOqB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE,wBAAwB;UACjCC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;;MAEA;MACA,MAAM;QAAEoC,SAAS;QAAE/B,KAAK;QAAEC,QAAQ;QAAEC,OAAO;QAAE8B,QAAQ;QAAEC;MAAS,CAAC,GAC/DnE,GAAG,CAACgC,IAAI;;MAEV;MACA,MAAMoC,YAAY,GAAGZ,eAAM,CAACC,QAAQ,CAACtB,QAAQ,EAAE,EAAE,CAAC;;MAElD;MACA,MAAMkC,OAAO,GAAG,MAAM/B,aAAS,CAACC,MAAM,CAAC;QACrC0B,SAAS;QACTE,QAAQ;QACRjC,KAAK;QACLgC,QAAQ;QACR/B,QAAQ,EAAEiC,YAAY;QACtBhC,OAAO;QACPI,KAAK,EAAExC,GAAG,CAACC,IAAI,CAACM,QAAQ,CAAE;MAC5B,CAAC,CAAC;;MAEF;MACA,IAAI8D,OAAO,EAAE;QACX,OAAO/C,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1Bc,IAAI,EAAE4B,OAAO;UACbzC,OAAO,EAAE,6BAA6B;UACtCC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;;MAEA;MACA,OAAOP,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE,uBAAuB;QAChCC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACa,OAAA,CAAAsB,MAAA,GAAAA,MAAA;AAEK,MAAMM,KAAK,GAAG,MAAAA,CAAOtE,GAAG,EAAEsB,GAAG,KAAK;EACvC,IAAI;IACF,MAAM;MAAEY,KAAK;MAAEC;IAAS,CAAC,GAAGnC,GAAG,CAACgC,IAAI;IAEpC,MAAMqB,YAAY,GAAG,MAAMf,aAAS,CAACY,OAAO,CAAC;MAAEhB,KAAK,EAAEA;IAAM,CAAC,CAAC;IAC9D,IAAI,CAACmB,YAAY,EAAE;MACjB,OAAO/B,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE,qBAAqB;QAC9BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IAEA,MAAM0C,eAAe,GAAGf,eAAM,CAACgB,WAAW,CAACrC,QAAQ,EAAEkB,YAAY,CAAClB,QAAQ,CAAC;IAC3E,IAAI,CAACoC,eAAe,EAAE;MACpB,OAAOjD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE,oBAAoB;QAC7BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;;IAEA;IACA,MAAM4C,KAAK,GAAGC,qBAAG,CAACC,IAAI,CACpB;MACEC,EAAE,EAAEvB,YAAY,CAACF,GAAG;MACpBjB,KAAK,EAAEmB,YAAY,CAACnB;IACtB,CAAC,EACD,iBAAiB;IAAE;IACnB;MAAE2C,SAAS,EAAE;IAAK,CACpB,CAAC;;IAED;IACA,MAAMC,YAAY,GAAG;MAAE,GAAGzB,YAAY,CAAC0B,QAAQ,CAAC;IAAE,CAAC;IACnD,OAAOD,YAAY,CAAC3C,QAAQ;;IAE5B;IACA,OAAOb,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1Bc,IAAI,EAAEqC,YAAY;MAClBL,KAAK,EAAEA,KAAK;MACZ7C,OAAO,EAAE,wBAAwB;MACjCC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZ,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AAACa,OAAA,CAAA4B,KAAA,GAAAA,KAAA","ignoreList":[]}},"mtime":1716552261735},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\models\\\\user.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst UserSchema = new Schema({\n  firstname: {\n    type: String,\n    required: true\n  },\n  lastname: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  usertype: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  contact: {\n    type: Number,\n    default: null\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"user\", UserSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJVc2VyU2NoZW1hIiwiZmlyc3RuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibGFzdG5hbWUiLCJlbWFpbCIsInVzZXJ0eXBlIiwicGFzc3dvcmQiLCJjb250YWN0IiwiTnVtYmVyIiwiaW1hZ2UiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsIm5vdyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcRnVsbHN0YWNrIE1lcm5cXFJlYWN0XFx0aWNrZXRzbWFuYWdlbWVudGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJ1c2VyLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIGZpcnN0bmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBsYXN0bmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuXHJcbiAgZW1haWw6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgdXNlcnR5cGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgcGFzc3dvcmQ6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgY29udGFjdDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIGltYWdlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG5cclxuICBjcmVhdGVkX2F0OiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgZGVmYXVsdDogRGF0ZS5ub3coKSxcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKFwidXNlclwiLCBVc2VyU2NoZW1hKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBZ0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDaEMsTUFBTUcsTUFBTSxHQUFHQyxpQkFBUSxDQUFDRCxNQUFNO0FBRTlCLE1BQU1FLFVBQVUsR0FBRyxJQUFJRixNQUFNLENBQUM7RUFDNUJHLFNBQVMsRUFBRTtJQUNUQyxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNEQyxRQUFRLEVBQUU7SUFDUkgsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFFREUsS0FBSyxFQUFFO0lBQ0xKLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RHLFFBQVEsRUFBRTtJQUNSTCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNESSxRQUFRLEVBQUU7SUFDUk4sSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREssT0FBTyxFQUFFO0lBQ1BQLElBQUksRUFBRVEsTUFBTTtJQUNaYixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RjLEtBQUssRUFBRTtJQUNMVCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUVEUSxVQUFVLEVBQUU7SUFDVlYsSUFBSSxFQUFFVyxJQUFJO0lBQ1ZoQixPQUFPLEVBQUVnQixJQUFJLENBQUNDLEdBQUcsQ0FBQztFQUNwQjtBQUNGLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBbkIsT0FBQSxHQUVZRSxpQkFBUSxDQUFDa0IsS0FBSyxDQUFDLE1BQU0sRUFBRWpCLFVBQVUsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","UserSchema","firstname","type","String","required","lastname","email","usertype","password","contact","Number","image","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\models\\","sources":["user.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst UserSchema = new Schema({\r\n  firstname: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  lastname: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  usertype: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  password: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  contact: {\r\n    type: Number,\r\n    default: null,\r\n  },\r\n  image: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"user\", UserSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,SAAS,EAAE;IACTC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,QAAQ,EAAE;IACRH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EAEDE,KAAK,EAAE;IACLJ,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDG,QAAQ,EAAE;IACRL,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDI,QAAQ,EAAE;IACRN,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDK,OAAO,EAAE;IACPP,IAAI,EAAEQ,MAAM;IACZb,OAAO,EAAE;EACX,CAAC;EACDc,KAAK,EAAE;IACLT,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EAEDQ,UAAU,EAAE;IACVV,IAAI,EAAEW,IAAI;IACVhB,OAAO,EAAEgB,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAEYE,iBAAQ,CAACkB,KAAK,CAAC,MAAM,EAAEjB,UAAU,CAAC","ignoreList":[]}},"mtime":1717077289288},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\routers\\\\user.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _user = require(\"../controllers/user.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-user\", _user.addUser);\nrouter.get(\"/get-users\", _user.getUsers);\nrouter.get(\"/get-user/:userid\", _user.getUser);\nrouter.put(\"/update-user/:userid\", _user.updateUser);\nrouter.delete(\"/delete-user/:userid\", _user.deleteUser);\n\n// Auth\nrouter.post(\"/sign-up\", _user.signUp);\nrouter.post(\"/login\", _user.login);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3VzZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkVXNlciIsImdldCIsImdldFVzZXJzIiwiZ2V0VXNlciIsInB1dCIsInVwZGF0ZVVzZXIiLCJkZWxldGUiLCJkZWxldGVVc2VyIiwic2lnblVwIiwibG9naW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxGdWxsc3RhY2sgTWVyblxcUmVhY3RcXHRpY2tldHNtYW5hZ2VtZW50YmFja2VuZFxccm91dGVyc1xcIiwic291cmNlcyI6WyJ1c2VyLnJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQge1xyXG4gIGFkZFVzZXIsXHJcbiAgZGVsZXRlVXNlcixcclxuICBnZXRVc2VyLFxyXG4gIGxvZ2luLFxyXG4gIHNpZ25VcCxcclxuICBnZXRVc2VycyxcclxuICB1cGRhdGVVc2VyLFxyXG59IGZyb20gXCIuLi9jb250cm9sbGVycy91c2VyLmNvbnRyb2xsZXJcIjtcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9hZGQtdXNlclwiLCBhZGRVc2VyKTtcclxucm91dGVyLmdldChcIi9nZXQtdXNlcnNcIiwgZ2V0VXNlcnMpO1xyXG5yb3V0ZXIuZ2V0KFwiL2dldC11c2VyLzp1c2VyaWRcIiwgZ2V0VXNlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXVzZXIvOnVzZXJpZFwiLCB1cGRhdGVVc2VyKTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUtdXNlci86dXNlcmlkXCIsIGRlbGV0ZVVzZXIpO1xyXG5cclxuLy8gQXV0aFxyXG5yb3V0ZXIucG9zdChcIi9zaWduLXVwXCIsIHNpZ25VcCk7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIGxvZ2luKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFELE9BQUE7QUFRd0MsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFeEMsTUFBTUcsTUFBTSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUUvQkYsTUFBTSxDQUFDRyxJQUFJLENBQUMsV0FBVyxFQUFFQyxhQUFPLENBQUM7QUFDakNKLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLFlBQVksRUFBRUMsY0FBUSxDQUFDO0FBQ2xDTixNQUFNLENBQUNLLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRUUsYUFBTyxDQUFDO0FBQ3hDUCxNQUFNLENBQUNRLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRUMsZ0JBQVUsQ0FBQztBQUM5Q1QsTUFBTSxDQUFDVSxNQUFNLENBQUMsc0JBQXNCLEVBQUVDLGdCQUFVLENBQUM7O0FBRWpEO0FBQ0FYLE1BQU0sQ0FBQ0csSUFBSSxDQUFDLFVBQVUsRUFBRVMsWUFBTSxDQUFDO0FBQy9CWixNQUFNLENBQUNHLElBQUksQ0FBQyxRQUFRLEVBQUVVLFdBQUssQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUVkQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_express","_interopRequireDefault","require","_user","obj","__esModule","default","router","express","Router","post","addUser","get","getUsers","getUser","put","updateUser","delete","deleteUser","signUp","login","_default","exports"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\routers\\","sources":["user.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addUser,\r\n  deleteUser,\r\n  getUser,\r\n  login,\r\n  signUp,\r\n  getUsers,\r\n  updateUser,\r\n} from \"../controllers/user.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-user\", addUser);\r\nrouter.get(\"/get-users\", getUsers);\r\nrouter.get(\"/get-user/:userid\", getUser);\r\nrouter.put(\"/update-user/:userid\", updateUser);\r\nrouter.delete(\"/delete-user/:userid\", deleteUser);\r\n\r\n// Auth\r\nrouter.post(\"/sign-up\", signUp);\r\nrouter.post(\"/login\", login);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAQwC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,WAAW,EAAEC,aAAO,CAAC;AACjCJ,MAAM,CAACK,GAAG,CAAC,YAAY,EAAEC,cAAQ,CAAC;AAClCN,MAAM,CAACK,GAAG,CAAC,mBAAmB,EAAEE,aAAO,CAAC;AACxCP,MAAM,CAACQ,GAAG,CAAC,sBAAsB,EAAEC,gBAAU,CAAC;AAC9CT,MAAM,CAACU,MAAM,CAAC,sBAAsB,EAAEC,gBAAU,CAAC;;AAEjD;AACAX,MAAM,CAACG,IAAI,CAAC,UAAU,EAAES,YAAM,CAAC;AAC/BZ,MAAM,CAACG,IAAI,CAAC,QAAQ,EAAEU,WAAK,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEdC,MAAM","ignoreList":[]}},"mtime":1716907375314},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\controllers\\\\user.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUser = exports.signUp = exports.login = exports.getUsers = exports.getUser = exports.deleteUser = exports.addUser = void 0;\nvar _user = _interopRequireDefault(require(\"../models/user.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    const uploadPath = \"./uploads\";\n    if (_fs.default.existsSync(uploadPath)) {\n      cb(null, uploadPath);\n    } else {\n      _fs.default.mkdirSync(uploadPath);\n      cb(null, uploadPath);\n    }\n  },\n  filename: function (req, file, cb) {\n    const orgName = file.originalname;\n    const ext = _path.default.parse(orgName).ext;\n    const name = _path.default.parse(orgName).name;\n    const fullname = name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst addUser = async (req, res) => {\n  try {\n    const dataWithFile = upload.single(\"avatar\");\n    dataWithFile(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      console.log(req.body);\n      console.log(req.file);\n      let img = null;\n      if (req.file) {\n        img = req.file.filename;\n      }\n      const {\n        name,\n        email,\n        password,\n        contact\n      } = req.body;\n      const saveData = await _user.default.create({\n        name: name,\n        email: email,\n        password: password,\n        contact: contact,\n        image: img\n      });\n      if (saveData) {\n        return res.status(201).json({\n          data: saveData,\n          message: \"New record added\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addUser = addUser;\nconst getUsers = async (req, res) => {\n  try {\n    const userData = await _user.default.find();\n    if (userData) {\n      return res.status(200).json({\n        data: userData,\n        message: \"Fetched!\",\n        success: true,\n        filepath: \"http://localhost:8003/uploads/\"\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getUsers = getUsers;\nconst getUser = async (req, res) => {\n  try {\n    const userid = req.params.userid;\n    const userData = await _user.default.findOne({\n      _id: userid\n    });\n    if (userData) {\n      return res.status(200).json({\n        data: userData,\n        message: \"Fetched!\",\n        success: true,\n        filepath: \"http://localhost:8003/uploads/\"\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getUser = getUser;\nconst updateUser = async (req, res) => {\n  try {\n    const dataWithFile = upload.single(\"avatar\");\n    dataWithFile(req, res, async function (err) {\n      if (err) return res.status(400).json({\n        message: err.message,\n        success: false\n      });\n      const userid = req.params.userid;\n      const existingUser = await _user.default.findOne({\n        _id: userid\n      });\n      let img = existingUser.image;\n      if (req.file) {\n        img = req.file.filename;\n        if (_fs.default.existsSync(\"./uploads/\" + existingUser.image)) {\n          _fs.default.unlinkSync(\"./uploads/\" + existingUser.image);\n        }\n      }\n      const {\n        name,\n        email,\n        password,\n        contact\n      } = req.body;\n\n      // Hash the password if it's provided\n      let hashedPassword = password;\n      if (password) {\n        hashedPassword = _bcrypt.default.hashSync(password, 10);\n      }\n      const user = await _user.default.updateOne({\n        _id: userid\n      }, {\n        $set: {\n          name: name,\n          email: email,\n          password: hashedPassword,\n          // Use the hashed password\n          contact: contact,\n          image: img\n        }\n      });\n      if (user.acknowledged) {\n        return res.status(200).json({\n          message: \"Updated!\",\n          success: true\n        });\n      }\n      return res.status(400).json({\n        message: \"Bad request\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateUser = updateUser;\nconst deleteUser = async (req, res) => {\n  try {\n    const userid = req.params.userid;\n    const existingUser = await _user.default.findOne({\n      _id: userid\n    });\n    const user = await _user.default.deleteOne({\n      _id: userid\n    });\n    if (user.acknowledged) {\n      if (_fs.default.existsSync(\"./uploads/\" + existingUser.image)) {\n        _fs.default.unlinkSync(\"./uploads/\" + existingUser.image);\n      }\n      return res.status(200).json({\n        message: \"Deleted!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n/* ===========================\r\n        Auth\r\n=============================*/\nexports.deleteUser = deleteUser;\nconst signUp = async (req, res) => {\n  try {\n    // Apply Multer middleware to handle file uploads\n    upload.single(\"image\")(req, res, async function (err) {\n      if (err) {\n        return res.status(400).json({\n          message: err.message,\n          success: false\n        });\n      }\n\n      // Check if a file is uploaded\n      if (!req.file) {\n        return res.status(400).json({\n          message: \"Please upload an image\",\n          success: false\n        });\n      }\n\n      // Destructure user data from request body\n      const {\n        firstname,\n        email,\n        password,\n        contact,\n        usertype,\n        lastname\n      } = req.body;\n\n      // Hash password\n      const hashPassword = _bcrypt.default.hashSync(password, 10);\n\n      // Create new user document\n      const newUser = await _user.default.create({\n        firstname,\n        lastname,\n        email,\n        usertype,\n        password: hashPassword,\n        contact,\n        image: req.file.filename // Set image field to uploaded file's filename\n      });\n\n      // Check if user was created successfully\n      if (newUser) {\n        return res.status(201).json({\n          data: newUser,\n          message: \"New user added successfully\",\n          success: true\n        });\n      }\n\n      // If newUser is null, return error response\n      return res.status(400).json({\n        message: \"Failed to create user\",\n        success: false\n      });\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.signUp = signUp;\nconst login = async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    const existingUser = await _user.default.findOne({\n      email: email\n    });\n    if (!existingUser) {\n      return res.status(400).json({\n        message: \"User doesn't exist!\",\n        success: false\n      });\n    }\n    const comparePassword = _bcrypt.default.compareSync(password, existingUser.password);\n    if (!comparePassword) {\n      return res.status(400).json({\n        message: \"Invalid credential\",\n        success: false\n      });\n    }\n\n    // If passwords match, generate JWT token\n    const token = _jsonwebtoken.default.sign({\n      id: existingUser._id,\n      email: existingUser.email\n    }, \"OqHmkzkKs73DCGJ\",\n    // Replace with your secret key\n    {\n      expiresIn: \"1h\"\n    });\n\n    // Exclude password from response data\n    const responseData = {\n      ...existingUser.toObject()\n    };\n    delete responseData.password;\n\n    // Send token and user data in response\n    return res.status(200).json({\n      data: responseData,\n      token: token,\n      message: \"Successfully logged in\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.login = login;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX2ZzIiwiX2JjcnlwdCIsIl9qc29ud2VidG9rZW4iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwidXBsb2FkUGF0aCIsImZzIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImZpbGVuYW1lIiwib3JnTmFtZSIsIm9yaWdpbmFsbmFtZSIsImV4dCIsInBhdGgiLCJwYXJzZSIsIm5hbWUiLCJmdWxsbmFtZSIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJ1cGxvYWQiLCJhZGRVc2VyIiwicmVzIiwiZGF0YVdpdGhGaWxlIiwic2luZ2xlIiwiZXJyIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJzdWNjZXNzIiwiY29uc29sZSIsImxvZyIsImJvZHkiLCJpbWciLCJlbWFpbCIsInBhc3N3b3JkIiwiY29udGFjdCIsInNhdmVEYXRhIiwiVXNlck1vZGVsIiwiY3JlYXRlIiwiaW1hZ2UiLCJkYXRhIiwiZXhwb3J0cyIsImdldFVzZXJzIiwidXNlckRhdGEiLCJmaW5kIiwiZmlsZXBhdGgiLCJnZXRVc2VyIiwidXNlcmlkIiwicGFyYW1zIiwiZmluZE9uZSIsIl9pZCIsInVwZGF0ZVVzZXIiLCJleGlzdGluZ1VzZXIiLCJ1bmxpbmtTeW5jIiwiaGFzaGVkUGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoU3luYyIsInVzZXIiLCJ1cGRhdGVPbmUiLCIkc2V0IiwiYWNrbm93bGVkZ2VkIiwiZGVsZXRlVXNlciIsImRlbGV0ZU9uZSIsInNpZ25VcCIsImZpcnN0bmFtZSIsInVzZXJ0eXBlIiwibGFzdG5hbWUiLCJoYXNoUGFzc3dvcmQiLCJuZXdVc2VyIiwibG9naW4iLCJjb21wYXJlUGFzc3dvcmQiLCJjb21wYXJlU3luYyIsInRva2VuIiwiand0Iiwic2lnbiIsImlkIiwiZXhwaXJlc0luIiwicmVzcG9uc2VEYXRhIiwidG9PYmplY3QiXSwic291cmNlUm9vdCI6IkQ6XFxGdWxsc3RhY2sgTWVyblxcUmVhY3RcXHRpY2tldHNtYW5hZ2VtZW50YmFja2VuZFxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsidXNlci5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyTW9kZWwgZnJvbSBcIi4uL21vZGVscy91c2VyLm1vZGVsXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xyXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xyXG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY29uc3QgdXBsb2FkUGF0aCA9IFwiLi91cGxvYWRzXCI7XHJcbiAgICBpZiAoZnMuZXhpc3RzU3luYyh1cGxvYWRQYXRoKSkge1xyXG4gICAgICBjYihudWxsLCB1cGxvYWRQYXRoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZzLm1rZGlyU3luYyh1cGxvYWRQYXRoKTtcclxuICAgICAgY2IobnVsbCwgdXBsb2FkUGF0aCk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBmaWxlbmFtZTogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNvbnN0IG9yZ05hbWUgPSBmaWxlLm9yaWdpbmFsbmFtZTtcclxuICAgIGNvbnN0IGV4dCA9IHBhdGgucGFyc2Uob3JnTmFtZSkuZXh0O1xyXG4gICAgY29uc3QgbmFtZSA9IHBhdGgucGFyc2Uob3JnTmFtZSkubmFtZTtcclxuICAgIGNvbnN0IGZ1bGxuYW1lID1cclxuICAgICAgbmFtZSArIFwiLVwiICsgRGF0ZS5ub3coKSArIFwiXCIgKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxZTkpICsgZXh0O1xyXG5cclxuICAgIGNiKG51bGwsIGZ1bGxuYW1lKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2UgfSk7XHJcblxyXG5leHBvcnQgY29uc3QgYWRkVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRhV2l0aEZpbGUgPSB1cGxvYWQuc2luZ2xlKFwiYXZhdGFyXCIpO1xyXG5cclxuICAgIGRhdGFXaXRoRmlsZShyZXEsIHJlcywgYXN5bmMgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICBpZiAoZXJyKVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGVyci5tZXNzYWdlLCBzdWNjZXNzOiBmYWxzZSB9KTtcclxuICAgICAgY29uc29sZS5sb2cocmVxLmJvZHkpO1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXEuZmlsZSk7XHJcblxyXG4gICAgICBsZXQgaW1nID0gbnVsbDtcclxuICAgICAgaWYgKHJlcS5maWxlKSB7XHJcbiAgICAgICAgaW1nID0gcmVxLmZpbGUuZmlsZW5hbWU7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGNvbnRhY3QgfSA9IHJlcS5ib2R5O1xyXG4gICAgICBjb25zdCBzYXZlRGF0YSA9IGF3YWl0IFVzZXJNb2RlbC5jcmVhdGUoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcclxuICAgICAgICBjb250YWN0OiBjb250YWN0LFxyXG4gICAgICAgIGltYWdlOiBpbWcsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHNhdmVEYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgIGRhdGE6IHNhdmVEYXRhLFxyXG4gICAgICAgICAgbWVzc2FnZTogXCJOZXcgcmVjb3JkIGFkZGVkXCIsXHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRVc2VycyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IFVzZXJNb2RlbC5maW5kKCk7XHJcbiAgICBpZiAodXNlckRhdGEpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiB1c2VyRGF0YSxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBmaWxlcGF0aDogXCJodHRwOi8vbG9jYWxob3N0OjgwMDMvdXBsb2Fkcy9cIixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCBjb25zdCBnZXRVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzZXJpZCA9IHJlcS5wYXJhbXMudXNlcmlkO1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IF9pZDogdXNlcmlkIH0pO1xyXG4gICAgaWYgKHVzZXJEYXRhKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogdXNlckRhdGEsXHJcbiAgICAgICAgbWVzc2FnZTogXCJGZXRjaGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZmlsZXBhdGg6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDAzL3VwbG9hZHMvXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0YVdpdGhGaWxlID0gdXBsb2FkLnNpbmdsZShcImF2YXRhclwiKTtcclxuXHJcbiAgICBkYXRhV2l0aEZpbGUocmVxLCByZXMsIGFzeW5jIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgaWYgKGVycilcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBlcnIubWVzc2FnZSwgc3VjY2VzczogZmFsc2UgfSk7XHJcbiAgICAgIGNvbnN0IHVzZXJpZCA9IHJlcS5wYXJhbXMudXNlcmlkO1xyXG5cclxuICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRPbmUoeyBfaWQ6IHVzZXJpZCB9KTtcclxuICAgICAgbGV0IGltZyA9IGV4aXN0aW5nVXNlci5pbWFnZTtcclxuICAgICAgaWYgKHJlcS5maWxlKSB7XHJcbiAgICAgICAgaW1nID0gcmVxLmZpbGUuZmlsZW5hbWU7XHJcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoXCIuL3VwbG9hZHMvXCIgKyBleGlzdGluZ1VzZXIuaW1hZ2UpKSB7XHJcbiAgICAgICAgICBmcy51bmxpbmtTeW5jKFwiLi91cGxvYWRzL1wiICsgZXhpc3RpbmdVc2VyLmltYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIGNvbnRhY3QgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgLy8gSGFzaCB0aGUgcGFzc3dvcmQgaWYgaXQncyBwcm92aWRlZFxyXG4gICAgICBsZXQgaGFzaGVkUGFzc3dvcmQgPSBwYXNzd29yZDtcclxuICAgICAgaWYgKHBhc3N3b3JkKSB7XHJcbiAgICAgICAgaGFzaGVkUGFzc3dvcmQgPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIDEwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJNb2RlbC51cGRhdGVPbmUoXHJcbiAgICAgICAgeyBfaWQ6IHVzZXJpZCB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsIC8vIFVzZSB0aGUgaGFzaGVkIHBhc3N3b3JkXHJcbiAgICAgICAgICAgIGNvbnRhY3Q6IGNvbnRhY3QsXHJcbiAgICAgICAgICAgIGltYWdlOiBpbWcsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgICAgaWYgKHVzZXIuYWNrbm93bGVkZ2VkKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZCFcIixcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVsZXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyaWQgPSByZXEucGFyYW1zLnVzZXJpZDtcclxuICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IFVzZXJNb2RlbC5maW5kT25lKHsgX2lkOiB1c2VyaWQgfSk7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmRlbGV0ZU9uZSh7IF9pZDogdXNlcmlkIH0pO1xyXG4gICAgaWYgKHVzZXIuYWNrbm93bGVkZ2VkKSB7XHJcbiAgICAgIGlmIChmcy5leGlzdHNTeW5jKFwiLi91cGxvYWRzL1wiICsgZXhpc3RpbmdVc2VyLmltYWdlKSkge1xyXG4gICAgICAgIGZzLnVubGlua1N5bmMoXCIuL3VwbG9hZHMvXCIgKyBleGlzdGluZ1VzZXIuaW1hZ2UpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJEZWxldGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgICAgQXV0aFxyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcbmV4cG9ydCBjb25zdCBzaWduVXAgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gQXBwbHkgTXVsdGVyIG1pZGRsZXdhcmUgdG8gaGFuZGxlIGZpbGUgdXBsb2Fkc1xyXG4gICAgdXBsb2FkLnNpbmdsZShcImltYWdlXCIpKHJlcSwgcmVzLCBhc3luYyBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBlcnIubWVzc2FnZSwgc3VjY2VzczogZmFsc2UgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIGEgZmlsZSBpcyB1cGxvYWRlZFxyXG4gICAgICBpZiAoIXJlcS5maWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiUGxlYXNlIHVwbG9hZCBhbiBpbWFnZVwiLFxyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERlc3RydWN0dXJlIHVzZXIgZGF0YSBmcm9tIHJlcXVlc3QgYm9keVxyXG4gICAgICBjb25zdCB7IGZpcnN0bmFtZSwgZW1haWwsIHBhc3N3b3JkLCBjb250YWN0LCB1c2VydHlwZSwgbGFzdG5hbWUgfSA9XHJcbiAgICAgICAgcmVxLmJvZHk7XHJcblxyXG4gICAgICAvLyBIYXNoIHBhc3N3b3JkXHJcbiAgICAgIGNvbnN0IGhhc2hQYXNzd29yZCA9IGJjcnlwdC5oYXNoU3luYyhwYXNzd29yZCwgMTApO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIG5ldyB1c2VyIGRvY3VtZW50XHJcbiAgICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCBVc2VyTW9kZWwuY3JlYXRlKHtcclxuICAgICAgICBmaXJzdG5hbWUsXHJcbiAgICAgICAgbGFzdG5hbWUsXHJcbiAgICAgICAgZW1haWwsXHJcbiAgICAgICAgdXNlcnR5cGUsXHJcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2hQYXNzd29yZCxcclxuICAgICAgICBjb250YWN0LFxyXG4gICAgICAgIGltYWdlOiByZXEuZmlsZS5maWxlbmFtZSwgLy8gU2V0IGltYWdlIGZpZWxkIHRvIHVwbG9hZGVkIGZpbGUncyBmaWxlbmFtZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIHVzZXIgd2FzIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5XHJcbiAgICAgIGlmIChuZXdVc2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgIGRhdGE6IG5ld1VzZXIsXHJcbiAgICAgICAgICBtZXNzYWdlOiBcIk5ldyB1c2VyIGFkZGVkIHN1Y2Nlc3NmdWxseVwiLFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgbmV3VXNlciBpcyBudWxsLCByZXR1cm4gZXJyb3IgcmVzcG9uc2VcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBjcmVhdGUgdXNlclwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGxvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyTW9kZWwuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9KTtcclxuICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJVc2VyIGRvZXNuJ3QgZXhpc3QhXCIsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbXBhcmVQYXNzd29yZCA9IGJjcnlwdC5jb21wYXJlU3luYyhwYXNzd29yZCwgZXhpc3RpbmdVc2VyLnBhc3N3b3JkKTtcclxuICAgIGlmICghY29tcGFyZVBhc3N3b3JkKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGNyZWRlbnRpYWxcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgcGFzc3dvcmRzIG1hdGNoLCBnZW5lcmF0ZSBKV1QgdG9rZW5cclxuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogZXhpc3RpbmdVc2VyLl9pZCxcclxuICAgICAgICBlbWFpbDogZXhpc3RpbmdVc2VyLmVtYWlsLFxyXG4gICAgICB9LFxyXG4gICAgICBcIk9xSG1remtLczczRENHSlwiLCAvLyBSZXBsYWNlIHdpdGggeW91ciBzZWNyZXQga2V5XHJcbiAgICAgIHsgZXhwaXJlc0luOiBcIjFoXCIgfSAgICAgXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEV4Y2x1ZGUgcGFzc3dvcmQgZnJvbSByZXNwb25zZSBkYXRhXHJcbiAgICBjb25zdCByZXNwb25zZURhdGEgPSB7IC4uLmV4aXN0aW5nVXNlci50b09iamVjdCgpIH07XHJcbiAgICBkZWxldGUgcmVzcG9uc2VEYXRhLnBhc3N3b3JkO1xyXG5cclxuICAgIC8vIFNlbmQgdG9rZW4gYW5kIHVzZXIgZGF0YSBpbiByZXNwb25zZVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxyXG4gICAgICB0b2tlbjogdG9rZW4sXHJcbiAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IGxvZ2dlZCBpblwiLFxyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsR0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssYUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBTyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRS9CLE1BQU1HLE9BQU8sR0FBR0MsZUFBTSxDQUFDQyxXQUFXLENBQUM7RUFDakNDLFdBQVcsRUFBRSxTQUFBQSxDQUFVQyxHQUFHLEVBQUVDLElBQUksRUFBRUMsRUFBRSxFQUFFO0lBQ3BDLE1BQU1DLFVBQVUsR0FBRyxXQUFXO0lBQzlCLElBQUlDLFdBQUUsQ0FBQ0MsVUFBVSxDQUFDRixVQUFVLENBQUMsRUFBRTtNQUM3QkQsRUFBRSxDQUFDLElBQUksRUFBRUMsVUFBVSxDQUFDO0lBQ3RCLENBQUMsTUFBTTtNQUNMQyxXQUFFLENBQUNFLFNBQVMsQ0FBQ0gsVUFBVSxDQUFDO01BQ3hCRCxFQUFFLENBQUMsSUFBSSxFQUFFQyxVQUFVLENBQUM7SUFDdEI7RUFDRixDQUFDO0VBQ0RJLFFBQVEsRUFBRSxTQUFBQSxDQUFVUCxHQUFHLEVBQUVDLElBQUksRUFBRUMsRUFBRSxFQUFFO0lBQ2pDLE1BQU1NLE9BQU8sR0FBR1AsSUFBSSxDQUFDUSxZQUFZO0lBQ2pDLE1BQU1DLEdBQUcsR0FBR0MsYUFBSSxDQUFDQyxLQUFLLENBQUNKLE9B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","map":{"version":3,"names":["_user","_interopRequireDefault","require","_multer","_path","_fs","_bcrypt","_jsonwebtoken","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","uploadPath","fs","existsSync","mkdirSync","filename","orgName","originalname","ext","path","parse","name","fullname","Date","now","Math","round","random","upload","addUser","res","dataWithFile","single","err","status","json","message","success","console","log","body","img","email","password","contact","saveData","UserModel","create","image","data","exports","getUsers","userData","find","filepath","getUser","userid","params","findOne","_id","updateUser","existingUser","unlinkSync","hashedPassword","bcrypt","hashSync","user","updateOne","$set","acknowledged","deleteUser","deleteOne","signUp","firstname","usertype","lastname","hashPassword","newUser","login","comparePassword","compareSync","token","jwt","sign","id","expiresIn","responseData","toObject"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\controllers\\","sources":["user.controller.js"],"sourcesContent":["import UserModel from \"../models/user.model\";\r\nimport multer from \"multer\";\r\nimport path from \"path\";\r\nimport fs from \"fs\";\r\nimport bcrypt from \"bcrypt\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    const uploadPath = \"./uploads\";\r\n    if (fs.existsSync(uploadPath)) {\r\n      cb(null, uploadPath);\r\n    } else {\r\n      fs.mkdirSync(uploadPath);\r\n      cb(null, uploadPath);\r\n    }\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const orgName = file.originalname;\r\n    const ext = path.parse(orgName).ext;\r\n    const name = path.parse(orgName).name;\r\n    const fullname =\r\n      name + \"-\" + Date.now() + \"\" + Math.round(Math.random() * 1e9) + ext;\r\n\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nexport const addUser = async (req, res) => {\r\n  try {\r\n    const dataWithFile = upload.single(\"avatar\");\r\n\r\n    dataWithFile(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      console.log(req.body);\r\n      console.log(req.file);\r\n\r\n      let img = null;\r\n      if (req.file) {\r\n        img = req.file.filename;\r\n      }\r\n      const { name, email, password, contact } = req.body;\r\n      const saveData = await UserModel.create({\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n        contact: contact,\r\n        image: img,\r\n      });\r\n\r\n      if (saveData) {\r\n        return res.status(201).json({\r\n          data: saveData,\r\n          message: \"New record added\",\r\n          success: true,\r\n        });\r\n      }\r\n\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getUsers = async (req, res) => {\r\n  try {\r\n    const userData = await UserModel.find();\r\n    if (userData) {\r\n      return res.status(200).json({\r\n        data: userData,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n        filepath: \"http://localhost:8003/uploads/\",\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\nexport const getUser = async (req, res) => {\r\n  try {\r\n    const userid = req.params.userid;\r\n    const userData = await UserModel.findOne({ _id: userid });\r\n    if (userData) {\r\n      return res.status(200).json({\r\n        data: userData,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n        filepath: \"http://localhost:8003/uploads/\",\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUser = async (req, res) => {\r\n  try {\r\n    const dataWithFile = upload.single(\"avatar\");\r\n\r\n    dataWithFile(req, res, async function (err) {\r\n      if (err)\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      const userid = req.params.userid;\r\n\r\n      const existingUser = await UserModel.findOne({ _id: userid });\r\n      let img = existingUser.image;\r\n      if (req.file) {\r\n        img = req.file.filename;\r\n        if (fs.existsSync(\"./uploads/\" + existingUser.image)) {\r\n          fs.unlinkSync(\"./uploads/\" + existingUser.image);\r\n        }\r\n      }\r\n      const { name, email, password, contact } = req.body;\r\n\r\n      // Hash the password if it's provided\r\n      let hashedPassword = password;\r\n      if (password) {\r\n        hashedPassword = bcrypt.hashSync(password, 10);\r\n      }\r\n\r\n      const user = await UserModel.updateOne(\r\n        { _id: userid },\r\n        {\r\n          $set: {\r\n            name: name,\r\n            email: email,\r\n            password: hashedPassword, // Use the hashed password\r\n            contact: contact,\r\n            image: img,\r\n          },\r\n        }\r\n      );\r\n      if (user.acknowledged) {\r\n        return res.status(200).json({\r\n          message: \"Updated!\",\r\n          success: true,\r\n        });\r\n      }\r\n      return res.status(400).json({\r\n        message: \"Bad request\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (req, res) => {\r\n  try {\r\n    const userid = req.params.userid;\r\n    const existingUser = await UserModel.findOne({ _id: userid });\r\n    const user = await UserModel.deleteOne({ _id: userid });\r\n    if (user.acknowledged) {\r\n      if (fs.existsSync(\"./uploads/\" + existingUser.image)) {\r\n        fs.unlinkSync(\"./uploads/\" + existingUser.image);\r\n      }\r\n      return res.status(200).json({\r\n        message: \"Deleted!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n/* ===========================\r\n        Auth\r\n=============================*/\r\nexport const signUp = async (req, res) => {\r\n  try {\r\n    // Apply Multer middleware to handle file uploads\r\n    upload.single(\"image\")(req, res, async function (err) {\r\n      if (err) {\r\n        return res.status(400).json({ message: err.message, success: false });\r\n      }\r\n\r\n      // Check if a file is uploaded\r\n      if (!req.file) {\r\n        return res.status(400).json({\r\n          message: \"Please upload an image\",\r\n          success: false,\r\n        });\r\n      }\r\n\r\n      // Destructure user data from request body\r\n      const { firstname, email, password, contact, usertype, lastname } =\r\n        req.body;\r\n\r\n      // Hash password\r\n      const hashPassword = bcrypt.hashSync(password, 10);\r\n\r\n      // Create new user document\r\n      const newUser = await UserModel.create({\r\n        firstname,\r\n        lastname,\r\n        email,\r\n        usertype,\r\n        password: hashPassword,\r\n        contact,\r\n        image: req.file.filename, // Set image field to uploaded file's filename\r\n      });\r\n\r\n      // Check if user was created successfully\r\n      if (newUser) {\r\n        return res.status(201).json({\r\n          data: newUser,\r\n          message: \"New user added successfully\",\r\n          success: true,\r\n        });\r\n      }\r\n\r\n      // If newUser is null, return error response\r\n      return res.status(400).json({\r\n        message: \"Failed to create user\",\r\n        success: false,\r\n      });\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const login = async (req, res) => {\r\n  try {\r\n    const { email, password } = req.body;\r\n\r\n    const existingUser = await UserModel.findOne({ email: email });\r\n    if (!existingUser) {\r\n      return res.status(400).json({\r\n        message: \"User doesn't exist!\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    const comparePassword = bcrypt.compareSync(password, existingUser.password);\r\n    if (!comparePassword) {\r\n      return res.status(400).json({\r\n        message: \"Invalid credential\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    // If passwords match, generate JWT token\r\n    const token = jwt.sign(\r\n      {\r\n        id: existingUser._id,\r\n        email: existingUser.email,\r\n      },\r\n      \"OqHmkzkKs73DCGJ\", // Replace with your secret key\r\n      { expiresIn: \"1h\" }     \r\n    );\r\n\r\n    // Exclude password from response data\r\n    const responseData = { ...existingUser.toObject() };\r\n    delete responseData.password;\r\n\r\n    // Send token and user data in response\r\n    return res.status(200).json({\r\n      data: responseData,\r\n      token: token,\r\n      message: \"Successfully logged in\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1716552261735},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\models\\\\user.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst UserSchema = new Schema({\n  firstname: {\n    type: String,\n    required: true\n  },\n  lastname: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  usertype: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  contact: {\n    type: Number,\n    default: null\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  created_at: {\n    type: Date,\n    default: Date.now()\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"user\", UserSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiU2NoZW1hIiwibW9uZ29vc2UiLCJVc2VyU2NoZW1hIiwiZmlyc3RuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwibGFzdG5hbWUiLCJlbWFpbCIsInVzZXJ0eXBlIiwicGFzc3dvcmQiLCJjb250YWN0IiwiTnVtYmVyIiwiaW1hZ2UiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsIm5vdyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJEOlxcRnVsbHN0YWNrIE1lcm5cXFJlYWN0XFx0aWNrZXRzbWFuYWdlbWVudGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJ1c2VyLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIGZpcnN0bmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICBsYXN0bmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuXHJcbiAgZW1haWw6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgdXNlcnR5cGU6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgcGFzc3dvcmQ6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgY29udGFjdDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIGltYWdlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG5cclxuICBjcmVhdGVkX2F0OiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgZGVmYXVsdDogRGF0ZS5ub3coKSxcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKFwidXNlclwiLCBVc2VyU2NoZW1hKTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBZ0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDaEMsTUFBTUcsTUFBTSxHQUFHQyxpQkFBUSxDQUFDRCxNQUFNO0FBRTlCLE1BQU1FLFVBQVUsR0FBRyxJQUFJRixNQUFNLENBQUM7RUFDNUJHLFNBQVMsRUFBRTtJQUNUQyxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNEQyxRQUFRLEVBQUU7SUFDUkgsSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFFREUsS0FBSyxFQUFFO0lBQ0xKLElBQUksRUFBRUMsTUFBTTtJQUNaQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RHLFFBQVEsRUFBRTtJQUNSTCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUNESSxRQUFRLEVBQUU7SUFDUk4sSUFBSSxFQUFFQyxNQUFNO0lBQ1pDLFFBQVEsRUFBRTtFQUNaLENBQUM7RUFDREssT0FBTyxFQUFFO0lBQ1BQLElBQUksRUFBRVEsTUFBTTtJQUNaYixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RjLEtBQUssRUFBRTtJQUNMVCxJQUFJLEVBQUVDLE1BQU07SUFDWkMsUUFBUSxFQUFFO0VBQ1osQ0FBQztFQUVEUSxVQUFVLEVBQUU7SUFDVlYsSUFBSSxFQUFFVyxJQUFJO0lBQ1ZoQixPQUFPLEVBQUVnQixJQUFJLENBQUNDLEdBQUcsQ0FBQztFQUNwQjtBQUNGLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBbkIsT0FBQSxHQUVZRSxpQkFBUSxDQUFDa0IsS0FBSyxDQUFDLE1BQU0sRUFBRWpCLFVBQVUsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","Schema","mongoose","UserSchema","firstname","type","String","required","lastname","email","usertype","password","contact","Number","image","created_at","Date","now","_default","exports","model"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\models\\","sources":["user.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst UserSchema = new Schema({\r\n  firstname: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  lastname: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n\r\n  email: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  usertype: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  password: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  contact: {\r\n    type: Number,\r\n    default: null,\r\n  },\r\n  image: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now(),\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"user\", UserSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,UAAU,GAAG,IAAIF,MAAM,CAAC;EAC5BG,SAAS,EAAE;IACTC,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDC,QAAQ,EAAE;IACRH,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EAEDE,KAAK,EAAE;IACLJ,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDG,QAAQ,EAAE;IACRL,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDI,QAAQ,EAAE;IACRN,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EACDK,OAAO,EAAE;IACPP,IAAI,EAAEQ,MAAM;IACZb,OAAO,EAAE;EACX,CAAC;EACDc,KAAK,EAAE;IACLT,IAAI,EAAEC,MAAM;IACZC,QAAQ,EAAE;EACZ,CAAC;EAEDQ,UAAU,EAAE;IACVV,IAAI,EAAEW,IAAI;IACVhB,OAAO,EAAEgB,IAAI,CAACC,GAAG,CAAC;EACpB;AACF,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAEYE,iBAAQ,CAACkB,KAAK,CAAC,MAAM,EAAEjB,UAAU,CAAC","ignoreList":[]}},"mtime":1717077289288},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\routers\\\\tickets.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _tickets = require(\"../controllers/tickets.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-tickets\", _tickets.addTickets);\nrouter.post(\"/get-tickets\", _tickets.getTickets);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3RpY2tldHMiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkVGlja2V0cyIsImdldFRpY2tldHMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxGdWxsc3RhY2sgTWVyblxcUmVhY3RcXHRpY2tldHNtYW5hZ2VtZW50YmFja2VuZFxccm91dGVyc1xcIiwic291cmNlcyI6WyJ0aWNrZXRzLnJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgeyBhZGRUaWNrZXRzLCBnZXRUaWNrZXRzIH0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL3RpY2tldHMuY29udHJvbGxlclwiO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL2FkZC10aWNrZXRzXCIsIGFkZFRpY2tldHMpO1xyXG5yb3V0ZXIucG9zdChcIi9nZXQtdGlja2V0c1wiLCBnZXRUaWNrZXRzKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxRQUFBLEdBQUFELE9BQUE7QUFBMkUsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFM0UsTUFBTUcsTUFBTSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUUvQkYsTUFBTSxDQUFDRyxJQUFJLENBQUMsY0FBYyxFQUFFQyxtQkFBVSxDQUFDO0FBQ3ZDSixNQUFNLENBQUNHLElBQUksQ0FBQyxjQUFjLEVBQUVFLG1CQUFVLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVIsT0FBQSxHQUV6QkMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_tickets","obj","__esModule","default","router","express","Router","post","addTickets","getTickets","_default","exports"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\routers\\","sources":["tickets.router.js"],"sourcesContent":["import express from \"express\";\r\nimport { addTickets, getTickets } from \"../controllers/tickets.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-tickets\", addTickets);\r\nrouter.post(\"/get-tickets\", getTickets);\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAA2E,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3E,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,cAAc,EAAEC,mBAAU,CAAC;AACvCJ,MAAM,CAACG,IAAI,CAAC,cAAc,EAAEE,mBAAU,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAR,OAAA,GAEzBC,MAAM","ignoreList":[]}},"mtime":1717078739986},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\controllers\\\\tickets.conttoller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateProduct = exports.getProductsAggr = exports.getProducts = exports.getProduct = exports.deleteProduct = exports.addTickets = void 0;\nvar _product = _interopRequireDefault(require(\"../models/product.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _util = _interopRequireDefault(require(\"util\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    const uploadPath = \"./uploads\";\n    if (!_fs.default.existsSync(uploadPath)) {\n      _fs.default.mkdirSync(uploadPath);\n    }\n    cb(null, uploadPath);\n  },\n  filename: function (req, file, cb) {\n    const ext = _path.default.extname(file.originalname);\n    const name = _path.default.basename(file.originalname, ext);\n    const fullname = \"\".concat(name, \"-\").concat(Date.now(), \"-\").concat(Math.round(Math.random() * 1e9)).concat(ext);\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst uploadFiles = _util.default.promisify(upload.fields([{\n  name: \"images\",\n  maxCount: 10\n}]));\nconst deleteFile = filepath => {\n  if (_fs.default.existsSync(filepath)) {\n    _fs.default.unlinkSync(filepath);\n  }\n};\nconst addTickets = async (req, res) => {\n  try {\n    await uploadFiles(req, res);\n    const {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category\n    } = req.body;\n    let thumbnail = null;\n    let images = [];\n    if (req.files) {\n      if (req.files[\"images\"]) {\n        images = req.files[\"images\"].map(file => file.filename);\n      }\n    }\n    const newProduct = new _product.default({\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category,\n      thumbnail,\n      images\n    });\n    const saveData = await newProduct.save();\n    return res.status(201).json({\n      data: saveData,\n      message: \"New record added\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addTickets = addTickets;\nconst updateProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    await uploadFiles(req, res);\n    const {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category\n    } = req.body;\n    let thumbnail = req.body.thumbnail;\n    let images = req.body.images ? req.body.images.split(\",\") : [];\n    if (req.files) {\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\n        const oldProduct = await _product.default.findById(productid);\n        deleteFile(\"./uploads/\".concat(oldProduct.thumbnail));\n        thumbnail = req.files[\"thumbnail\"][0].filename;\n      }\n      if (req.files[\"images\"]) {\n        const oldProduct = await _product.default.findById(productid);\n        oldProduct.images.forEach(image => deleteFile(\"./uploads/\".concat(image)));\n        images = req.files[\"images\"].map(file => file.filename);\n      }\n    }\n    const updatedProduct = await _product.default.findByIdAndUpdate(productid, {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category,\n      thumbnail,\n      images\n    }, {\n      new: true\n    });\n    if (updatedProduct) {\n      return res.status(200).json({\n        message: \"Product updated successfully\",\n        success: true,\n        data: updatedProduct\n      });\n    }\n    return res.status(400).json({\n      message: \"Failed to update product\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateProduct = updateProduct;\nconst deleteProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    const product = await _product.default.findById(productid);\n    if (!product) {\n      return res.status(404).json({\n        message: \"Product not found\",\n        success: false\n      });\n    }\n    if (product.thumbnail) {\n      deleteFile(\"./uploads/\".concat(product.thumbnail));\n    }\n    if (product.images && product.images.length > 0) {\n      product.images.forEach(image => deleteFile(\"./uploads/\".concat(image)));\n    }\n    await _product.default.findByIdAndDelete(productid);\n    return res.status(200).json({\n      message: \"Product deleted successfully\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteProduct = deleteProduct;\nconst getProducts = async (req, res) => {\n  try {\n    const {\n      page = 1,\n      limit = 10,\n      search = \"\",\n      sort\n    } = req.query;\n    const skipno = limit * (page - 1);\n    const rgx = pattern => new RegExp(\".*\".concat(pattern, \".*\"), \"i\");\n    const searchRgx = rgx(search);\n    let filter = search ? {\n      $or: [{\n        title: {\n          $regex: searchRgx\n        }\n      }, {\n        description: {\n          $regex: searchRgx\n        }\n      }]\n    } : {};\n    let sortValue = [\"_id\", 1];\n    if (sort === \"new\") sortValue = [\"_id\", -1];\n    if (sort === \"lth\") sortValue = [\"price\", 1];\n    if (sort === \"htl\") sortValue = [\"price\", -1];\n    const products = await _product.default.find(filter).populate(\"category\").limit(parseInt(limit)).skip(skipno).sort([sortValue]);\n    if (products) {\n      return res.status(200).json({\n        count: products.length,\n        data: products,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProducts = getProducts;\nconst getProductsAggr = async (req, res) => {\n  try {\n    const products = await _product.default.aggregate([{\n      $lookup: {\n        from: \"categories\",\n        localField: \"category\",\n        foreignField: \"_id\",\n        as: \"categoryData\"\n      }\n    }, {\n      $unwind: \"$categoryData\"\n    }]);\n    if (products) {\n      return res.status(200).json({\n        count: products.length,\n        data: products,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProductsAggr = getProductsAggr;\nconst getProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    const product = await _product.default.findById(productid).populate(\"category\");\n    if (product) {\n      return res.status(200).json({\n        data: product,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProduct = getProduct;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9mcyIsIl9wYXRoIiwiX3V0aWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwidXBsb2FkUGF0aCIsImZzIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImZpbGVuYW1lIiwiZXh0IiwicGF0aCIsImV4dG5hbWUiLCJvcmlnaW5hbG5hbWUiLCJuYW1lIiwiYmFzZW5hbWUiLCJmdWxsbmFtZSIsImNvbmNhdCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJ1cGxvYWQiLCJ1cGxvYWRGaWxlcyIsInV0aWwiLCJwcm9taXNpZnkiLCJmaWVsZHMiLCJtYXhDb3VudCIsImRlbGV0ZUZpbGUiLCJmaWxlcGF0aCIsInVubGlua1N5bmMiLCJhZGRUaWNrZXRzIiwicmVzIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImF2YWlsYWJsZWluIiwicHJpY2UiLCJxdWFudGl0eSIsImNhdGVnb3J5IiwiYm9keSIsInRodW1ibmFpbCIsImltYWdlcyIsImZpbGVzIiwibWFwIiwibmV3UHJvZHVjdCIsInByb2R1Y3RNb2RlbCIsInNhdmVEYXRhIiwic2F2ZSIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJlcnIiLCJleHBvcnRzIiwidXBkYXRlUHJvZHVjdCIsInByb2R1Y3RpZCIsInBhcmFtcyIsInNwbGl0Iiwib2xkUHJvZHVjdCIsImZpbmRCeUlkIiwiZm9yRWFjaCIsImltYWdlIiwidXBkYXRlZFByb2R1Y3QiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIm5ldyIsImRlbGV0ZVByb2R1Y3QiLCJwcm9kdWN0IiwibGVuZ3RoIiwiZmluZEJ5SWRBbmREZWxldGUiLCJnZXRQcm9kdWN0cyIsInBhZ2UiLCJsaW1pdCIsInNlYXJjaCIsInNvcnQiLCJxdWVyeSIsInNraXBubyIsInJneCIsInBhdHRlcm4iLCJSZWdFeHAiLCJzZWFyY2hSZ3giLCJmaWx0ZXIiLCIkb3IiLCIkcmVnZXgiLCJzb3J0VmFsdWUiLCJwcm9kdWN0cyIsImZpbmQiLCJwb3B1bGF0ZSIsInBhcnNlSW50Iiwic2tpcCIsImNvdW50IiwiZ2V0UHJvZHVjdHNBZ2dyIiwiYWdncmVnYXRlIiwiJGxvb2t1cCIsImZyb20iLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwiYXMiLCIkdW53aW5kIiwiZ2V0UHJvZHVjdCJdLCJzb3VyY2VSb290IjoiRDpcXEZ1bGxzdGFjayBNZXJuXFxSZWFjdFxcdGlja2V0c21hbmFnZW1lbnRiYWNrZW5kXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJ0aWNrZXRzLmNvbnR0b2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHByb2R1Y3RNb2RlbCBmcm9tIFwiLi4vbW9kZWxzL3Byb2R1Y3QubW9kZWxcIjtcclxuaW1wb3J0IG11bHRlciBmcm9tIFwibXVsdGVyXCI7XHJcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcclxuaW1wb3J0IHV0aWwgZnJvbSBcInV0aWxcIjtcclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY29uc3QgdXBsb2FkUGF0aCA9IFwiLi91cGxvYWRzXCI7XHJcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmModXBsb2FkUGF0aCkpIHtcclxuICAgICAgZnMubWtkaXJTeW5jKHVwbG9hZFBhdGgpO1xyXG4gICAgfVxyXG4gICAgY2IobnVsbCwgdXBsb2FkUGF0aCk7XHJcbiAgfSxcclxuICBmaWxlbmFtZTogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNvbnN0IGV4dCA9IHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSk7XHJcbiAgICBjb25zdCBuYW1lID0gcGF0aC5iYXNlbmFtZShmaWxlLm9yaWdpbmFsbmFtZSwgZXh0KTtcclxuICAgIGNvbnN0IGZ1bGxuYW1lID0gYCR7bmFtZX0tJHtEYXRlLm5vdygpfS0ke01hdGgucm91bmQoXHJcbiAgICAgIE1hdGgucmFuZG9tKCkgKiAxZTlcclxuICAgICl9JHtleHR9YDtcclxuICAgIGNiKG51bGwsIGZ1bGxuYW1lKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2UgfSk7XHJcblxyXG5jb25zdCB1cGxvYWRGaWxlcyA9IHV0aWwucHJvbWlzaWZ5KFxyXG4gIHVwbG9hZC5maWVsZHMoW3sgbmFtZTogXCJpbWFnZXNcIiwgbWF4Q291bnQ6IDEwIH1dKVxyXG4pO1xyXG5cclxuY29uc3QgZGVsZXRlRmlsZSA9IChmaWxlcGF0aCkgPT4ge1xyXG4gIGlmIChmcy5leGlzdHNTeW5jKGZpbGVwYXRoKSkge1xyXG4gICAgZnMudW5saW5rU3luYyhmaWxlcGF0aCk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZFRpY2tldHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgdXBsb2FkRmlsZXMocmVxLCByZXMpO1xyXG5cclxuICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCBhdmFpbGFibGVpbiwgcHJpY2UsIHF1YW50aXR5LCBjYXRlZ29yeSB9ID1cclxuICAgICAgcmVxLmJvZHk7XHJcbiAgICBsZXQgdGh1bWJuYWlsID0gbnVsbDtcclxuICAgIGxldCBpbWFnZXMgPSBbXTtcclxuXHJcbiAgICBpZiAocmVxLmZpbGVzKSB7XHJcbiAgICAgIGlmIChyZXEuZmlsZXNbXCJpbWFnZXNcIl0pIHtcclxuICAgICAgICBpbWFnZXMgPSByZXEuZmlsZXNbXCJpbWFnZXNcIl0ubWFwKChmaWxlKSA9PiBmaWxlLmZpbGVuYW1lKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5ld1Byb2R1Y3QgPSBuZXcgcHJvZHVjdE1vZGVsKHtcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICBhdmFpbGFibGVpbixcclxuICAgICAgcHJpY2UsXHJcbiAgICAgIHF1YW50aXR5LFxyXG4gICAgICBjYXRlZ29yeSxcclxuICAgICAgdGh1bWJuYWlsLFxyXG4gICAgICBpbWFnZXMsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzYXZlRGF0YSA9IGF3YWl0IG5ld1Byb2R1Y3Quc2F2ZSgpO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XHJcbiAgICAgIGRhdGE6IHNhdmVEYXRhLFxyXG4gICAgICBtZXNzYWdlOiBcIk5ldyByZWNvcmQgYWRkZWRcIixcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdGlkID0gcmVxLnBhcmFtcy5wcm9kdWN0aWQ7XHJcbiAgICBhd2FpdCB1cGxvYWRGaWxlcyhyZXEsIHJlcyk7XHJcblxyXG4gICAgY29uc3QgeyB0aXRsZSwgZGVzY3JpcHRpb24sIGF2YWlsYWJsZWluLCBwcmljZSwgcXVhbnRpdHksIGNhdGVnb3J5IH0gPVxyXG4gICAgICByZXEuYm9keTtcclxuXHJcbiAgICBsZXQgdGh1bWJuYWlsID0gcmVxLmJvZHkudGh1bWJuYWlsO1xyXG4gICAgbGV0IGltYWdlcyA9IHJlcS5ib2R5LmltYWdlcyA/IHJlcS5ib2R5LmltYWdlcy5zcGxpdChcIixcIikgOiBbXTtcclxuXHJcbiAgICBpZiAocmVxLmZpbGVzKSB7XHJcbiAgICAgIGlmIChyZXEuZmlsZXNbXCJ0aHVtYm5haWxcIl0gJiYgcmVxLmZpbGVzW1widGh1bWJuYWlsXCJdWzBdKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZChwcm9kdWN0aWQpO1xyXG4gICAgICAgIGRlbGV0ZUZpbGUoYC4vdXBsb2Fkcy8ke29sZFByb2R1Y3QudGh1bWJuYWlsfWApO1xyXG4gICAgICAgIHRodW1ibmFpbCA9IHJlcS5maWxlc1tcInRodW1ibmFpbFwiXVswXS5maWxlbmFtZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocmVxLmZpbGVzW1wiaW1hZ2VzXCJdKSB7XHJcbiAgICAgICAgY29uc3Qgb2xkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZChwcm9kdWN0aWQpO1xyXG4gICAgICAgIG9sZFByb2R1Y3QuaW1hZ2VzLmZvckVhY2goKGltYWdlKSA9PiBkZWxldGVGaWxlKGAuL3VwbG9hZHMvJHtpbWFnZX1gKSk7XHJcbiAgICAgICAgaW1hZ2VzID0gcmVxLmZpbGVzW1wiaW1hZ2VzXCJdLm1hcCgoZmlsZSkgPT4gZmlsZS5maWxlbmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZEFuZFVwZGF0ZShcclxuICAgICAgcHJvZHVjdGlkLFxyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgYXZhaWxhYmxlaW4sXHJcbiAgICAgICAgcHJpY2UsXHJcbiAgICAgICAgcXVhbnRpdHksXHJcbiAgICAgICAgY2F0ZWdvcnksXHJcbiAgICAgICAgdGh1bWJuYWlsLFxyXG4gICAgICAgIGltYWdlcyxcclxuICAgICAgfSxcclxuICAgICAgeyBuZXc6IHRydWUgfVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAodXBkYXRlZFByb2R1Y3QpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlByb2R1Y3QgdXBkYXRlZCBzdWNjZXNzZnVsbHlcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHVwZGF0ZWRQcm9kdWN0LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byB1cGRhdGUgcHJvZHVjdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdGlkID0gcmVxLnBhcmFtcy5wcm9kdWN0aWQ7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdE1vZGVsLmZpbmRCeUlkKHByb2R1Y3RpZCk7XHJcblxyXG4gICAgaWYgKCFwcm9kdWN0KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJQcm9kdWN0IG5vdCBmb3VuZFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocHJvZHVjdC50aHVtYm5haWwpIHtcclxuICAgICAgZGVsZXRlRmlsZShgLi91cGxvYWRzLyR7cHJvZHVjdC50aHVtYm5haWx9YCk7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvZHVjdC5pbWFnZXMgJiYgcHJvZHVjdC5pbWFnZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICBwcm9kdWN0LmltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4gZGVsZXRlRmlsZShgLi91cGxvYWRzLyR7aW1hZ2V9YCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZEFuZERlbGV0ZShwcm9kdWN0aWQpO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiUHJvZHVjdCBkZWxldGVkIHN1Y2Nlc3NmdWxseVwiLFxyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBwYWdlID0gMSwgbGltaXQgPSAxMCwgc2VhcmNoID0gXCJcIiwgc29ydCB9ID0gcmVxLnF1ZXJ5O1xyXG4gICAgY29uc3Qgc2tpcG5vID0gbGltaXQgKiAocGFnZSAtIDEpO1xyXG4gICAgY29uc3Qgcmd4ID0gKHBhdHRlcm4pID0+IG5ldyBSZWdFeHAoYC4qJHtwYXR0ZXJufS4qYCwgXCJpXCIpO1xyXG4gICAgY29uc3Qgc2VhcmNoUmd4ID0gcmd4KHNlYXJjaCk7XHJcblxyXG4gICAgbGV0IGZpbHRlciA9IHNlYXJjaFxyXG4gICAgICA/IHtcclxuICAgICAgICAgICRvcjogW1xyXG4gICAgICAgICAgICB7IHRpdGxlOiB7ICRyZWdleDogc2VhcmNoUmd4IH0gfSxcclxuICAgICAgICAgICAgeyBkZXNjcmlwdGlvbjogeyAkcmVnZXg6IHNlYXJjaFJneCB9IH0sXHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgIH1cclxuICAgICAgOiB7fTtcclxuXHJcbiAgICBsZXQgc29ydFZhbHVlID0gW1wiX2lkXCIsIDFdO1xyXG4gICAgaWYgKHNvcnQgPT09IFwibmV3XCIpIHNvcnRWYWx1ZSA9IFtcIl9pZFwiLCAtMV07XHJcbiAgICBpZiAoc29ydCA9PT0gXCJsdGhcIikgc29ydFZhbHVlID0gW1wicHJpY2VcIiwgMV07XHJcbiAgICBpZiAoc29ydCA9PT0gXCJodGxcIikgc29ydFZhbHVlID0gW1wicHJpY2VcIiwgLTFdO1xyXG5cclxuICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgcHJvZHVjdE1vZGVsXHJcbiAgICAgIC5maW5kKGZpbHRlcilcclxuICAgICAgLnBvcHVsYXRlKFwiY2F0ZWdvcnlcIilcclxuICAgICAgLmxpbWl0KHBhcnNlSW50KGxpbWl0KSlcclxuICAgICAgLnNraXAoc2tpcG5vKVxyXG4gICAgICAuc29ydChbc29ydFZhbHVlXSk7XHJcblxyXG4gICAgaWYgKHByb2R1Y3RzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgY291bnQ6IHByb2R1Y3RzLmxlbmd0aCxcclxuICAgICAgICBkYXRhOiBwcm9kdWN0cyxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RzQWdnciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHByb2R1Y3RNb2RlbC5hZ2dyZWdhdGUoW1xyXG4gICAgICB7XHJcbiAgICAgICAgJGxvb2t1cDoge1xyXG4gICAgICAgICAgZnJvbTogXCJjYXRlZ29yaWVzXCIsXHJcbiAgICAgICAgICBsb2NhbEZpZWxkOiBcImNhdGVnb3J5XCIsXHJcbiAgICAgICAgICBmb3JlaWduRmllbGQ6IFwiX2lkXCIsXHJcbiAgICAgICAgICBhczogXCJjYXRlZ29yeURhdGFcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICB7ICR1bndpbmQ6IFwiJGNhdGVnb3J5RGF0YVwiIH0sXHJcbiAgICBdKTtcclxuXHJcbiAgICBpZiAocHJvZHVjdHMpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBjb3VudDogcHJvZHVjdHMubGVuZ3RoLFxyXG4gICAgICAgIGRhdGE6IHByb2R1Y3RzLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwcm9kdWN0aWQgPSByZXEucGFyYW1zLnByb2R1Y3RpZDtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWQocHJvZHVjdGlkKS5wb3B1bGF0ZShcImNhdGVnb3J5XCIpO1xyXG5cclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogcHJvZHVjdCxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLEtBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLEtBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUF3QixTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxH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","map":{"version":3,"names":["_product","_interopRequireDefault","require","_multer","_fs","_path","_util","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","uploadPath","fs","existsSync","mkdirSync","filename","ext","path","extname","originalname","name","basename","fullname","concat","Date","now","Math","round","random","upload","uploadFiles","util","promisify","fields","maxCount","deleteFile","filepath","unlinkSync","addTickets","res","title","description","availablein","price","quantity","category","body","thumbnail","images","files","map","newProduct","productModel","saveData","save","status","json","data","message","success","err","exports","updateProduct","productid","params","split","oldProduct","findById","forEach","image","updatedProduct","findByIdAndUpdate","new","deleteProduct","product","length","findByIdAndDelete","getProducts","page","limit","search","sort","query","skipno","rgx","pattern","RegExp","searchRgx","filter","$or","$regex","sortValue","products","find","populate","parseInt","skip","count","getProductsAggr","aggregate","$lookup","from","localField","foreignField","as","$unwind","getProduct"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\controllers\\","sources":["tickets.conttoller.js"],"sourcesContent":["import productModel from \"../models/product.model\";\r\nimport multer from \"multer\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport util from \"util\";\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    const uploadPath = \"./uploads\";\r\n    if (!fs.existsSync(uploadPath)) {\r\n      fs.mkdirSync(uploadPath);\r\n    }\r\n    cb(null, uploadPath);\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const ext = path.extname(file.originalname);\r\n    const name = path.basename(file.originalname, ext);\r\n    const fullname = `${name}-${Date.now()}-${Math.round(\r\n      Math.random() * 1e9\r\n    )}${ext}`;\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nconst uploadFiles = util.promisify(\r\n  upload.fields([{ name: \"images\", maxCount: 10 }])\r\n);\r\n\r\nconst deleteFile = (filepath) => {\r\n  if (fs.existsSync(filepath)) {\r\n    fs.unlinkSync(filepath);\r\n  }\r\n};\r\n\r\nexport const addTickets = async (req, res) => {\r\n  try {\r\n    await uploadFiles(req, res);\r\n\r\n    const { title, description, availablein, price, quantity, category } =\r\n      req.body;\r\n    let thumbnail = null;\r\n    let images = [];\r\n\r\n    if (req.files) {\r\n      if (req.files[\"images\"]) {\r\n        images = req.files[\"images\"].map((file) => file.filename);\r\n      }\r\n    }\r\n\r\n    const newProduct = new productModel({\r\n      title,\r\n      description,\r\n      availablein,\r\n      price,\r\n      quantity,\r\n      category,\r\n      thumbnail,\r\n      images,\r\n    });\r\n\r\n    const saveData = await newProduct.save();\r\n\r\n    return res.status(201).json({\r\n      data: saveData,\r\n      message: \"New record added\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    await uploadFiles(req, res);\r\n\r\n    const { title, description, availablein, price, quantity, category } =\r\n      req.body;\r\n\r\n    let thumbnail = req.body.thumbnail;\r\n    let images = req.body.images ? req.body.images.split(\",\") : [];\r\n\r\n    if (req.files) {\r\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\r\n        const oldProduct = await productModel.findById(productid);\r\n        deleteFile(`./uploads/${oldProduct.thumbnail}`);\r\n        thumbnail = req.files[\"thumbnail\"][0].filename;\r\n      }\r\n      if (req.files[\"images\"]) {\r\n        const oldProduct = await productModel.findById(productid);\r\n        oldProduct.images.forEach((image) => deleteFile(`./uploads/${image}`));\r\n        images = req.files[\"images\"].map((file) => file.filename);\r\n      }\r\n    }\r\n\r\n    const updatedProduct = await productModel.findByIdAndUpdate(\r\n      productid,\r\n      {\r\n        title,\r\n        description,\r\n        availablein,\r\n        price,\r\n        quantity,\r\n        category,\r\n        thumbnail,\r\n        images,\r\n      },\r\n      { new: true }\r\n    );\r\n\r\n    if (updatedProduct) {\r\n      return res.status(200).json({\r\n        message: \"Product updated successfully\",\r\n        success: true,\r\n        data: updatedProduct,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Failed to update product\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    const product = await productModel.findById(productid);\r\n\r\n    if (!product) {\r\n      return res.status(404).json({\r\n        message: \"Product not found\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    if (product.thumbnail) {\r\n      deleteFile(`./uploads/${product.thumbnail}`);\r\n    }\r\n    if (product.images && product.images.length > 0) {\r\n      product.images.forEach((image) => deleteFile(`./uploads/${image}`));\r\n    }\r\n\r\n    await productModel.findByIdAndDelete(productid);\r\n\r\n    return res.status(200).json({\r\n      message: \"Product deleted successfully\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProducts = async (req, res) => {\r\n  try {\r\n    const { page = 1, limit = 10, search = \"\", sort } = req.query;\r\n    const skipno = limit * (page - 1);\r\n    const rgx = (pattern) => new RegExp(`.*${pattern}.*`, \"i\");\r\n    const searchRgx = rgx(search);\r\n\r\n    let filter = search\r\n      ? {\r\n          $or: [\r\n            { title: { $regex: searchRgx } },\r\n            { description: { $regex: searchRgx } },\r\n          ],\r\n        }\r\n      : {};\r\n\r\n    let sortValue = [\"_id\", 1];\r\n    if (sort === \"new\") sortValue = [\"_id\", -1];\r\n    if (sort === \"lth\") sortValue = [\"price\", 1];\r\n    if (sort === \"htl\") sortValue = [\"price\", -1];\r\n\r\n    const products = await productModel\r\n      .find(filter)\r\n      .populate(\"category\")\r\n      .limit(parseInt(limit))\r\n      .skip(skipno)\r\n      .sort([sortValue]);\r\n\r\n    if (products) {\r\n      return res.status(200).json({\r\n        count: products.length,\r\n        data: products,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProductsAggr = async (req, res) => {\r\n  try {\r\n    const products = await productModel.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: \"categories\",\r\n          localField: \"category\",\r\n          foreignField: \"_id\",\r\n          as: \"categoryData\",\r\n        },\r\n      },\r\n      { $unwind: \"$categoryData\" },\r\n    ]);\r\n\r\n    if (products) {\r\n      return res.status(200).json({\r\n        count: products.length,\r\n        data: products,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    const product = await productModel.findById(productid).populate(\"category\");\r\n\r\n    if (product) {\r\n      return res.status(200).json({\r\n        data: product,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1716907136763},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\routers\\\\tickets.router.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _tickets = require(\"../controllers/tickets.controller\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.post(\"/add-tickets\", _tickets.addTickets);\nrouter.get(\"/get-tickets\", _tickets.getTickets);\nrouter.get(\"/get-ticketsWithusers\", _tickets.getTicketsWithUserDetails);\nrouter.get(\"/get-ticket/:ticketid\", _tickets.getTicket);\nrouter.put(\"/update-ticket/:ticketid\", _tickets.updateTicket);\n\n// router.put(\"/update-t/:ticketid\", uploadImage);\n\n_tickets.getTicket;\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3RpY2tldHMiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiYWRkVGlja2V0cyIsImdldCIsImdldFRpY2tldHMiLCJnZXRUaWNrZXRzV2l0aFVzZXJEZXRhaWxzIiwiZ2V0VGlja2V0IiwicHV0IiwidXBkYXRlVGlja2V0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcRnVsbHN0YWNrIE1lcm5cXFJlYWN0XFx0aWNrZXRzbWFuYWdlbWVudGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsidGlja2V0cy5yb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHtcclxuICBhZGRUaWNrZXRzLFxyXG4gIGdldFRpY2tldCxcclxuICBnZXRUaWNrZXRzLFxyXG4gIGdldFRpY2tldHNXaXRoVXNlckRldGFpbHMsXHJcbiAgdXBkYXRlVGlja2V0LFxyXG4gIHVwbG9hZEltYWdlLFxyXG59IGZyb20gXCIuLi9jb250cm9sbGVycy90aWNrZXRzLmNvbnRyb2xsZXJcIjtcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9hZGQtdGlja2V0c1wiLCBhZGRUaWNrZXRzKTtcclxucm91dGVyLmdldChcIi9nZXQtdGlja2V0c1wiLCBnZXRUaWNrZXRzKTtcclxucm91dGVyLmdldChcIi9nZXQtdGlja2V0c1dpdGh1c2Vyc1wiLCBnZXRUaWNrZXRzV2l0aFVzZXJEZXRhaWxzKTtcclxucm91dGVyLmdldChcIi9nZXQtdGlja2V0Lzp0aWNrZXRpZFwiLCBnZXRUaWNrZXQpO1xyXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZS10aWNrZXQvOnRpY2tldGlkXCIsIHVwZGF0ZVRpY2tldCk7XHJcblxyXG4vLyByb3V0ZXIucHV0KFwiL3VwZGF0ZS10Lzp0aWNrZXRpZFwiLCB1cGxvYWRJbWFnZSk7XHJcblxyXG5nZXRUaWNrZXQ7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxRQUFBLEdBQUFELE9BQUE7QUFPMkMsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFM0MsTUFBTUcsTUFBTSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUUvQkYsTUFBTSxDQUFDRyxJQUFJLENBQUMsY0FBYyxFQUFFQyxtQkFBVSxDQUFDO0FBQ3ZDSixNQUFNLENBQUNLLEdBQUcsQ0FBQyxjQUFjLEVBQUVDLG1CQUFVLENBQUM7QUFDdENOLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLHVCQUF1QixFQUFFRSxrQ0FBeUIsQ0FBQztBQUM5RFAsTUFBTSxDQUFDSyxHQUFHLENBQUMsdUJBQXVCLEVBQUVHLGtCQUFTLENBQUM7QUFDOUNSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLDBCQUEwQixFQUFFQyxxQkFBWSxDQUFDOztBQUVwRDs7QUFFQUYsa0JBQVM7QUFBQyxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWIsT0FBQSxHQUNLQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_express","_interopRequireDefault","require","_tickets","obj","__esModule","default","router","express","Router","post","addTickets","get","getTickets","getTicketsWithUserDetails","getTicket","put","updateTicket","_default","exports"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\routers\\","sources":["tickets.router.js"],"sourcesContent":["import express from \"express\";\r\nimport {\r\n  addTickets,\r\n  getTicket,\r\n  getTickets,\r\n  getTicketsWithUserDetails,\r\n  updateTicket,\r\n  uploadImage,\r\n} from \"../controllers/tickets.controller\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/add-tickets\", addTickets);\r\nrouter.get(\"/get-tickets\", getTickets);\r\nrouter.get(\"/get-ticketsWithusers\", getTicketsWithUserDetails);\r\nrouter.get(\"/get-ticket/:ticketid\", getTicket);\r\nrouter.put(\"/update-ticket/:ticketid\", updateTicket);\r\n\r\n// router.put(\"/update-t/:ticketid\", uploadImage);\r\n\r\ngetTicket;\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AAO2C,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3C,MAAMG,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,cAAc,EAAEC,mBAAU,CAAC;AACvCJ,MAAM,CAACK,GAAG,CAAC,cAAc,EAAEC,mBAAU,CAAC;AACtCN,MAAM,CAACK,GAAG,CAAC,uBAAuB,EAAEE,kCAAyB,CAAC;AAC9DP,MAAM,CAACK,GAAG,CAAC,uBAAuB,EAAEG,kBAAS,CAAC;AAC9CR,MAAM,CAACS,GAAG,CAAC,0BAA0B,EAAEC,qBAAY,CAAC;;AAEpD;;AAEAF,kBAAS;AAAC,IAAAG,QAAA,GAAAC,OAAA,CAAAb,OAAA,GACKC,MAAM","ignoreList":[]}},"mtime":1717584862576},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\controllers\\\\tickets.conttoller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateProduct = exports.getProductsAggr = exports.getProducts = exports.getProduct = exports.deleteProduct = exports.addTickets = void 0;\nvar _tickets = _interopRequireDefault(require(\"../models/tickets.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _util = _interopRequireDefault(require(\"util\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    const uploadPath = \"./uploads\";\n    if (!_fs.default.existsSync(uploadPath)) {\n      _fs.default.mkdirSync(uploadPath);\n    }\n    cb(null, uploadPath);\n  },\n  filename: function (req, file, cb) {\n    const ext = _path.default.extname(file.originalname);\n    const name = _path.default.basename(file.originalname, ext);\n    const fullname = \"\".concat(name, \"-\").concat(Date.now(), \"-\").concat(Math.round(Math.random() * 1e9)).concat(ext);\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst uploadFiles = _util.default.promisify(upload.fields([{\n  name: \"images\",\n  maxCount: 10\n}]));\nconst deleteFile = filepath => {\n  if (_fs.default.existsSync(filepath)) {\n    _fs.default.unlinkSync(filepath);\n  }\n};\nconst addTickets = async (req, res) => {\n  try {\n    await uploadFiles(req, res);\n    const {\n      title,\n      explainproblem,\n      typeoffeature,\n      typeofproblem,\n      status\n    } = req.body;\n    let thumbnail = null;\n    let images = [];\n    if (req.files) {\n      if (req.files[\"images\"]) {\n        images = req.files[\"images\"].map(file => file.filename);\n      }\n    }\n    const newTickets = new _tickets.default({\n      title,\n      explainproblem,\n      typeoffeature,\n      typeofproblem,\n      status,\n      images\n    });\n    const saveData = await newTickets.save();\n    return res.status(201).json({\n      data: saveData,\n      message: \"New record added\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.addTickets = addTickets;\nconst updateProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    await uploadFiles(req, res);\n    const {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category\n    } = req.body;\n    let thumbnail = req.body.thumbnail;\n    let images = req.body.images ? req.body.images.split(\",\") : [];\n    if (req.files) {\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\n        const oldProduct = await productModel.findById(productid);\n        deleteFile(\"./uploads/\".concat(oldProduct.thumbnail));\n        thumbnail = req.files[\"thumbnail\"][0].filename;\n      }\n      if (req.files[\"images\"]) {\n        const oldProduct = await productModel.findById(productid);\n        oldProduct.images.forEach(image => deleteFile(\"./uploads/\".concat(image)));\n        images = req.files[\"images\"].map(file => file.filename);\n      }\n    }\n    const updatedProduct = await productModel.findByIdAndUpdate(productid, {\n      title,\n      description,\n      availablein,\n      price,\n      quantity,\n      category,\n      thumbnail,\n      images\n    }, {\n      new: true\n    });\n    if (updatedProduct) {\n      return res.status(200).json({\n        message: \"Product updated successfully\",\n        success: true,\n        data: updatedProduct\n      });\n    }\n    return res.status(400).json({\n      message: \"Failed to update product\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateProduct = updateProduct;\nconst deleteProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    const product = await productModel.findById(productid);\n    if (!product) {\n      return res.status(404).json({\n        message: \"Product not found\",\n        success: false\n      });\n    }\n    if (product.thumbnail) {\n      deleteFile(\"./uploads/\".concat(product.thumbnail));\n    }\n    if (product.images && product.images.length > 0) {\n      product.images.forEach(image => deleteFile(\"./uploads/\".concat(image)));\n    }\n    await productModel.findByIdAndDelete(productid);\n    return res.status(200).json({\n      message: \"Product deleted successfully\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.deleteProduct = deleteProduct;\nconst getProducts = async (req, res) => {\n  try {\n    const {\n      page = 1,\n      limit = 10,\n      search = \"\",\n      sort\n    } = req.query;\n    const skipno = limit * (page - 1);\n    const rgx = pattern => new RegExp(\".*\".concat(pattern, \".*\"), \"i\");\n    const searchRgx = rgx(search);\n    let filter = search ? {\n      $or: [{\n        title: {\n          $regex: searchRgx\n        }\n      }, {\n        description: {\n          $regex: searchRgx\n        }\n      }]\n    } : {};\n    let sortValue = [\"_id\", 1];\n    if (sort === \"new\") sortValue = [\"_id\", -1];\n    if (sort === \"lth\") sortValue = [\"price\", 1];\n    if (sort === \"htl\") sortValue = [\"price\", -1];\n    const products = await productModel.find(filter).populate(\"category\").limit(parseInt(limit)).skip(skipno).sort([sortValue]);\n    if (products) {\n      return res.status(200).json({\n        count: products.length,\n        data: products,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProducts = getProducts;\nconst getProductsAggr = async (req, res) => {\n  try {\n    const products = await productModel.aggregate([{\n      $lookup: {\n        from: \"categories\",\n        localField: \"category\",\n        foreignField: \"_id\",\n        as: \"categoryData\"\n      }\n    }, {\n      $unwind: \"$categoryData\"\n    }]);\n    if (products) {\n      return res.status(200).json({\n        count: products.length,\n        data: products,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProductsAggr = getProductsAggr;\nconst getProduct = async (req, res) => {\n  try {\n    const productid = req.params.productid;\n    const product = await productModel.findById(productid).populate(\"category\");\n    if (product) {\n      return res.status(200).json({\n        data: product,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(400).json({\n      message: \"Bad request\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.getProduct = getProduct;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdGlja2V0cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9mcyIsIl9wYXRoIiwiX3V0aWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwidXBsb2FkUGF0aCIsImZzIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImZpbGVuYW1lIiwiZXh0IiwicGF0aCIsImV4dG5hbWUiLCJvcmlnaW5hbG5hbWUiLCJuYW1lIiwiYmFzZW5hbWUiLCJmdWxsbmFtZSIsImNvbmNhdCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJ1cGxvYWQiLCJ1cGxvYWRGaWxlcyIsInV0aWwiLCJwcm9taXNpZnkiLCJmaWVsZHMiLCJtYXhDb3VudCIsImRlbGV0ZUZpbGUiLCJmaWxlcGF0aCIsInVubGlua1N5bmMiLCJhZGRUaWNrZXRzIiwicmVzIiwidGl0bGUiLCJleHBsYWlucHJvYmxlbSIsInR5cGVvZmZlYXR1cmUiLCJ0eXBlb2Zwcm9ibGVtIiwic3RhdHVzIiwiYm9keSIsInRodW1ibmFpbCIsImltYWdlcyIsImZpbGVzIiwibWFwIiwibmV3VGlja2V0cyIsInRpY2tldHNNb2RlbCIsInNhdmVEYXRhIiwic2F2ZSIsImpzb24iLCJkYXRhIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJlcnIiLCJleHBvcnRzIiwidXBkYXRlUHJvZHVjdCIsInByb2R1Y3RpZCIsInBhcmFtcyIsImRlc2NyaXB0aW9uIiwiYXZhaWxhYmxlaW4iLCJwcmljZSIsInF1YW50aXR5IiwiY2F0ZWdvcnkiLCJzcGxpdCIsIm9sZFByb2R1Y3QiLCJwcm9kdWN0TW9kZWwiLCJmaW5kQnlJZCIsImZvckVhY2giLCJpbWFnZSIsInVwZGF0ZWRQcm9kdWN0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciLCJkZWxldGVQcm9kdWN0IiwicHJvZHVjdCIsImxlbmd0aCIsImZpbmRCeUlkQW5kRGVsZXRlIiwiZ2V0UHJvZHVjdHMiLCJwYWdlIiwibGltaXQiLCJzZWFyY2giLCJzb3J0IiwicXVlcnkiLCJza2lwbm8iLCJyZ3giLCJwYXR0ZXJuIiwiUmVnRXhwIiwic2VhcmNoUmd4IiwiZmlsdGVyIiwiJG9yIiwiJHJlZ2V4Iiwic29ydFZhbHVlIiwicHJvZHVjdHMiLCJmaW5kIiwicG9wdWxhdGUiLCJwYXJzZUludCIsInNraXAiLCJjb3VudCIsImdldFByb2R1Y3RzQWdnciIsImFnZ3JlZ2F0ZSIsIiRsb29rdXAiLCJmcm9tIiwibG9jYWxGaWVsZCIsImZvcmVpZ25GaWVsZCIsImFzIiwiJHVud2luZCIsImdldFByb2R1Y3QiXSwic291cmNlUm9vdCI6IkQ6XFxGdWxsc3RhY2sgTWVyblxcUmVhY3RcXHRpY2tldHNtYW5hZ2VtZW50YmFja2VuZFxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsidGlja2V0cy5jb250dG9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0aWNrZXRzTW9kZWwgZnJvbSBcIi4uL21vZGVscy90aWNrZXRzLm1vZGVsXCI7XHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XHJcbmltcG9ydCB1dGlsIGZyb20gXCJ1dGlsXCI7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICBkZXN0aW5hdGlvbjogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNvbnN0IHVwbG9hZFBhdGggPSBcIi4vdXBsb2Fkc1wiO1xyXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHVwbG9hZFBhdGgpKSB7XHJcbiAgICAgIGZzLm1rZGlyU3luYyh1cGxvYWRQYXRoKTtcclxuICAgIH1cclxuICAgIGNiKG51bGwsIHVwbG9hZFBhdGgpO1xyXG4gIH0sXHJcbiAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjb25zdCBleHQgPSBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpO1xyXG4gICAgY29uc3QgbmFtZSA9IHBhdGguYmFzZW5hbWUoZmlsZS5vcmlnaW5hbG5hbWUsIGV4dCk7XHJcbiAgICBjb25zdCBmdWxsbmFtZSA9IGAke25hbWV9LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJvdW5kKFxyXG4gICAgICBNYXRoLnJhbmRvbSgpICogMWU5XHJcbiAgICApfSR7ZXh0fWA7XHJcbiAgICBjYihudWxsLCBmdWxsbmFtZSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pO1xyXG5cclxuY29uc3QgdXBsb2FkRmlsZXMgPSB1dGlsLnByb21pc2lmeShcclxuICB1cGxvYWQuZmllbGRzKFt7IG5hbWU6IFwiaW1hZ2VzXCIsIG1heENvdW50OiAxMCB9XSlcclxuKTtcclxuXHJcbmNvbnN0IGRlbGV0ZUZpbGUgPSAoZmlsZXBhdGgpID0+IHtcclxuICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlcGF0aCkpIHtcclxuICAgIGZzLnVubGlua1N5bmMoZmlsZXBhdGgpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRUaWNrZXRzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHVwbG9hZEZpbGVzKHJlcSwgcmVzKTtcclxuXHJcbiAgICBjb25zdCB7IHRpdGxlLCBleHBsYWlucHJvYmxlbSwgdHlwZW9mZmVhdHVyZSwgdHlwZW9mcHJvYmxlbSwgc3RhdHVzIH0gPVxyXG4gICAgICByZXEuYm9keTtcclxuICAgIGxldCB0aHVtYm5haWwgPSBudWxsO1xyXG4gICAgbGV0IGltYWdlcyA9IFtdO1xyXG5cclxuICAgIGlmIChyZXEuZmlsZXMpIHtcclxuICAgICAgaWYgKHJlcS5maWxlc1tcImltYWdlc1wiXSkge1xyXG4gICAgICAgIGltYWdlcyA9IHJlcS5maWxlc1tcImltYWdlc1wiXS5tYXAoKGZpbGUpID0+IGZpbGUuZmlsZW5hbWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3VGlja2V0cyA9IG5ldyB0aWNrZXRzTW9kZWwoe1xyXG4gICAgICB0aXRsZSxcclxuICAgICAgZXhwbGFpbnByb2JsZW0sXHJcbiAgICAgIHR5cGVvZmZlYXR1cmUsXHJcbiAgICAgIHR5cGVvZnByb2JsZW0sXHJcbiAgICAgIHN0YXR1cyxcclxuICAgICAgaW1hZ2VzLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qgc2F2ZURhdGEgPSBhd2FpdCBuZXdUaWNrZXRzLnNhdmUoKTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICBkYXRhOiBzYXZlRGF0YSxcclxuICAgICAgbWVzc2FnZTogXCJOZXcgcmVjb3JkIGFkZGVkXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHByb2R1Y3RpZCA9IHJlcS5wYXJhbXMucHJvZHVjdGlkO1xyXG4gICAgYXdhaXQgdXBsb2FkRmlsZXMocmVxLCByZXMpO1xyXG5cclxuICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCBhdmFpbGFibGVpbiwgcHJpY2UsIHF1YW50aXR5LCBjYXRlZ29yeSB9ID1cclxuICAgICAgcmVxLmJvZHk7XHJcblxyXG4gICAgbGV0IHRodW1ibmFpbCA9IHJlcS5ib2R5LnRodW1ibmFpbDtcclxuICAgIGxldCBpbWFnZXMgPSByZXEuYm9keS5pbWFnZXMgPyByZXEuYm9keS5pbWFnZXMuc3BsaXQoXCIsXCIpIDogW107XHJcblxyXG4gICAgaWYgKHJlcS5maWxlcykge1xyXG4gICAgICBpZiAocmVxLmZpbGVzW1widGh1bWJuYWlsXCJdICYmIHJlcS5maWxlc1tcInRodW1ibmFpbFwiXVswXSkge1xyXG4gICAgICAgIGNvbnN0IG9sZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWQocHJvZHVjdGlkKTtcclxuICAgICAgICBkZWxldGVGaWxlKGAuL3VwbG9hZHMvJHtvbGRQcm9kdWN0LnRodW1ibmFpbH1gKTtcclxuICAgICAgICB0aHVtYm5haWwgPSByZXEuZmlsZXNbXCJ0aHVtYm5haWxcIl1bMF0uZmlsZW5hbWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHJlcS5maWxlc1tcImltYWdlc1wiXSkge1xyXG4gICAgICAgIGNvbnN0IG9sZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWQocHJvZHVjdGlkKTtcclxuICAgICAgICBvbGRQcm9kdWN0LmltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4gZGVsZXRlRmlsZShgLi91cGxvYWRzLyR7aW1hZ2V9YCkpO1xyXG4gICAgICAgIGltYWdlcyA9IHJlcS5maWxlc1tcImltYWdlc1wiXS5tYXAoKGZpbGUpID0+IGZpbGUuZmlsZW5hbWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWRBbmRVcGRhdGUoXHJcbiAgICAgIHByb2R1Y3RpZCxcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGF2YWlsYWJsZWluLFxyXG4gICAgICAgIHByaWNlLFxyXG4gICAgICAgIHF1YW50aXR5LFxyXG4gICAgICAgIGNhdGVnb3J5LFxyXG4gICAgICAgIHRodW1ibmFpbCxcclxuICAgICAgICBpbWFnZXMsXHJcbiAgICAgIH0sXHJcbiAgICAgIHsgbmV3OiB0cnVlIH1cclxuICAgICk7XHJcblxyXG4gICAgaWYgKHVwZGF0ZWRQcm9kdWN0KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJQcm9kdWN0IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiB1cGRhdGVkUHJvZHVjdCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gdXBkYXRlIHByb2R1Y3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBkZWxldGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHByb2R1Y3RpZCA9IHJlcS5wYXJhbXMucHJvZHVjdGlkO1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZChwcm9kdWN0aWQpO1xyXG5cclxuICAgIGlmICghcHJvZHVjdCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgIG1lc3NhZ2U6IFwiUHJvZHVjdCBub3QgZm91bmRcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHByb2R1Y3QudGh1bWJuYWlsKSB7XHJcbiAgICAgIGRlbGV0ZUZpbGUoYC4vdXBsb2Fkcy8ke3Byb2R1Y3QudGh1bWJuYWlsfWApO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb2R1Y3QuaW1hZ2VzICYmIHByb2R1Y3QuaW1hZ2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgcHJvZHVjdC5pbWFnZXMuZm9yRWFjaCgoaW1hZ2UpID0+IGRlbGV0ZUZpbGUoYC4vdXBsb2Fkcy8ke2ltYWdlfWApKTtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWRBbmREZWxldGUocHJvZHVjdGlkKTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIlByb2R1Y3QgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIixcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgcGFnZSA9IDEsIGxpbWl0ID0gMTAsIHNlYXJjaCA9IFwiXCIsIHNvcnQgfSA9IHJlcS5xdWVyeTtcclxuICAgIGNvbnN0IHNraXBubyA9IGxpbWl0ICogKHBhZ2UgLSAxKTtcclxuICAgIGNvbnN0IHJneCA9IChwYXR0ZXJuKSA9PiBuZXcgUmVnRXhwKGAuKiR7cGF0dGVybn0uKmAsIFwiaVwiKTtcclxuICAgIGNvbnN0IHNlYXJjaFJneCA9IHJneChzZWFyY2gpO1xyXG5cclxuICAgIGxldCBmaWx0ZXIgPSBzZWFyY2hcclxuICAgICAgPyB7XHJcbiAgICAgICAgICAkb3I6IFtcclxuICAgICAgICAgICAgeyB0aXRsZTogeyAkcmVnZXg6IHNlYXJjaFJneCB9IH0sXHJcbiAgICAgICAgICAgIHsgZGVzY3JpcHRpb246IHsgJHJlZ2V4OiBzZWFyY2hSZ3ggfSB9LFxyXG4gICAgICAgICAgXSxcclxuICAgICAgICB9XHJcbiAgICAgIDoge307XHJcblxyXG4gICAgbGV0IHNvcnRWYWx1ZSA9IFtcIl9pZFwiLCAxXTtcclxuICAgIGlmIChzb3J0ID09PSBcIm5ld1wiKSBzb3J0VmFsdWUgPSBbXCJfaWRcIiwgLTFdO1xyXG4gICAgaWYgKHNvcnQgPT09IFwibHRoXCIpIHNvcnRWYWx1ZSA9IFtcInByaWNlXCIsIDFdO1xyXG4gICAgaWYgKHNvcnQgPT09IFwiaHRsXCIpIHNvcnRWYWx1ZSA9IFtcInByaWNlXCIsIC0xXTtcclxuXHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHByb2R1Y3RNb2RlbFxyXG4gICAgICAuZmluZChmaWx0ZXIpXHJcbiAgICAgIC5wb3B1bGF0ZShcImNhdGVnb3J5XCIpXHJcbiAgICAgIC5saW1pdChwYXJzZUludChsaW1pdCkpXHJcbiAgICAgIC5za2lwKHNraXBubylcclxuICAgICAgLnNvcnQoW3NvcnRWYWx1ZV0pO1xyXG5cclxuICAgIGlmIChwcm9kdWN0cykge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIGNvdW50OiBwcm9kdWN0cy5sZW5ndGgsXHJcbiAgICAgICAgZGF0YTogcHJvZHVjdHMsXHJcbiAgICAgICAgbWVzc2FnZTogXCJGZXRjaGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0c0FnZ3IgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBwcm9kdWN0TW9kZWwuYWdncmVnYXRlKFtcclxuICAgICAge1xyXG4gICAgICAgICRsb29rdXA6IHtcclxuICAgICAgICAgIGZyb206IFwiY2F0ZWdvcmllc1wiLFxyXG4gICAgICAgICAgbG9jYWxGaWVsZDogXCJjYXRlZ29yeVwiLFxyXG4gICAgICAgICAgZm9yZWlnbkZpZWxkOiBcIl9pZFwiLFxyXG4gICAgICAgICAgYXM6IFwiY2F0ZWdvcnlEYXRhXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgeyAkdW53aW5kOiBcIiRjYXRlZ29yeURhdGFcIiB9LFxyXG4gICAgXSk7XHJcblxyXG4gICAgaWYgKHByb2R1Y3RzKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgY291bnQ6IHByb2R1Y3RzLmxlbmd0aCxcclxuICAgICAgICBkYXRhOiBwcm9kdWN0cyxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJCYWQgcmVxdWVzdFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcHJvZHVjdGlkID0gcmVxLnBhcmFtcy5wcm9kdWN0aWQ7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdE1vZGVsLmZpbmRCeUlkKHByb2R1Y3RpZCkucG9wdWxhdGUoXCJjYXRlZ29yeVwiKTtcclxuXHJcbiAgICBpZiAocHJvZHVjdCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIGRhdGE6IHByb2R1Y3QsXHJcbiAgICAgICAgbWVzc2FnZTogXCJGZXRjaGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxLQUFBLEdBQUFMLHNCQUFBLENBQUFD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","map":{"version":3,"names":["_tickets","_interopRequireDefault","require","_multer","_fs","_path","_util","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","uploadPath","fs","existsSync","mkdirSync","filename","ext","path","extname","originalname","name","basename","fullname","concat","Date","now","Math","round","random","upload","uploadFiles","util","promisify","fields","maxCount","deleteFile","filepath","unlinkSync","addTickets","res","title","explainproblem","typeoffeature","typeofproblem","status","body","thumbnail","images","files","map","newTickets","ticketsModel","saveData","save","json","data","message","success","err","exports","updateProduct","productid","params","description","availablein","price","quantity","category","split","oldProduct","productModel","findById","forEach","image","updatedProduct","findByIdAndUpdate","new","deleteProduct","product","length","findByIdAndDelete","getProducts","page","limit","search","sort","query","skipno","rgx","pattern","RegExp","searchRgx","filter","$or","$regex","sortValue","products","find","populate","parseInt","skip","count","getProductsAggr","aggregate","$lookup","from","localField","foreignField","as","$unwind","getProduct"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\controllers\\","sources":["tickets.conttoller.js"],"sourcesContent":["import ticketsModel from \"../models/tickets.model\";\r\nimport multer from \"multer\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport util from \"util\";\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    const uploadPath = \"./uploads\";\r\n    if (!fs.existsSync(uploadPath)) {\r\n      fs.mkdirSync(uploadPath);\r\n    }\r\n    cb(null, uploadPath);\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const ext = path.extname(file.originalname);\r\n    const name = path.basename(file.originalname, ext);\r\n    const fullname = `${name}-${Date.now()}-${Math.round(\r\n      Math.random() * 1e9\r\n    )}${ext}`;\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nconst uploadFiles = util.promisify(\r\n  upload.fields([{ name: \"images\", maxCount: 10 }])\r\n);\r\n\r\nconst deleteFile = (filepath) => {\r\n  if (fs.existsSync(filepath)) {\r\n    fs.unlinkSync(filepath);\r\n  }\r\n};\r\n\r\nexport const addTickets = async (req, res) => {\r\n  try {\r\n    await uploadFiles(req, res);\r\n\r\n    const { title, explainproblem, typeoffeature, typeofproblem, status } =\r\n      req.body;\r\n    let thumbnail = null;\r\n    let images = [];\r\n\r\n    if (req.files) {\r\n      if (req.files[\"images\"]) {\r\n        images = req.files[\"images\"].map((file) => file.filename);\r\n      }\r\n    }\r\n\r\n    const newTickets = new ticketsModel({\r\n      title,\r\n      explainproblem,\r\n      typeoffeature,\r\n      typeofproblem,\r\n      status,\r\n      images,\r\n    });\r\n\r\n    const saveData = await newTickets.save();\r\n\r\n    return res.status(201).json({\r\n      data: saveData,\r\n      message: \"New record added\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    await uploadFiles(req, res);\r\n\r\n    const { title, description, availablein, price, quantity, category } =\r\n      req.body;\r\n\r\n    let thumbnail = req.body.thumbnail;\r\n    let images = req.body.images ? req.body.images.split(\",\") : [];\r\n\r\n    if (req.files) {\r\n      if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\r\n        const oldProduct = await productModel.findById(productid);\r\n        deleteFile(`./uploads/${oldProduct.thumbnail}`);\r\n        thumbnail = req.files[\"thumbnail\"][0].filename;\r\n      }\r\n      if (req.files[\"images\"]) {\r\n        const oldProduct = await productModel.findById(productid);\r\n        oldProduct.images.forEach((image) => deleteFile(`./uploads/${image}`));\r\n        images = req.files[\"images\"].map((file) => file.filename);\r\n      }\r\n    }\r\n\r\n    const updatedProduct = await productModel.findByIdAndUpdate(\r\n      productid,\r\n      {\r\n        title,\r\n        description,\r\n        availablein,\r\n        price,\r\n        quantity,\r\n        category,\r\n        thumbnail,\r\n        images,\r\n      },\r\n      { new: true }\r\n    );\r\n\r\n    if (updatedProduct) {\r\n      return res.status(200).json({\r\n        message: \"Product updated successfully\",\r\n        success: true,\r\n        data: updatedProduct,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Failed to update product\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    const product = await productModel.findById(productid);\r\n\r\n    if (!product) {\r\n      return res.status(404).json({\r\n        message: \"Product not found\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    if (product.thumbnail) {\r\n      deleteFile(`./uploads/${product.thumbnail}`);\r\n    }\r\n    if (product.images && product.images.length > 0) {\r\n      product.images.forEach((image) => deleteFile(`./uploads/${image}`));\r\n    }\r\n\r\n    await productModel.findByIdAndDelete(productid);\r\n\r\n    return res.status(200).json({\r\n      message: \"Product deleted successfully\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProducts = async (req, res) => {\r\n  try {\r\n    const { page = 1, limit = 10, search = \"\", sort } = req.query;\r\n    const skipno = limit * (page - 1);\r\n    const rgx = (pattern) => new RegExp(`.*${pattern}.*`, \"i\");\r\n    const searchRgx = rgx(search);\r\n\r\n    let filter = search\r\n      ? {\r\n          $or: [\r\n            { title: { $regex: searchRgx } },\r\n            { description: { $regex: searchRgx } },\r\n          ],\r\n        }\r\n      : {};\r\n\r\n    let sortValue = [\"_id\", 1];\r\n    if (sort === \"new\") sortValue = [\"_id\", -1];\r\n    if (sort === \"lth\") sortValue = [\"price\", 1];\r\n    if (sort === \"htl\") sortValue = [\"price\", -1];\r\n\r\n    const products = await productModel\r\n      .find(filter)\r\n      .populate(\"category\")\r\n      .limit(parseInt(limit))\r\n      .skip(skipno)\r\n      .sort([sortValue]);\r\n\r\n    if (products) {\r\n      return res.status(200).json({\r\n        count: products.length,\r\n        data: products,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProductsAggr = async (req, res) => {\r\n  try {\r\n    const products = await productModel.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: \"categories\",\r\n          localField: \"category\",\r\n          foreignField: \"_id\",\r\n          as: \"categoryData\",\r\n        },\r\n      },\r\n      { $unwind: \"$categoryData\" },\r\n    ]);\r\n\r\n    if (products) {\r\n      return res.status(200).json({\r\n        count: products.length,\r\n        data: products,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProduct = async (req, res) => {\r\n  try {\r\n    const productid = req.params.productid;\r\n    const product = await productModel.findById(productid).populate(\"category\");\r\n\r\n    if (product) {\r\n      return res.status(200).json({\r\n        data: product,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(400).json({\r\n      message: \"Bad request\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1716908420587},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\models\\\\tickets.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _user = _interopRequireDefault(require(\"./user.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst TicketsSchema = new Schema({\n  title: {\n    type: String,\n    default: null\n  },\n  explainproblem: {\n    type: String,\n    default: null\n  },\n  typeoffeature: {\n    type: [String],\n    default: []\n  },\n  typeofproblem: {\n    type: [String],\n    default: []\n  },\n  images: {\n    type: [String],\n    // Define as an array of strings\n    default: []\n  },\n  created_at: {\n    type: Date,\n    default: Date.now\n  },\n  updated: {\n    type: Date,\n    default: 0\n  },\n  updatedby: {\n    type: [String],\n    default: []\n  },\n  owner: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    required: true,\n    ref: _user.default\n  },\n  assignedagent: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    default: null,\n    // Change the default value to null\n    ref: _user.default\n  },\n  replies: {\n    type: Number,\n    default: 0\n  },\n  ageInDays: {\n    type: Number,\n    default: 0\n  },\n  usermsgs: [{\n    text: {\n      type: String,\n      required: true\n    },\n    timestamp: {\n      type: Date,\n      default: Date.now\n    }\n  }],\n  supportmsgs: [{\n    text: {\n      type: String,\n      required: false\n    },\n    timestamp: {\n      type: Date,\n      default: Date.now\n    }\n  }],\n  status: {\n    type: String,\n    default: \"open\"\n  },\n  priority: {\n    type: String,\n    default: \"NA\"\n  },\n  ticketCode: {\n    type: Number,\n    unique: true,\n    default: 0\n  },\n  updatedby: {\n    type: String,\n    default: \"NA\"\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"Ticket\", TicketsSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl91c2VyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJTY2hlbWEiLCJtb25nb29zZSIsIlRpY2tldHNTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJleHBsYWlucHJvYmxlbSIsInR5cGVvZmZlYXR1cmUiLCJ0eXBlb2Zwcm9ibGVtIiwiaW1hZ2VzIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJ1cGRhdGVkIiwidXBkYXRlZGJ5Iiwib3duZXIiLCJUeXBlcyIsIk9iamVjdElkIiwicmVxdWlyZWQiLCJyZWYiLCJ1c2VyTW9kZWwiLCJhc3NpZ25lZGFnZW50IiwicmVwbGllcyIsIk51bWJlciIsImFnZUluRGF5cyIsInVzZXJtc2dzIiwidGV4dCIsInRpbWVzdGFtcCIsInN1cHBvcnRtc2dzIiwic3RhdHVzIiwicHJpb3JpdHkiLCJ0aWNrZXRDb2RlIiwidW5pcXVlIiwiX2RlZmF1bHQiLCJleHBvcnRzIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkQ6XFxGdWxsc3RhY2sgTWVyblxcUmVhY3RcXHRpY2tldHNtYW5hZ2VtZW50YmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInRpY2tldHMubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuL3VzZXIubW9kZWxcIjtcclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xyXG5cclxuY29uc3QgVGlja2V0c1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIHRpdGxlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsLFxyXG4gIH0sXHJcbiAgZXhwbGFpbnByb2JsZW06IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgfSxcclxuICB0eXBlb2ZmZWF0dXJlOiB7XHJcbiAgICB0eXBlOiBbU3RyaW5nXSxcclxuICAgIGRlZmF1bHQ6IFtdLFxyXG4gIH0sXHJcbiAgdHlwZW9mcHJvYmxlbToge1xyXG4gICAgdHlwZTogW1N0cmluZ10sXHJcbiAgICBkZWZhdWx0OiBbXSxcclxuICB9LFxyXG5cclxuICBpbWFnZXM6IHtcclxuICAgIHR5cGU6IFtTdHJpbmddLCAvLyBEZWZpbmUgYXMgYW4gYXJyYXkgb2Ygc3RyaW5nc1xyXG4gICAgZGVmYXVsdDogW10sXHJcbiAgfSxcclxuXHJcbiAgY3JlYXRlZF9hdDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICAgIGRlZmF1bHQ6IERhdGUubm93LFxyXG4gIH0sXHJcbiAgdXBkYXRlZDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICAgIGRlZmF1bHQ6IDAsXHJcbiAgfSxcclxuICB1cGRhdGVkYnk6IHtcclxuICAgIHR5cGU6IFtTdHJpbmddLFxyXG4gICAgZGVmYXVsdDogW10sXHJcbiAgfSxcclxuICBvd25lcjoge1xyXG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICByZWY6IHVzZXJNb2RlbCxcclxuICB9LFxyXG5cclxuICBhc3NpZ25lZGFnZW50OiB7XHJcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICBkZWZhdWx0OiBudWxsLCAvLyBDaGFuZ2UgdGhlIGRlZmF1bHQgdmFsdWUgdG8gbnVsbFxyXG4gICAgcmVmOiB1c2VyTW9kZWwsXHJcbiAgfSxcclxuXHJcbiAgcmVwbGllczoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMCxcclxuICB9LFxyXG4gIGFnZUluRGF5czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMCxcclxuICB9LFxyXG4gIHVzZXJtc2dzOiBbXHJcbiAgICB7XHJcbiAgICAgIHRleHQ6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRpbWVzdGFtcDoge1xyXG4gICAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIF0sXHJcbiAgc3VwcG9ydG1zZ3M6IFtcclxuICAgIHtcclxuICAgICAgdGV4dDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRpbWVzdGFtcDoge1xyXG4gICAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIF0sXHJcblxyXG4gIHN0YXR1czoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogXCJvcGVuXCIsXHJcbiAgfSxcclxuXHJcbiAgcHJpb3JpdHk6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IFwiTkFcIixcclxuICB9LFxyXG5cclxuICB0aWNrZXRDb2RlOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICB1bmlxdWU6IHRydWUsXHJcbiAgICBkZWZhdWx0OiAwLFxyXG4gIH0sXHJcblxyXG4gIHVwZGF0ZWRieToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogXCJOQVwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoXCJUaWNrZXRcIiwgVGlja2V0c1NjaGVtYSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQXFDLFNB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","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_user","obj","__esModule","default","Schema","mongoose","TicketsSchema","title","type","String","explainproblem","typeoffeature","typeofproblem","images","created_at","Date","now","updated","updatedby","owner","Types","ObjectId","required","ref","userModel","assignedagent","replies","Number","ageInDays","usermsgs","text","timestamp","supportmsgs","status","priority","ticketCode","unique","_default","exports","model"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\models\\","sources":["tickets.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nimport userModel from \"./user.model\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst TicketsSchema = new Schema({\r\n  title: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  explainproblem: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  typeoffeature: {\r\n    type: [String],\r\n    default: [],\r\n  },\r\n  typeofproblem: {\r\n    type: [String],\r\n    default: [],\r\n  },\r\n\r\n  images: {\r\n    type: [String], // Define as an array of strings\r\n    default: [],\r\n  },\r\n\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now,\r\n  },\r\n  updated: {\r\n    type: Date,\r\n    default: 0,\r\n  },\r\n  updatedby: {\r\n    type: [String],\r\n    default: [],\r\n  },\r\n  owner: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    required: true,\r\n    ref: userModel,\r\n  },\r\n\r\n  assignedagent: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    default: null, // Change the default value to null\r\n    ref: userModel,\r\n  },\r\n\r\n  replies: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n  ageInDays: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n  usermsgs: [\r\n    {\r\n      text: {\r\n        type: String,\r\n        required: true,\r\n      },\r\n      timestamp: {\r\n        type: Date,\r\n        default: Date.now,\r\n      },\r\n    },\r\n  ],\r\n  supportmsgs: [\r\n    {\r\n      text: {\r\n        type: String,\r\n        required: false,\r\n      },\r\n      timestamp: {\r\n        type: Date,\r\n        default: Date.now,\r\n      },\r\n    },\r\n  ],\r\n\r\n  status: {\r\n    type: String,\r\n    default: \"open\",\r\n  },\r\n\r\n  priority: {\r\n    type: String,\r\n    default: \"NA\",\r\n  },\r\n\r\n  ticketCode: {\r\n    type: Number,\r\n    unique: true,\r\n    default: 0,\r\n  },\r\n\r\n  updatedby: {\r\n    type: String,\r\n    default: \"NA\",\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"Ticket\", TicketsSchema);\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACrC,MAAMG,MAAM,GAAGC,iBAAQ,CAACD,MAAM;AAE9B,MAAME,aAAa,GAAG,IAAIF,MAAM,CAAC;EAC/BG,KAAK,EAAE;IACLC,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDO,cAAc,EAAE;IACdF,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EACDQ,aAAa,EAAE;IACbH,IAAI,EAAE,CAACC,MAAM,CAAC;IACdN,OAAO,EAAE;EACX,CAAC;EACDS,aAAa,EAAE;IACbJ,IAAI,EAAE,CAACC,MAAM,CAAC;IACdN,OAAO,EAAE;EACX,CAAC;EAEDU,MAAM,EAAE;IACNL,IAAI,EAAE,CAACC,MAAM,CAAC;IAAE;IAChBN,OAAO,EAAE;EACX,CAAC;EAEDW,UAAU,EAAE;IACVN,IAAI,EAAEO,IAAI;IACVZ,OAAO,EAAEY,IAAI,CAACC;EAChB,CAAC;EACDC,OAAO,EAAE;IACPT,IAAI,EAAEO,IAAI;IACVZ,OAAO,EAAE;EACX,CAAC;EACDe,SAAS,EAAE;IACTV,IAAI,EAAE,CAACC,MAAM,CAAC;IACdN,OAAO,EAAE;EACX,CAAC;EACDgB,KAAK,EAAE;IACLX,IAAI,EAAEH,iBAAQ,CAACD,MAAM,CAACgB,KAAK,CAACC,QAAQ;IACpCC,QAAQ,EAAE,IAAI;IACdC,GAAG,EAAEC;EACP,CAAC;EAEDC,aAAa,EAAE;IACbjB,IAAI,EAAEH,iBAAQ,CAACD,MAAM,CAACgB,KAAK,CAACC,QAAQ;IACpClB,OAAO,EAAE,IAAI;IAAE;IACfoB,GAAG,EAAEC;EACP,CAAC;EAEDE,OAAO,EAAE;IACPlB,IAAI,EAAEmB,MAAM;IACZxB,OAAO,EAAE;EACX,CAAC;EACDyB,SAAS,EAAE;IACTpB,IAAI,EAAEmB,MAAM;IACZxB,OAAO,EAAE;EACX,CAAC;EACD0B,QAAQ,EAAE,CACR;IACEC,IAAI,EAAE;MACJtB,IAAI,EAAEC,MAAM;MACZa,QAAQ,EAAE;IACZ,CAAC;IACDS,SAAS,EAAE;MACTvB,IAAI,EAAEO,IAAI;MACVZ,OAAO,EAAEY,IAAI,CAACC;IAChB;EACF,CAAC,CACF;EACDgB,WAAW,EAAE,CACX;IACEF,IAAI,EAAE;MACJtB,IAAI,EAAEC,MAAM;MACZa,QAAQ,EAAE;IACZ,CAAC;IACDS,SAAS,EAAE;MACTvB,IAAI,EAAEO,IAAI;MACVZ,OAAO,EAAEY,IAAI,CAACC;IAChB;EACF,CAAC,CACF;EAEDiB,MAAM,EAAE;IACNzB,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EAED+B,QAAQ,EAAE;IACR1B,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX,CAAC;EAEDgC,UAAU,EAAE;IACV3B,IAAI,EAAEmB,MAAM;IACZS,MAAM,EAAE,IAAI;IACZjC,OAAO,EAAE;EACX,CAAC;EAEDe,SAAS,EAAE;IACTV,IAAI,EAAEC,MAAM;IACZN,OAAO,EAAE;EACX;AACF,CAAC,CAAC;AAAC,IAAAkC,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GAEYE,iBAAQ,CAACkC,KAAK,CAAC,QAAQ,EAAEjC,aAAa,CAAC","ignoreList":[]}},"mtime":1718001790730},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\models\\\\tickets.model.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _user = _interopRequireDefault(require(\"./user.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Schema = _mongoose.default.Schema;\nconst TicketsSchema = new Schema({\n  title: {\n    type: String,\n    default: null\n  },\n  explainproblem: {\n    type: String,\n    default: null\n  },\n  typeoffeature: {\n    type: [String],\n    default: []\n  },\n  typeofproblem: {\n    type: [String],\n    default: []\n  },\n  images: {\n    type: [String],\n    // Define as an array of strings\n    default: []\n  },\n  created_at: {\n    type: Date,\n    default: Date.now\n  },\n  updated: {\n    type: Date,\n    default: null\n  },\n  updatedby: {\n    type: [String],\n    default: []\n  },\n  owner: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    required: true,\n    ref: _user.default\n  },\n  assignedagent: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    default: null,\n    // Change the default value to null\n    ref: _user.default\n  },\n  replies: {\n    type: Number,\n    default: 0\n  },\n  ageInDays: {\n    type: Number,\n    default: 0\n  },\n  usermsgs: [{\n    text: {\n      type: String,\n      required: false\n    },\n    type: {\n      type: String,\n      required: false\n    },\n    timestamp: {\n      type: Date,\n      default: Date.now\n    }\n  }],\n  supportmsgs: [{\n    text: {\n      type: String,\n      required: false\n    },\n    type: {\n      type: String,\n      required: false\n    },\n    timestamp: {\n      type: Date,\n      default: Date.now\n    }\n  }],\n  status: {\n    type: String,\n    default: \"open\"\n  },\n  priority: {\n    type: String,\n    default: \"NA\"\n  },\n  ticketCode: {\n    type: Number,\n    unique: true,\n    default: 0\n  },\n  updatedby: {\n    type: String,\n    default: \"NA\"\n  }\n});\nvar _default = exports.default = _mongoose.default.model(\"Ticket\", TicketsSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl91c2VyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJTY2hlbWEiLCJtb25nb29zZSIsIlRpY2tldHNTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJleHBsYWlucHJvYmxlbSIsInR5cGVvZmZlYXR1cmUiLCJ0eXBlb2Zwcm9ibGVtIiwiaW1hZ2VzIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJub3ciLCJ1cGRhdGVkIiwidXBkYXRlZGJ5Iiwib3duZXIiLCJUeXBlcyIsIk9iamVjdElkIiwicmVxdWlyZWQiLCJyZWYiLCJ1c2VyTW9kZWwiLCJhc3NpZ25lZGFnZW50IiwicmVwbGllcyIsIk51bWJlciIsImFnZUluRGF5cyIsInVzZXJtc2dzIiwidGV4dCIsInRpbWVzdGFtcCIsInN1cHBvcnRtc2dzIiwic3RhdHVzIiwicHJpb3JpdHkiLCJ0aWNrZXRDb2RlIiwidW5pcXVlIiwiX2RlZmF1bHQiLCJleHBvcnRzIiwibW9kZWwiXSwic291cmNlUm9vdCI6IkQ6XFxGdWxsc3RhY2sgTWVyblxcUmVhY3RcXHRpY2tldHNtYW5hZ2VtZW50YmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInRpY2tldHMubW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuL3VzZXIubW9kZWxcIjtcclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xyXG5cclxuY29uc3QgVGlja2V0c1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIHRpdGxlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBudWxsLFxyXG4gIH0sXHJcbiAgZXhwbGFpbnByb2JsZW06IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgfSxcclxuICB0eXBlb2ZmZWF0dXJlOiB7XHJcbiAgICB0eXBlOiBbU3RyaW5nXSxcclxuICAgIGRlZmF1bHQ6IFtdLFxyXG4gIH0sXHJcbiAgdHlwZW9mcHJvYmxlbToge1xyXG4gICAgdHlwZTogW1N0cmluZ10sXHJcbiAgICBkZWZhdWx0OiBbXSxcclxuICB9LFxyXG5cclxuICBpbWFnZXM6IHtcclxuICAgIHR5cGU6IFtTdHJpbmddLCAvLyBEZWZpbmUgYXMgYW4gYXJyYXkgb2Ygc3RyaW5nc1xyXG4gICAgZGVmYXVsdDogW10sXHJcbiAgfSxcclxuXHJcbiAgY3JlYXRlZF9hdDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICAgIGRlZmF1bHQ6IERhdGUubm93LFxyXG4gIH0sXHJcbiAgdXBkYXRlZDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgfSxcclxuICB1cGRhdGVkYnk6IHtcclxuICAgIHR5cGU6IFtTdHJpbmddLFxyXG4gICAgZGVmYXVsdDogW10sXHJcbiAgfSxcclxuICBvd25lcjoge1xyXG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICByZWY6IHVzZXJNb2RlbCxcclxuICB9LFxyXG5cclxuICBhc3NpZ25lZGFnZW50OiB7XHJcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICBkZWZhdWx0OiBudWxsLCAvLyBDaGFuZ2UgdGhlIGRlZmF1bHQgdmFsdWUgdG8gbnVsbFxyXG4gICAgcmVmOiB1c2VyTW9kZWwsXHJcbiAgfSxcclxuXHJcbiAgcmVwbGllczoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMCxcclxuICB9LFxyXG4gIGFnZUluRGF5czoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMCxcclxuICB9LFxyXG4gIHVzZXJtc2dzOiBbXHJcbiAgICB7XHJcbiAgICAgIHRleHQ6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICB9LFxyXG5cclxuICAgICAgdHlwZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRpbWVzdGFtcDoge1xyXG4gICAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIF0sXHJcbiAgc3VwcG9ydG1zZ3M6IFtcclxuICAgIHtcclxuICAgICAgdGV4dDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgIH0sXHJcbiAgICAgIHR5cGU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICB9LFxyXG4gICAgICB0aW1lc3RhbXA6IHtcclxuICAgICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICAgIGRlZmF1bHQ6IERhdGUubm93LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdLFxyXG5cclxuICBzdGF0dXM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IFwib3BlblwiLFxyXG4gIH0sXHJcblxyXG4gIHByaW9yaXR5OiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiBcIk5BXCIsXHJcbiAgfSxcclxuXHJcbiAgdGlja2V0Q29kZToge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgdW5pcXVlOiB0cnVlLFxyXG4gICAgZGVmYXVsdDogMCxcclxuICB9LFxyXG5cclxuICB1cGRhdGVkYnk6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IFwiTkFcIixcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKFwiVGlja2V0XCIsIFRpY2tldHNTY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNyQyxNQUFNRyxNQUFNLEdBQUdDLGlCQUFRLENBQUNELE1BQU07QUFFOUIsTUFBTUUsYUFBYSxHQUFHLElBQUlGLE1BQU0sQ0FBQztFQUMvQkcsS0FBSyxFQUFFO0lBQ0xDLElBQUksRUFBRUMsTUFBTTtJQUNaTixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RPLGNBQWMsRUFBRTtJQUNkRixJQUFJLEVBQUVDLE1BQU07SUFDWk4sT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEUSxhQUFhLEVBQUU7SUFDYkgsSUFBSSxFQUFFLENBQUNDLE1BQU0sQ0FBQztJQUNkTixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RTLGFBQWEsRUFBRTtJQUNiSixJQUFJLEVBQUUsQ0FBQ0MsTUFBTSxDQUFDO0lBQ2ROLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFFRFUsTUFBTSxFQUFFO0lBQ05MLElBQUksRUFBRSxDQUFDQyxNQUFNLENBQUM7SUFBRTtJQUNoQk4sT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUVEVyxVQUFVLEVBQUU7SUFDVk4sSUFBSSxFQUFFTyxJQUFJO0lBQ1ZaLE9BQU8sRUFBRVksSUFBSSxDQUFDQztFQUNoQixDQUFDO0VBQ0RDLE9BQU8sRUFBRTtJQUNQVCxJQUFJLEVBQUVPLElBQUk7SUFDVlosT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEZSxTQUFTLEVBQUU7SUFDVFYsSUFBSSxFQUFFLENBQUNDLE1BQU0sQ0FBQztJQUNkTixPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0RnQixLQUFLLEVBQUU7SUFDTFgsSUFBSSxFQUFFSCxpQkFBUSxDQUFDRCxNQUFNLENBQUNnQixLQUFLLENBQUNDLFFBQVE7SUFDcENDLFFBQVEsRUFBRSxJQUFJO0lBQ2RDLEdBQUcsRUFBRUM7RUFDUCxDQUFDO0VBRURDLGFBQWEsRUFBRTtJQUNiakIsSUFBSSxFQUFFSCxpQkFBUSxDQUFDRCxNQUFNLENBQUNnQixLQUFLLENBQUNDLFFBQVE7SUFDcENsQixPQUFPLEVBQUUsSUFBSTtJQUFFO0lBQ2ZvQixHQUFHLEVBQUVDO0VBQ1AsQ0FBQztFQUVERSxPQUFPLEVBQUU7SUFDUGxCLElBQUksRUFBRW1CLE1BQU07SUFDWnhCLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFDRHlCLFNBQVMsRUFBRTtJQUNUcEIsSUFBSSxFQUFFbUIsTUFBTTtJQUNaeEIsT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUNEMEIsUUFBUSxFQUFFLENBQ1I7SUFDRUMsSUFBSSxFQUFFO01BQ0p0QixJQUFJLEVBQUVDLE1BQU07TUFDWmEsUUFBUSxFQUFFO0lBQ1osQ0FBQztJQUVEZCxJQUFJLEVBQUU7TUFDSkEsSUFBSSxFQUFFQyxNQUFNO01BQ1phLFFBQVEsRUFBRTtJQUNaLENBQUM7SUFDRFMsU0FBUyxFQUFFO01BQ1R2QixJQUFJLEVBQUVPLElBQUk7TUFDVlosT0FBTyxFQUFFWSxJQUFJLENBQUNDO0lBQ2hCO0VBQ0YsQ0FBQyxDQUNGO0VBQ0RnQixXQUFXLEVBQUUsQ0FDWDtJQUNFRixJQUFJLEVBQUU7TUFDSnRCLElBQUksRUFBRUMsTUFBTTtNQUNaYSxRQUFRLEVBQUU7SUFDWixDQUFDO0lBQ0RkLElBQUksRUFBRTtNQUNKQSxJQUFJLEVBQUVDLE1BQU07TUFDWmEsUUFBUSxFQUFFO0lBQ1osQ0FBQztJQUNEUyxTQUFTLEVBQUU7TUFDVHZCLElBQUksRUFBRU8sSUFBSTtNQUNWWixPQUFPLEVBQUVZLElBQUksQ0FBQ0M7SUFDaEI7RUFDRixDQUFDLENBQ0Y7RUFFRGlCLE1BQU0sRUFBRTtJQUNOekIsSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFFRCtCLFFBQVEsRUFBRTtJQUNSMUIsSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYLENBQUM7RUFFRGdDLFVBQVUsRUFBRTtJQUNWM0IsSUFBSSxFQUFFbUIsTUFBTTtJQUNaUyxNQUFNLEVBQUUsSUFBSTtJQUNaakMsT0FBTyxFQUFFO0VBQ1gsQ0FBQztFQUVEZSxTQUFTLEVBQUU7SUFDVFYsSUFBSSxFQUFFQyxNQUFNO0lBQ1pOLE9BQU8sRUFBRTtFQUNYO0FBQ0YsQ0FBQyxDQUFDO0FBQUMsSUFBQWtDLFFBQUEsR0FBQUMsT0FBQSxDQUFBbkMsT0FBQSxHQUVZRSxpQkFBUSxDQUFDa0MsS0FBSyxDQUFDLFFBQVEsRUFBRWpDLGFBQWEsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_user","obj","__esModule","default","Schema","mongoose","TicketsSchema","title","type","String","explainproblem","typeoffeature","typeofproblem","images","created_at","Date","now","updated","updatedby","owner","Types","ObjectId","required","ref","userModel","assignedagent","replies","Number","ageInDays","usermsgs","text","timestamp","supportmsgs","status","priority","ticketCode","unique","_default","exports","model"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\models\\","sources":["tickets.model.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\nimport userModel from \"./user.model\";\r\nconst Schema = mongoose.Schema;\r\n\r\nconst TicketsSchema = new Schema({\r\n  title: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  explainproblem: {\r\n    type: String,\r\n    default: null,\r\n  },\r\n  typeoffeature: {\r\n    type: [String],\r\n    default: [],\r\n  },\r\n  typeofproblem: {\r\n    type: [String],\r\n    default: [],\r\n  },\r\n\r\n  images: {\r\n    type: [String], // Define as an array of strings\r\n    default: [],\r\n  },\r\n\r\n  created_at: {\r\n    type: Date,\r\n    default: Date.now,\r\n  },\r\n  updated: {\r\n    type: Date,\r\n    default: null,\r\n  },\r\n  updatedby: {\r\n    type: [String],\r\n    default: [],\r\n  },\r\n  owner: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    required: true,\r\n    ref: userModel,\r\n  },\r\n\r\n  assignedagent: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    default: null, // Change the default value to null\r\n    ref: userModel,\r\n  },\r\n\r\n  replies: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n  ageInDays: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n  usermsgs: [\r\n    {\r\n      text: {\r\n        type: String,\r\n        required: false,\r\n      },\r\n\r\n      type: {\r\n        type: String,\r\n        required: false,\r\n      },\r\n      timestamp: {\r\n        type: Date,\r\n        default: Date.now,\r\n      },\r\n    },\r\n  ],\r\n  supportmsgs: [\r\n    {\r\n      text: {\r\n        type: String,\r\n        required: false,\r\n      },\r\n      type: {\r\n        type: String,\r\n        required: false,\r\n      },\r\n      timestamp: {\r\n        type: Date,\r\n        default: Date.now,\r\n      },\r\n    },\r\n  ],\r\n\r\n  status: {\r\n    type: String,\r\n    default: \"open\",\r\n  },\r\n\r\n  priority: {\r\n    type: String,\r\n    default: \"NA\",\r\n  },\r\n\r\n  ticketCode: {\r\n    type: Number,\r\n    unique: true,\r\n    default: 0,\r\n  },\r\n\r\n  updatedby: {\r\n    type: String,\r\n    default: \"NA\",\r\n  },\r\n});\r\n\r\nexport default mongoose.model(\"Ticket\", TicketsSchema);\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1720612013188},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\controllers\\\\tickets.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.uploadImage = exports.updateTicket = exports.getTicketsWithUserDetails = exports.getTickets = exports.getTicket = exports.addTickets = void 0;\nvar _tickets = _interopRequireDefault(require(\"../models/tickets.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _util = _interopRequireDefault(require(\"util\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    cb(null, \"uploads/\");\n  },\n  filename: function (req, file, cb) {\n    cb(null, Date.now() + _path.default.extname(file.originalname)); // Append extension\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst uploadImage = (req, res) => {\n  const file = req.file;\n  if (!file) {\n    return res.status(400).send({\n      success: false,\n      message: \"No file uploaded\"\n    });\n  }\n  const imageUrl = \"http://localhost:8003/uploads/\".concat(file.filename);\n  res.send({\n    success: true,\n    imageUrl: imageUrl\n  });\n};\n\n// Utility function to delete file\nexports.uploadImage = uploadImage;\nconst deleteFile = filepath => {\n  if (_fs.default.existsSync(filepath)) {\n    _fs.default.unlinkSync(filepath);\n  }\n};\n\n// Function to calculate age in days\nconst calculateAgeInDays = createdAt => {\n  const now = new Date();\n  const createdAtDate = new Date(createdAt);\n  const diffTime = Math.abs(now - createdAtDate);\n  return Math.ceil(diffTime / (1000 * 60 * 60 * 24)); // Convert milliseconds to days\n};\nconst getNextTicketCode = async () => {\n  const lastTicket = await _tickets.default.findOne().sort({\n    ticketCode: -1\n  });\n  return lastTicket ? lastTicket.ticketCode + 1 : 1000;\n};\n\n// Add ticket function\nconst addTickets = async (req, res) => {\n  try {\n    await uploadFiles(req, res);\n    const {\n      title,\n      explainproblem,\n      typeoffeature,\n      typeofproblem,\n      priority,\n      owner,\n      status,\n      assignedagent,\n      updated,\n      updatedby,\n      usermsgs,\n      supportmsgs\n    } = req.body;\n    let images = [];\n    if (req.files && req.files[\"images\"]) {\n      images = req.files[\"images\"].map(file => file.filename);\n    }\n    const ticketCode = await getNextTicketCode();\n    const newTicket = new _tickets.default({\n      title,\n      explainproblem,\n      typeoffeature,\n      typeofproblem,\n      priority,\n      images,\n      owner,\n      assignedagent,\n      status,\n      updated,\n      updatedby,\n      ticketCode,\n      usermsgs,\n      supportmsgs\n    });\n    const savedTicket = await newTicket.save();\n\n    // Calculate age in days based on the saved ticket's creation date\n    const ageInDays = calculateAgeInDays(savedTicket.created_at);\n\n    // Update the ticket with the calculated age\n    savedTicket.ageInDays = ageInDays;\n    await savedTicket.save();\n    return res.status(201).json({\n      data: savedTicket,\n      message: \"New record added\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n// Get tickets function\nexports.addTickets = addTickets;\nconst getTickets = async (req, res) => {\n  try {\n    const tickets = await _tickets.default.find();\n    if (tickets) {\n      return res.status(200).json({\n        count: tickets.length,\n        data: tickets,\n        message: \"Fetched all tickets successfully!\",\n        success: true\n      });\n    }\n    return res.status(404).json({\n      message: \"No tickets found\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n// Get tickets with user details function\nexports.getTickets = getTickets;\nconst getTicketsWithUserDetails = async (req, res) => {\n  try {\n    const tickets = await _tickets.default.aggregate([{\n      $lookup: {\n        from: \"users\",\n        localField: \"owner\",\n        foreignField: \"_id\",\n        as: \"ownerDetails\"\n      }\n    }, {\n      $lookup: {\n        from: \"users\",\n        localField: \"assignedagent\",\n        foreignField: \"_id\",\n        as: \"assignedagentDetails\"\n      }\n    }, {\n      $unwind: {\n        path: \"$ownerDetails\",\n        preserveNullAndEmptyArrays: true\n      }\n    }, {\n      $unwind: {\n        path: \"$assignedagentDetails\",\n        preserveNullAndEmptyArrays: true\n      }\n    }]);\n    if (tickets.length > 0) {\n      return res.status(200).json({\n        count: tickets.length,\n        data: tickets,\n        message: \"Fetched all tickets successfully with user details!\",\n        success: true\n      });\n    }\n    return res.status(404).json({\n      message: \"No tickets found\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n// Get ticket function\nexports.getTicketsWithUserDetails = getTicketsWithUserDetails;\nconst getTicket = async (req, res) => {\n  try {\n    const ticketId = req.params.ticketid; // Changed from ticketCode to ticketid\n    console.log(ticketId);\n    const ticket = await _tickets.default.findById(ticketId).populate(\"owner\").populate(\"assignedagent\");\n    if (ticket) {\n      return res.status(200).json({\n        data: ticket,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(404).json({\n      // Changed status to 404 for \"Not Found\"\n      message: \"Ticket not found\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n// Update ticket function\nexports.getTicket = getTicket;\nconst updateTicket = async (req, res) => {\n  try {\n    const ticketId = req.params.ticketid;\n    const updates = req.body;\n    if (!_mongoose.default.Types.ObjectId.isValid(ticketId)) {\n      return res.status(400).json({\n        message: \"Invalid ticket ID\",\n        success: false\n      });\n    }\n    console.log(\"Received updates:\", updates);\n    const ticket = await _tickets.default.findById(ticketId);\n    if (!ticket) {\n      return res.status(404).json({\n        message: \"Ticket not found\",\n        success: false\n      });\n    }\n\n    // Check if updates contain images\n    if (updates.images && updates.images.length > 0) {\n      // Append new images to existing ones\n      ticket.images = [...ticket.images, ...updates.images];\n    }\n\n    // Update other fields\n    Object.keys(updates).forEach(key => {\n      if (key !== \"images\") {\n        ticket[key] = updates[key];\n      }\n    });\n    const updatedTicket = await ticket.save();\n    console.log(\"Updated ticket:\", updatedTicket);\n    return res.status(200).json({\n      data: updatedTicket,\n      message: \"Ticket updated successfully\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n// export const getTicketsWithUserDetails = async (req, res) => {\n//   try {\n//     const tickets = await Ticket.aggregate([\n//       {\n//         $lookup: {\n//           from: \"users\",\n//           localField: \"assignedagent\",\n//           foreignField: \"_id\",\n//           as: \"assignedagentDetails\",\n//         },\n//       },\n//       {\n//         $lookup: {\n//           from: \"users\",\n//           localField: \"owner\",\n//           foreignField: \"_id\",\n//           as: \"ownerDetails\",\n//         },\n//       },\n//       {\n//         $unwind: {\n//           path: \"$assignedagentDetails\",\n//           preserveNullAndEmptyArrays: true,\n//         },\n//       },\n//       {\n//         $unwind: {\n//           path: \"$ownerDetails\",\n//           preserveNullAndEmptyArrays: true,\n//         },\n//       },\n//     ]);\n//\n//     if (tickets.length > 0) {\n//       return res.status(200).json({\n//         count: tickets.length,\n//         data: tickets,\n//         message: \"Fetched all tickets successfully with user details!\",\n//         success: true,\n//       });\n//     }\n//\n//     return res.status(404).json({\n//       message: \"No tickets found\",\n//       success: false,\n//     });\n//   } catch (err) {\n//     return res.status(500).json({\n//       message: err.message,\n//       success: false,\n//     });\n//   }\n// };\n\n//\n// export const updateProduct = async (req, res) => {\n//   try {\n//     const productid = req.params.productid;\n//     await uploadFiles(req, res);\n//\n//     const { title, description, availablein, price, quantity, category } =\n//       req.body;\n//\n//     let thumbnail = req.body.thumbnail;\n//     let images = req.body.images ? req.body.images.split(\",\") : [];\n//\n//     if (req.files) {\n//       if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\n//         const oldProduct = await productModel.findById(productid);\n//         deleteFile(`./uploads/${oldProduct.thumbnail}`);\n//         thumbnail = req.files[\"thumbnail\"][0].filename;\n//       }\n//       if (req.files[\"images\"]) {\n//         const oldProduct = await productModel.findById(productid);\n//         oldProduct.images.forEach((image) => deleteFile(`./uploads/${image}`));\n//         images = req.files[\"images\"].map((file) => file.filename);\n//       }\n//     }\n//\n//     const updatedProduct = await productModel.findByIdAndUpdate(\n//       productid,\n//       {\n//         title,\n//         description,\n//         availablein,\n//         price,\n//         quantity,\n//         category,\n//         thumbnail,\n//         images,\n//       },\n//       { new: true }\n//     );\n//\n//     if (updatedProduct) {\n//       return res.status(200).json({\n//         message: \"Product updated successfully\",\n//         success: true,\n//         data: updatedProduct,\n//       });\n//     }\n//\n//     return res.status(400).json({\n//       message: \"Failed to update product\",\n//       success: false,\n//     });\n//   } catch (err) {\n//     return res.status(500).json({\n//       message: err.message,\n//       success: false,\n//     });\n//   }\n// };\n//\n// export const deleteProduct = async (req, res) => {\n//   try {\n//     const productid = req.params.productid;\n//     const product = await productModel.findById(productid);\n//\n//     if (!product) {\n//       return res.status(404).json({\n//         message: \"Product not found\",\n//         success: false,\n//       });\n//     }\n//\n//     if (product.thumbnail) {\n//       deleteFile(`./uploads/${product.thumbnail}`);\n//     }\n//     if (product.images && product.images.length > 0) {\n//       product.images.forEach((image) => deleteFile(`./uploads/${image}`));\n//     }\n//\n//     await productModel.findByIdAndDelete(productid);\n//\n//     return res.status(200).json({\n//       message: \"Product deleted successfully\",\n//       success: true,\n//     });\n//   } catch (err) {\n//     return res.status(500).json({\n//       message: err.message,\n//       success: false,\n//     });\n//   }\n// };\n//\n// export const getProducts = async (req, res) => {\n//   try {\n//     const { page = 1, limit = 10, search = \"\", sort } = req.query;\n//     const skipno = limit * (page - 1);\n//     const rgx = (pattern) => new RegExp(`.*${pattern}.*`, \"i\");\n//     const searchRgx = rgx(search);\n//\n//     let filter = search\n//       ? {\n//           $or: [\n//             { title: { $regex: searchRgx } },\n//             { description: { $regex: searchRgx } },\n//           ],\n//         }\n//       : {};\n//\n//     let sortValue = [\"_id\", 1];\n//     if (sort === \"new\") sortValue = [\"_id\", -1];\n//     if (sort === \"lth\") sortValue = [\"price\", 1];\n//     if (sort === \"htl\") sortValue = [\"price\", -1];\n//\n//     const products = await productModel\n//       .find(filter)\n//       .populate(\"category\")\n//       .limit(parseInt(limit))\n//       .skip(skipno)\n//       .sort([sortValue]);\n//\n//     if (products) {\n//       return res.status(200).json({\n//         count: products.length,\n//         data: products,\n//         message: \"Fetched!\",\n//         success: true,\n//       });\n//     }\n//\n//     return res.status(400).json({\n//       message: \"Bad request\",\n//       success: false,\n//     });\n//   } catch (err) {\n//     return res.status(500).json({\n//       message: err.message,\n//       success: false,\n//     });\n//   }\n// };\n//\n// export const getProductsAggr = async (req, res) => {\n//   try {\n//     const products = await productModel.aggregate([\n//       {\n//         $lookup: {\n//           from: \"categories\",\n//           localField: \"category\",\n//           foreignField: \"_id\",\n//           as: \"categoryData\",\n//         },\n//       },\n//       { $unwind: \"$categoryData\" },\n//     ]);\n//\n//     if (products) {\n//       return res.status(200).json({\n//         count: products.length,\n//         data: products,\n//         message: \"Fetched!\",\n//         success: true,\n//       });\n//     }\n//\n//     return res.status(400).json({\n//       message: \"Bad request\",\n//       success: false,\n//     });\n//   } catch (err) {\n//     return res.status(500).json({\n//       message: err.message,\n//       success: false,\n//     });\n//   }\n// };\n//\n// export const getProduct = async (req, res) => {\n//   try {\n//     const productid = req.params.productid;\n//     const product = await productModel.findById(productid).populate(\"category\");\n//\n//     if (product) {\n//       return res.status(200).json({\n//         data: product,\n//         message: \"Fetched!\",\n//         success: true,\n//       });\n//     }\n//\n//     return res.status(400).json({\n//       message: \"Bad request\",\n//       success: false,\n//     });\n//   } catch (err) {\n//     return res.status(500).json({\n//       message: err.message,\n//       success: false,\n//     });\n//   }\n// };\nexports.updateTicket = updateTicket;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdGlja2V0cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9mcyIsIl9wYXRoIiwiX3V0aWwiLCJfbW9uZ29vc2UiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZmlsZW5hbWUiLCJEYXRlIiwibm93IiwicGF0aCIsImV4dG5hbWUiLCJvcmlnaW5hbG5hbWUiLCJ1cGxvYWQiLCJ1cGxvYWRJbWFnZSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJzdWNjZXNzIiwibWVzc2FnZSIsImltYWdlVXJsIiwiY29uY2F0IiwiZXhwb3J0cyIsImRlbGV0ZUZpbGUiLCJmaWxlcGF0aCIsImZzIiwiZXhpc3RzU3luYyIsInVubGlua1N5bmMiLCJjYWxjdWxhdGVBZ2VJbkRheXMiLCJjcmVhdGVkQXQiLCJjcmVhdGVkQXREYXRlIiwiZGlmZlRpbWUiLCJNYXRoIiwiYWJzIiwiY2VpbCIsImdldE5leHRUaWNrZXRDb2RlIiwibGFzdFRpY2tldCIsIlRpY2tldCIsImZpbmRPbmUiLCJzb3J0IiwidGlja2V0Q29kZSIsImFkZFRpY2tldHMiLCJ1cGxvYWRGaWxlcyIsInRpdGxlIiwiZXhwbGFpbnByb2JsZW0iLCJ0eXBlb2ZmZWF0dXJlIiwidHlwZW9mcHJvYmxlbSIsInByaW9yaXR5Iiwib3duZXIiLCJhc3NpZ25lZGFnZW50IiwidXBkYXRlZCIsInVwZGF0ZWRieSIsInVzZXJtc2dzIiwic3VwcG9ydG1zZ3MiLCJib2R5IiwiaW1hZ2VzIiwiZmlsZXMiLCJtYXAiLCJuZXdUaWNrZXQiLCJzYXZlZFRpY2tldCIsInNhdmUiLCJhZ2VJbkRheXMiLCJjcmVhdGVkX2F0IiwianNvbiIsImRhdGEiLCJlcnIiLCJnZXRUaWNrZXRzIiwidGlja2V0cyIsImZpbmQiLCJjb3VudCIsImxlbmd0aCIsImdldFRpY2tldHNXaXRoVXNlckRldGFpbHMiLCJhZ2dyZWdhdGUiLCIkbG9va3VwIiwiZnJvbSIsImxvY2FsRmllbGQiLCJmb3JlaWduRmllbGQiLCJhcyIsIiR1bndpbmQiLCJwcmVzZXJ2ZU51bGxBbmRFbXB0eUFycmF5cyIsImdldFRpY2tldCIsInRpY2tldElkIiwicGFyYW1zIiwidGlja2V0aWQiLCJjb25zb2xlIiwibG9nIiwidGlja2V0IiwiZmluZEJ5SWQiLCJwb3B1bGF0ZSIsInVwZGF0ZVRpY2tldCIsInVwZGF0ZXMiLCJtb25nb29zZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJpc1ZhbGlkIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJ1cGRhdGVkVGlja2V0Il0sInNvdXJjZVJvb3QiOiJEOlxcRnVsbHN0YWNrIE1lcm5cXFJlYWN0XFx0aWNrZXRzbWFuYWdlbWVudGJhY2tlbmRcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbInRpY2tldHMuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVGlja2V0IGZyb20gXCIuLi9tb2RlbHMvdGlja2V0cy5tb2RlbFwiO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gXCJtdWx0ZXJcIjtcclxuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xyXG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xyXG5pbXBvcnQgdXRpbCBmcm9tIFwidXRpbFwiO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICBkZXN0aW5hdGlvbjogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNiKG51bGwsIFwidXBsb2Fkcy9cIik7XHJcbiAgfSxcclxuICBmaWxlbmFtZTogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNiKG51bGwsIERhdGUubm93KCkgKyBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpKTsgLy8gQXBwZW5kIGV4dGVuc2lvblxyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZTogc3RvcmFnZSB9KTtcclxuXHJcbmV4cG9ydCBjb25zdCB1cGxvYWRJbWFnZSA9IChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGZpbGUgPSByZXEuZmlsZTtcclxuICBpZiAoIWZpbGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiBcIk5vIGZpbGUgdXBsb2FkZWRcIixcclxuICAgIH0pO1xyXG4gIH1cclxuICBjb25zdCBpbWFnZVVybCA9IGBodHRwOi8vbG9jYWxob3N0OjgwMDMvdXBsb2Fkcy8ke2ZpbGUuZmlsZW5hbWV9YDtcclxuICByZXMuc2VuZCh7XHJcbiAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgaW1hZ2VVcmw6IGltYWdlVXJsLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuLy8gVXRpbGl0eSBmdW5jdGlvbiB0byBkZWxldGUgZmlsZVxyXG5jb25zdCBkZWxldGVGaWxlID0gKGZpbGVwYXRoKSA9PiB7XHJcbiAgaWYgKGZzLmV4aXN0c1N5bmMoZmlsZXBhdGgpKSB7XHJcbiAgICBmcy51bmxpbmtTeW5jKGZpbGVwYXRoKTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiB0byBjYWxjdWxhdGUgYWdlIGluIGRheXNcclxuY29uc3QgY2FsY3VsYXRlQWdlSW5EYXlzID0gKGNyZWF0ZWRBdCkgPT4ge1xyXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgY29uc3QgY3JlYXRlZEF0RGF0ZSA9IG5ldyBEYXRlKGNyZWF0ZWRBdCk7XHJcbiAgY29uc3QgZGlmZlRpbWUgPSBNYXRoLmFicyhub3cgLSBjcmVhdGVkQXREYXRlKTtcclxuICByZXR1cm4gTWF0aC5jZWlsKGRpZmZUaW1lIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTsgLy8gQ29udmVydCBtaWxsaXNlY29uZHMgdG8gZGF5c1xyXG59O1xyXG5cclxuY29uc3QgZ2V0TmV4dFRpY2tldENvZGUgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgbGFzdFRpY2tldCA9IGF3YWl0IFRpY2tldC5maW5kT25lKCkuc29ydCh7IHRpY2tldENvZGU6IC0xIH0pO1xyXG4gIHJldHVybiBsYXN0VGlja2V0ID8gbGFzdFRpY2tldC50aWNrZXRDb2RlICsgMSA6IDEwMDA7XHJcbn07XHJcblxyXG4vLyBBZGQgdGlja2V0IGZ1bmN0aW9uXHJcbmV4cG9ydCBjb25zdCBhZGRUaWNrZXRzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHVwbG9hZEZpbGVzKHJlcSwgcmVzKTtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHRpdGxlLFxyXG4gICAgICBleHBsYWlucHJvYmxlbSxcclxuICAgICAgdHlwZW9mZmVhdHVyZSxcclxuICAgICAgdHlwZW9mcHJvYmxlbSxcclxuICAgICAgcHJpb3JpdHksXHJcbiAgICAgIG93bmVyLFxyXG4gICAgICBzdGF0dXMsXHJcbiAgICAgIGFzc2lnbmVkYWdlbnQsXHJcbiAgICAgIHVwZGF0ZWQsXHJcbiAgICAgIHVwZGF0ZWRieSxcclxuICAgICAgdXNlcm1zZ3MsXHJcbiAgICAgIHN1cHBvcnRtc2dzLFxyXG4gICAgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGxldCBpbWFnZXMgPSBbXTtcclxuXHJcbiAgICBpZiAocmVxLmZpbGVzICYmIHJlcS5maWxlc1tcImltYWdlc1wiXSkge1xyXG4gICAgICBpbWFnZXMgPSByZXEuZmlsZXNbXCJpbWFnZXNcIl0ubWFwKChmaWxlKSA9PiBmaWxlLmZpbGVuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0aWNrZXRDb2RlID0gYXdhaXQgZ2V0TmV4dFRpY2tldENvZGUoKTtcclxuXHJcbiAgICBjb25zdCBuZXdUaWNrZXQgPSBuZXcgVGlja2V0KHtcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIGV4cGxhaW5wcm9ibGVtLFxyXG4gICAgICB0eXBlb2ZmZWF0dXJlLFxyXG4gICAgICB0eXBlb2Zwcm9ibGVtLFxyXG4gICAgICBwcmlvcml0eSxcclxuICAgICAgaW1hZ2VzLFxyXG4gICAgICBvd25lcixcclxuICAgICAgYXNzaWduZWRhZ2VudCxcclxuICAgICAgc3RhdHVzLFxyXG4gICAgICB1cGRhdGVkLFxyXG4gICAgICB1cGRhdGVkYnksXHJcbiAgICAgIHRpY2tldENvZGUsXHJcbiAgICAgIHVzZXJtc2dzLFxyXG4gICAgICBzdXBwb3J0bXNncyxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHNhdmVkVGlja2V0ID0gYXdhaXQgbmV3VGlja2V0LnNhdmUoKTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgYWdlIGluIGRheXMgYmFzZWQgb24gdGhlIHNhdmVkIHRpY2tldCdzIGNyZWF0aW9uIGRhdGVcclxuICAgIGNvbnN0IGFnZUluRGF5cyA9IGNhbGN1bGF0ZUFnZUluRGF5cyhzYXZlZFRpY2tldC5jcmVhdGVkX2F0KTtcclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIHRpY2tldCB3aXRoIHRoZSBjYWxjdWxhdGVkIGFnZVxyXG4gICAgc2F2ZWRUaWNrZXQuYWdlSW5EYXlzID0gYWdlSW5EYXlzO1xyXG4gICAgYXdhaXQgc2F2ZWRUaWNrZXQuc2F2ZSgpO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XHJcbiAgICAgIGRhdGE6IHNhdmVkVGlja2V0LFxyXG4gICAgICBtZXNzYWdlOiBcIk5ldyByZWNvcmQgYWRkZWRcIixcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gR2V0IHRpY2tldHMgZnVuY3Rpb25cclxuZXhwb3J0IGNvbnN0IGdldFRpY2tldHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdGlja2V0cyA9IGF3YWl0IFRpY2tldC5maW5kKCk7XHJcbiAgICBpZiAodGlja2V0cykge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIGNvdW50OiB0aWNrZXRzLmxlbmd0aCxcclxuICAgICAgICBkYXRhOiB0aWNrZXRzLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCBhbGwgdGlja2V0cyBzdWNjZXNzZnVsbHkhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBcIk5vIHRpY2tldHMgZm91bmRcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEdldCB0aWNrZXRzIHdpdGggdXNlciBkZXRhaWxzIGZ1bmN0aW9uXHJcbmV4cG9ydCBjb25zdCBnZXRUaWNrZXRzV2l0aFVzZXJEZXRhaWxzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRpY2tldHMgPSBhd2FpdCBUaWNrZXQuYWdncmVnYXRlKFtcclxuICAgICAge1xyXG4gICAgICAgICRsb29rdXA6IHtcclxuICAgICAgICAgIGZyb206IFwidXNlcnNcIixcclxuICAgICAgICAgIGxvY2FsRmllbGQ6IFwib3duZXJcIixcclxuICAgICAgICAgIGZvcmVpZ25GaWVsZDogXCJfaWRcIixcclxuICAgICAgICAgIGFzOiBcIm93bmVyRGV0YWlsc1wiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAkbG9va3VwOiB7XHJcbiAgICAgICAgICBmcm9tOiBcInVzZXJzXCIsXHJcbiAgICAgICAgICBsb2NhbEZpZWxkOiBcImFzc2lnbmVkYWdlbnRcIixcclxuICAgICAgICAgIGZvcmVpZ25GaWVsZDogXCJfaWRcIixcclxuICAgICAgICAgIGFzOiBcImFzc2lnbmVkYWdlbnREZXRhaWxzXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgICR1bndpbmQ6IHtcclxuICAgICAgICAgIHBhdGg6IFwiJG93bmVyRGV0YWlsc1wiLFxyXG4gICAgICAgICAgcHJlc2VydmVOdWxsQW5kRW1wdHlBcnJheXM6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgICR1bndpbmQ6IHtcclxuICAgICAgICAgIHBhdGg6IFwiJGFzc2lnbmVkYWdlbnREZXRhaWxzXCIsXHJcbiAgICAgICAgICBwcmVzZXJ2ZU51bGxBbmRFbXB0eUFycmF5czogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgXSk7XHJcblxyXG4gICAgaWYgKHRpY2tldHMubGVuZ3RoID4gMCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgIGNvdW50OiB0aWNrZXRzLmxlbmd0aCxcclxuICAgICAgICBkYXRhOiB0aWNrZXRzLFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCBhbGwgdGlja2V0cyBzdWNjZXNzZnVsbHkgd2l0aCB1c2VyIGRldGFpbHMhXCIsXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJObyB0aWNrZXRzIGZvdW5kXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgdGlja2V0IGZ1bmN0aW9uXHJcbmV4cG9ydCBjb25zdCBnZXRUaWNrZXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdGlja2V0SWQgPSByZXEucGFyYW1zLnRpY2tldGlkOyAvLyBDaGFuZ2VkIGZyb20gdGlja2V0Q29kZSB0byB0aWNrZXRpZFxyXG4gICAgY29uc29sZS5sb2codGlja2V0SWQpO1xyXG4gICAgY29uc3QgdGlja2V0ID0gYXdhaXQgVGlja2V0LmZpbmRCeUlkKHRpY2tldElkKVxyXG4gICAgICAucG9wdWxhdGUoXCJvd25lclwiKVxyXG4gICAgICAucG9wdWxhdGUoXCJhc3NpZ25lZGFnZW50XCIpO1xyXG5cclxuICAgIGlmICh0aWNrZXQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiB0aWNrZXQsXHJcbiAgICAgICAgbWVzc2FnZTogXCJGZXRjaGVkIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgIC8vIENoYW5nZWQgc3RhdHVzIHRvIDQwNCBmb3IgXCJOb3QgRm91bmRcIlxyXG4gICAgICBtZXNzYWdlOiBcIlRpY2tldCBub3QgZm91bmRcIixcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIFVwZGF0ZSB0aWNrZXQgZnVuY3Rpb25cclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVUaWNrZXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdGlja2V0SWQgPSByZXEucGFyYW1zLnRpY2tldGlkO1xyXG4gICAgY29uc3QgdXBkYXRlcyA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGlmICghbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQuaXNWYWxpZCh0aWNrZXRJZCkpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgdGlja2V0IElEXCIsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiUmVjZWl2ZWQgdXBkYXRlczpcIiwgdXBkYXRlcyk7XHJcblxyXG4gICAgY29uc3QgdGlja2V0ID0gYXdhaXQgVGlja2V0LmZpbmRCeUlkKHRpY2tldElkKTtcclxuICAgIGlmICghdGlja2V0KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJUaWNrZXQgbm90IGZvdW5kXCIsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGlmIHVwZGF0ZXMgY29udGFpbiBpbWFnZXNcclxuICAgIGlmICh1cGRhdGVzLmltYWdlcyAmJiB1cGRhdGVzLmltYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIC8vIEFwcGVuZCBuZXcgaW1hZ2VzIHRvIGV4aXN0aW5nIG9uZXNcclxuICAgICAgdGlja2V0LmltYWdlcyA9IFsuLi50aWNrZXQuaW1hZ2VzLCAuLi51cGRhdGVzLmltYWdlc107XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIG90aGVyIGZpZWxkc1xyXG4gICAgT2JqZWN0LmtleXModXBkYXRlcykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgIGlmIChrZXkgIT09IFwiaW1hZ2VzXCIpIHtcclxuICAgICAgICB0aWNrZXRba2V5XSA9IHVwZGF0ZXNba2V5XTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgdXBkYXRlZFRpY2tldCA9IGF3YWl0IHRpY2tldC5zYXZlKCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJVcGRhdGVkIHRpY2tldDpcIiwgdXBkYXRlZFRpY2tldCk7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgZGF0YTogdXBkYXRlZFRpY2tldCxcclxuICAgICAgbWVzc2FnZTogXCJUaWNrZXQgdXBkYXRlZCBzdWNjZXNzZnVsbHlcIixcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG4vLyBleHBvcnQgY29uc3QgZ2V0VGlja2V0c1dpdGhVc2VyRGV0YWlscyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4vLyAgIHRyeSB7XHJcbi8vICAgICBjb25zdCB0aWNrZXRzID0gYXdhaXQgVGlja2V0LmFnZ3JlZ2F0ZShbXHJcbi8vICAgICAgIHtcclxuLy8gICAgICAgICAkbG9va3VwOiB7XHJcbi8vICAgICAgICAgICBmcm9tOiBcInVzZXJzXCIsXHJcbi8vICAgICAgICAgICBsb2NhbEZpZWxkOiBcImFzc2lnbmVkYWdlbnRcIixcclxuLy8gICAgICAgICAgIGZvcmVpZ25GaWVsZDogXCJfaWRcIixcclxuLy8gICAgICAgICAgIGFzOiBcImFzc2lnbmVkYWdlbnREZXRhaWxzXCIsXHJcbi8vICAgICAgICAgfSxcclxuLy8gICAgICAgfSxcclxuLy8gICAgICAge1xyXG4vLyAgICAgICAgICRsb29rdXA6IHtcclxuLy8gICAgICAgICAgIGZyb206IFwidXNlcnNcIixcclxuLy8gICAgICAgICAgIGxvY2FsRmllbGQ6IFwib3duZXJcIixcclxuLy8gICAgICAgICAgIGZvcmVpZ25GaWVsZDogXCJfaWRcIixcclxuLy8gICAgICAgICAgIGFzOiBcIm93bmVyRGV0YWlsc1wiLFxyXG4vLyAgICAgICAgIH0sXHJcbi8vICAgICAgIH0sXHJcbi8vICAgICAgIHtcclxuLy8gICAgICAgICAkdW53aW5kOiB7XHJcbi8vICAgICAgICAgICBwYXRoOiBcIiRhc3NpZ25lZGFnZW50RGV0YWlsc1wiLFxyXG4vLyAgICAgICAgICAgcHJlc2VydmVOdWxsQW5kRW1wdHlBcnJheXM6IHRydWUsXHJcbi8vICAgICAgICAgfSxcclxuLy8gICAgICAgfSxcclxuLy8gICAgICAge1xyXG4vLyAgICAgICAgICR1bndpbmQ6IHtcclxuLy8gICAgICAgICAgIHBhdGg6IFwiJG93bmVyRGV0YWlsc1wiLFxyXG4vLyAgICAgICAgICAgcHJlc2VydmVOdWxsQW5kRW1wdHlBcnJheXM6IHRydWUsXHJcbi8vICAgICAgICAgfSxcclxuLy8gICAgICAgfSxcclxuLy8gICAgIF0pO1xyXG4vL1xyXG4vLyAgICAgaWYgKHRpY2tldHMubGVuZ3RoID4gMCkge1xyXG4vLyAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4vLyAgICAgICAgIGNvdW50OiB0aWNrZXRzLmxlbmd0aCxcclxuLy8gICAgICAgICBkYXRhOiB0aWNrZXRzLFxyXG4vLyAgICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCBhbGwgdGlja2V0cyBzdWNjZXNzZnVsbHkgd2l0aCB1c2VyIGRldGFpbHMhXCIsXHJcbi8vICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuLy8gICAgICAgfSk7XHJcbi8vICAgICB9XHJcbi8vXHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4vLyAgICAgICBtZXNzYWdlOiBcIk5vIHRpY2tldHMgZm91bmRcIixcclxuLy8gICAgICAgc3VjY2VzczogZmFsc2UsXHJcbi8vICAgICB9KTtcclxuLy8gICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbi8vICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4vLyAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuLy8gICAgIH0pO1xyXG4vLyAgIH1cclxuLy8gfTtcclxuXHJcbi8vXHJcbi8vIGV4cG9ydCBjb25zdCB1cGRhdGVQcm9kdWN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbi8vICAgdHJ5IHtcclxuLy8gICAgIGNvbnN0IHByb2R1Y3RpZCA9IHJlcS5wYXJhbXMucHJvZHVjdGlkO1xyXG4vLyAgICAgYXdhaXQgdXBsb2FkRmlsZXMocmVxLCByZXMpO1xyXG4vL1xyXG4vLyAgICAgY29uc3QgeyB0aXRsZSwgZGVzY3JpcHRpb24sIGF2YWlsYWJsZWluLCBwcmljZSwgcXVhbnRpdHksIGNhdGVnb3J5IH0gPVxyXG4vLyAgICAgICByZXEuYm9keTtcclxuLy9cclxuLy8gICAgIGxldCB0aHVtYm5haWwgPSByZXEuYm9keS50aHVtYm5haWw7XHJcbi8vICAgICBsZXQgaW1hZ2VzID0gcmVxLmJvZHkuaW1hZ2VzID8gcmVxLmJvZHkuaW1hZ2VzLnNwbGl0KFwiLFwiKSA6IFtdO1xyXG4vL1xyXG4vLyAgICAgaWYgKHJlcS5maWxlcykge1xyXG4vLyAgICAgICBpZiAocmVxLmZpbGVzW1widGh1bWJuYWlsXCJdICYmIHJlcS5maWxlc1tcInRodW1ibmFpbFwiXVswXSkge1xyXG4vLyAgICAgICAgIGNvbnN0IG9sZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWQocHJvZHVjdGlkKTtcclxuLy8gICAgICAgICBkZWxldGVGaWxlKGAuL3VwbG9hZHMvJHtvbGRQcm9kdWN0LnRodW1ibmFpbH1gKTtcclxuLy8gICAgICAgICB0aHVtYm5haWwgPSByZXEuZmlsZXNbXCJ0aHVtYm5haWxcIl1bMF0uZmlsZW5hbWU7XHJcbi8vICAgICAgIH1cclxuLy8gICAgICAgaWYgKHJlcS5maWxlc1tcImltYWdlc1wiXSkge1xyXG4vLyAgICAgICAgIGNvbnN0IG9sZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0TW9kZWwuZmluZEJ5SWQocHJvZHVjdGlkKTtcclxuLy8gICAgICAgICBvbGRQcm9kdWN0LmltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4gZGVsZXRlRmlsZShgLi91cGxvYWRzLyR7aW1hZ2V9YCkpO1xyXG4vLyAgICAgICAgIGltYWdlcyA9IHJlcS5maWxlc1tcImltYWdlc1wiXS5tYXAoKGZpbGUpID0+IGZpbGUuZmlsZW5hbWUpO1xyXG4vLyAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vXHJcbi8vICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZEFuZFVwZGF0ZShcclxuLy8gICAgICAgcHJvZHVjdGlkLFxyXG4vLyAgICAgICB7XHJcbi8vICAgICAgICAgdGl0bGUsXHJcbi8vICAgICAgICAgZGVzY3JpcHRpb24sXHJcbi8vICAgICAgICAgYXZhaWxhYmxlaW4sXHJcbi8vICAgICAgICAgcHJpY2UsXHJcbi8vICAgICAgICAgcXVhbnRpdHksXHJcbi8vICAgICAgICAgY2F0ZWdvcnksXHJcbi8vICAgICAgICAgdGh1bWJuYWlsLFxyXG4vLyAgICAgICAgIGltYWdlcyxcclxuLy8gICAgICAgfSxcclxuLy8gICAgICAgeyBuZXc6IHRydWUgfVxyXG4vLyAgICAgKTtcclxuLy9cclxuLy8gICAgIGlmICh1cGRhdGVkUHJvZHVjdCkge1xyXG4vLyAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4vLyAgICAgICAgIG1lc3NhZ2U6IFwiUHJvZHVjdCB1cGRhdGVkIHN1Y2Nlc3NmdWxseVwiLFxyXG4vLyAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbi8vICAgICAgICAgZGF0YTogdXBkYXRlZFByb2R1Y3QsXHJcbi8vICAgICAgIH0pO1xyXG4vLyAgICAgfVxyXG4vL1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuLy8gICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gdXBkYXRlIHByb2R1Y3RcIixcclxuLy8gICAgICAgc3VjY2VzczogZmFsc2UsXHJcbi8vICAgICB9KTtcclxuLy8gICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbi8vICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4vLyAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuLy8gICAgIH0pO1xyXG4vLyAgIH1cclxuLy8gfTtcclxuLy9cclxuLy8gZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuLy8gICB0cnkge1xyXG4vLyAgICAgY29uc3QgcHJvZHVjdGlkID0gcmVxLnBhcmFtcy5wcm9kdWN0aWQ7XHJcbi8vICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdE1vZGVsLmZpbmRCeUlkKHByb2R1Y3RpZCk7XHJcbi8vXHJcbi8vICAgICBpZiAoIXByb2R1Y3QpIHtcclxuLy8gICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuLy8gICAgICAgICBtZXNzYWdlOiBcIlByb2R1Y3Qgbm90IGZvdW5kXCIsXHJcbi8vICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbi8vICAgICAgIH0pO1xyXG4vLyAgICAgfVxyXG4vL1xyXG4vLyAgICAgaWYgKHByb2R1Y3QudGh1bWJuYWlsKSB7XHJcbi8vICAgICAgIGRlbGV0ZUZpbGUoYC4vdXBsb2Fkcy8ke3Byb2R1Y3QudGh1bWJuYWlsfWApO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgaWYgKHByb2R1Y3QuaW1hZ2VzICYmIHByb2R1Y3QuaW1hZ2VzLmxlbmd0aCA+IDApIHtcclxuLy8gICAgICAgcHJvZHVjdC5pbWFnZXMuZm9yRWFjaCgoaW1hZ2UpID0+IGRlbGV0ZUZpbGUoYC4vdXBsb2Fkcy8ke2ltYWdlfWApKTtcclxuLy8gICAgIH1cclxuLy9cclxuLy8gICAgIGF3YWl0IHByb2R1Y3RNb2RlbC5maW5kQnlJZEFuZERlbGV0ZShwcm9kdWN0aWQpO1xyXG4vL1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuLy8gICAgICAgbWVzc2FnZTogXCJQcm9kdWN0IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIsXHJcbi8vICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbi8vICAgICB9KTtcclxuLy8gICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbi8vICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4vLyAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuLy8gICAgIH0pO1xyXG4vLyAgIH1cclxuLy8gfTtcclxuLy9cclxuLy8gZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbi8vICAgdHJ5IHtcclxuLy8gICAgIGNvbnN0IHsgcGFnZSA9IDEsIGxpbWl0ID0gMTAsIHNlYXJjaCA9IFwiXCIsIHNvcnQgfSA9IHJlcS5xdWVyeTtcclxuLy8gICAgIGNvbnN0IHNraXBubyA9IGxpbWl0ICogKHBhZ2UgLSAxKTtcclxuLy8gICAgIGNvbnN0IHJneCA9IChwYXR0ZXJuKSA9PiBuZXcgUmVnRXhwKGAuKiR7cGF0dGVybn0uKmAsIFwiaVwiKTtcclxuLy8gICAgIGNvbnN0IHNlYXJjaFJneCA9IHJneChzZWFyY2gpO1xyXG4vL1xyXG4vLyAgICAgbGV0IGZpbHRlciA9IHNlYXJjaFxyXG4vLyAgICAgICA/IHtcclxuLy8gICAgICAgICAgICRvcjogW1xyXG4vLyAgICAgICAgICAgICB7IHRpdGxlOiB7ICRyZWdleDogc2VhcmNoUmd4IH0gfSxcclxuLy8gICAgICAgICAgICAgeyBkZXNjcmlwdGlvbjogeyAkcmVnZXg6IHNlYXJjaFJneCB9IH0sXHJcbi8vICAgICAgICAgICBdLFxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgOiB7fTtcclxuLy9cclxuLy8gICAgIGxldCBzb3J0VmFsdWUgPSBbXCJfaWRcIiwgMV07XHJcbi8vICAgICBpZiAoc29ydCA9PT0gXCJuZXdcIikgc29ydFZhbHVlID0gW1wiX2lkXCIsIC0xXTtcclxuLy8gICAgIGlmIChzb3J0ID09PSBcImx0aFwiKSBzb3J0VmFsdWUgPSBbXCJwcmljZVwiLCAxXTtcclxuLy8gICAgIGlmIChzb3J0ID09PSBcImh0bFwiKSBzb3J0VmFsdWUgPSBbXCJwcmljZVwiLCAtMV07XHJcbi8vXHJcbi8vICAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHByb2R1Y3RNb2RlbFxyXG4vLyAgICAgICAuZmluZChmaWx0ZXIpXHJcbi8vICAgICAgIC5wb3B1bGF0ZShcImNhdGVnb3J5XCIpXHJcbi8vICAgICAgIC5saW1pdChwYXJzZUludChsaW1pdCkpXHJcbi8vICAgICAgIC5za2lwKHNraXBubylcclxuLy8gICAgICAgLnNvcnQoW3NvcnRWYWx1ZV0pO1xyXG4vL1xyXG4vLyAgICAgaWYgKHByb2R1Y3RzKSB7XHJcbi8vICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbi8vICAgICAgICAgY291bnQ6IHByb2R1Y3RzLmxlbmd0aCxcclxuLy8gICAgICAgICBkYXRhOiBwcm9kdWN0cyxcclxuLy8gICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbi8vICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuLy8gICAgICAgfSk7XHJcbi8vICAgICB9XHJcbi8vXHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4vLyAgICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbi8vICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4vLyAgICAgfSk7XHJcbi8vICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4vLyAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuLy8gICAgICAgc3VjY2VzczogZmFsc2UsXHJcbi8vICAgICB9KTtcclxuLy8gICB9XHJcbi8vIH07XHJcbi8vXHJcbi8vIGV4cG9ydCBjb25zdCBnZXRQcm9kdWN0c0FnZ3IgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuLy8gICB0cnkge1xyXG4vLyAgICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBwcm9kdWN0TW9kZWwuYWdncmVnYXRlKFtcclxuLy8gICAgICAge1xyXG4vLyAgICAgICAgICRsb29rdXA6IHtcclxuLy8gICAgICAgICAgIGZyb206IFwiY2F0ZWdvcmllc1wiLFxyXG4vLyAgICAgICAgICAgbG9jYWxGaWVsZDogXCJjYXRlZ29yeVwiLFxyXG4vLyAgICAgICAgICAgZm9yZWlnbkZpZWxkOiBcIl9pZFwiLFxyXG4vLyAgICAgICAgICAgYXM6IFwiY2F0ZWdvcnlEYXRhXCIsXHJcbi8vICAgICAgICAgfSxcclxuLy8gICAgICAgfSxcclxuLy8gICAgICAgeyAkdW53aW5kOiBcIiRjYXRlZ29yeURhdGFcIiB9LFxyXG4vLyAgICAgXSk7XHJcbi8vXHJcbi8vICAgICBpZiAocHJvZHVjdHMpIHtcclxuLy8gICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuLy8gICAgICAgICBjb3VudDogcHJvZHVjdHMubGVuZ3RoLFxyXG4vLyAgICAgICAgIGRhdGE6IHByb2R1Y3RzLFxyXG4vLyAgICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCFcIixcclxuLy8gICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4vLyAgICAgICB9KTtcclxuLy8gICAgIH1cclxuLy9cclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbi8vICAgICAgIG1lc3NhZ2U6IFwiQmFkIHJlcXVlc3RcIixcclxuLy8gICAgICAgc3VjY2VzczogZmFsc2UsXHJcbi8vICAgICB9KTtcclxuLy8gICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbi8vICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4vLyAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuLy8gICAgIH0pO1xyXG4vLyAgIH1cclxuLy8gfTtcclxuLy9cclxuLy8gZXhwb3J0IGNvbnN0IGdldFByb2R1Y3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuLy8gICB0cnkge1xyXG4vLyAgICAgY29uc3QgcHJvZHVjdGlkID0gcmVxLnBhcmFtcy5wcm9kdWN0aWQ7XHJcbi8vICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdE1vZGVsLmZpbmRCeUlkKHByb2R1Y3RpZCkucG9wdWxhdGUoXCJjYXRlZ29yeVwiKTtcclxuLy9cclxuLy8gICAgIGlmIChwcm9kdWN0KSB7XHJcbi8vICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbi8vICAgICAgICAgZGF0YTogcHJvZHVjdCxcclxuLy8gICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQhXCIsXHJcbi8vICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuLy8gICAgICAgfSk7XHJcbi8vICAgICB9XHJcbi8vXHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4vLyAgICAgICBtZXNzYWdlOiBcIkJhZCByZXF1ZXN0XCIsXHJcbi8vICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4vLyAgICAgfSk7XHJcbi8vICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4vLyAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuLy8gICAgICAgc3VjY2VzczogZmFsc2UsXHJcbi8vICAgICB9KTtcclxuLy8gICB9XHJcbi8vIH07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsR0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksS0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssU0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQWdDLFNBQUFELHVCQUFBTyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWhDLE1BQU1HLE9BQU8sR0FBR0MsZUFBTSxDQUFDQyxXQUFXLENBQUM7RUFDakNDLFdBQVcsRUFBRSxTQUFBQSxDQUFVQyxHQUFHLEVBQUVDLElBQUksRUFBRUMsRUFBRSxFQUFFO0lBQ3BDQSxFQUFFLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQztFQUN0QixDQUFDO0VBQ0RDLFFBQVEsRUFBRSxTQUFBQSxDQUFVSCxHQUFHLEVBQUVDLElBQUksRUFBRUMsRUFBRSxFQUFFO0lBQ2pDQSxFQUFFLENBQUMsSUFBSSxFQUFFRSxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEdBQUdDLGFBQUksQ0FBQ0MsT0FBTyxDQUFDTixJQUFJLENBQUNPLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUMxRDtBQUNGLENBQUMsQ0FBQztBQUVGLE1BQU1DLE1BQU0sR0FBRyxJQUFBWixlQUFNLEVBQUM7RUFBRUQsT0FBTyxFQUFFQTtBQUFRLENBQUMs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RTtJQUNYLENBQUMsQ0FBQztFQUNKO0FBQ0YsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUFJLE9BQUEsQ0FBQW1FLFlBQUEsR0FBQUEsWUFBQSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_tickets","_interopRequireDefault","require","_multer","_fs","_path","_util","_mongoose","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","filename","Date","now","path","extname","originalname","upload","uploadImage","res","status","send","success","message","imageUrl","concat","exports","deleteFile","filepath","fs","existsSync","unlinkSync","calculateAgeInDays","createdAt","createdAtDate","diffTime","Math","abs","ceil","getNextTicketCode","lastTicket","Ticket","findOne","sort","ticketCode","addTickets","uploadFiles","title","explainproblem","typeoffeature","typeofproblem","priority","owner","assignedagent","updated","updatedby","usermsgs","supportmsgs","body","images","files","map","newTicket","savedTicket","save","ageInDays","created_at","json","data","err","getTickets","tickets","find","count","length","getTicketsWithUserDetails","aggregate","$lookup","from","localField","foreignField","as","$unwind","preserveNullAndEmptyArrays","getTicket","ticketId","params","ticketid","console","log","ticket","findById","populate","updateTicket","updates","mongoose","Types","ObjectId","isValid","Object","keys","forEach","key","updatedTicket"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\controllers\\","sources":["tickets.controller.js"],"sourcesContent":["import Ticket from \"../models/tickets.model\";\r\nimport multer from \"multer\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport util from \"util\";\r\nimport mongoose from \"mongoose\";\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    cb(null, \"uploads/\");\r\n  },\r\n  filename: function (req, file, cb) {\r\n    cb(null, Date.now() + path.extname(file.originalname)); // Append extension\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nexport const uploadImage = (req, res) => {\r\n  const file = req.file;\r\n  if (!file) {\r\n    return res.status(400).send({\r\n      success: false,\r\n      message: \"No file uploaded\",\r\n    });\r\n  }\r\n  const imageUrl = `http://localhost:8003/uploads/${file.filename}`;\r\n  res.send({\r\n    success: true,\r\n    imageUrl: imageUrl,\r\n  });\r\n};\r\n\r\n// Utility function to delete file\r\nconst deleteFile = (filepath) => {\r\n  if (fs.existsSync(filepath)) {\r\n    fs.unlinkSync(filepath);\r\n  }\r\n};\r\n\r\n// Function to calculate age in days\r\nconst calculateAgeInDays = (createdAt) => {\r\n  const now = new Date();\r\n  const createdAtDate = new Date(createdAt);\r\n  const diffTime = Math.abs(now - createdAtDate);\r\n  return Math.ceil(diffTime / (1000 * 60 * 60 * 24)); // Convert milliseconds to days\r\n};\r\n\r\nconst getNextTicketCode = async () => {\r\n  const lastTicket = await Ticket.findOne().sort({ ticketCode: -1 });\r\n  return lastTicket ? lastTicket.ticketCode + 1 : 1000;\r\n};\r\n\r\n// Add ticket function\r\nexport const addTickets = async (req, res) => {\r\n  try {\r\n    await uploadFiles(req, res);\r\n\r\n    const {\r\n      title,\r\n      explainproblem,\r\n      typeoffeature,\r\n      typeofproblem,\r\n      priority,\r\n      owner,\r\n      status,\r\n      assignedagent,\r\n      updated,\r\n      updatedby,\r\n      usermsgs,\r\n      supportmsgs,\r\n    } = req.body;\r\n\r\n    let images = [];\r\n\r\n    if (req.files && req.files[\"images\"]) {\r\n      images = req.files[\"images\"].map((file) => file.filename);\r\n    }\r\n\r\n    const ticketCode = await getNextTicketCode();\r\n\r\n    const newTicket = new Ticket({\r\n      title,\r\n      explainproblem,\r\n      typeoffeature,\r\n      typeofproblem,\r\n      priority,\r\n      images,\r\n      owner,\r\n      assignedagent,\r\n      status,\r\n      updated,\r\n      updatedby,\r\n      ticketCode,\r\n      usermsgs,\r\n      supportmsgs,\r\n    });\r\n\r\n    const savedTicket = await newTicket.save();\r\n\r\n    // Calculate age in days based on the saved ticket's creation date\r\n    const ageInDays = calculateAgeInDays(savedTicket.created_at);\r\n\r\n    // Update the ticket with the calculated age\r\n    savedTicket.ageInDays = ageInDays;\r\n    await savedTicket.save();\r\n\r\n    return res.status(201).json({\r\n      data: savedTicket,\r\n      message: \"New record added\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n// Get tickets function\r\nexport const getTickets = async (req, res) => {\r\n  try {\r\n    const tickets = await Ticket.find();\r\n    if (tickets) {\r\n      return res.status(200).json({\r\n        count: tickets.length,\r\n        data: tickets,\r\n        message: \"Fetched all tickets successfully!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(404).json({\r\n      message: \"No tickets found\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n// Get tickets with user details function\r\nexport const getTicketsWithUserDetails = async (req, res) => {\r\n  try {\r\n    const tickets = await Ticket.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: \"users\",\r\n          localField: \"owner\",\r\n          foreignField: \"_id\",\r\n          as: \"ownerDetails\",\r\n        },\r\n      },\r\n      {\r\n        $lookup: {\r\n          from: \"users\",\r\n          localField: \"assignedagent\",\r\n          foreignField: \"_id\",\r\n          as: \"assignedagentDetails\",\r\n        },\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: \"$ownerDetails\",\r\n          preserveNullAndEmptyArrays: true,\r\n        },\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: \"$assignedagentDetails\",\r\n          preserveNullAndEmptyArrays: true,\r\n        },\r\n      },\r\n    ]);\r\n\r\n    if (tickets.length > 0) {\r\n      return res.status(200).json({\r\n        count: tickets.length,\r\n        data: tickets,\r\n        message: \"Fetched all tickets successfully with user details!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(404).json({\r\n      message: \"No tickets found\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n// Get ticket function\r\nexport const getTicket = async (req, res) => {\r\n  try {\r\n    const ticketId = req.params.ticketid; // Changed from ticketCode to ticketid\r\n    console.log(ticketId);\r\n    const ticket = await Ticket.findById(ticketId)\r\n      .populate(\"owner\")\r\n      .populate(\"assignedagent\");\r\n\r\n    if (ticket) {\r\n      return res.status(200).json({\r\n        data: ticket,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(404).json({\r\n      // Changed status to 404 for \"Not Found\"\r\n      message: \"Ticket not found\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n// Update ticket function\r\n\r\nexport const updateTicket = async (req, res) => {\r\n  try {\r\n    const ticketId = req.params.ticketid;\r\n    const updates = req.body;\r\n\r\n    if (!mongoose.Types.ObjectId.isValid(ticketId)) {\r\n      return res.status(400).json({\r\n        message: \"Invalid ticket ID\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    console.log(\"Received updates:\", updates);\r\n\r\n    const ticket = await Ticket.findById(ticketId);\r\n    if (!ticket) {\r\n      return res.status(404).json({\r\n        message: \"Ticket not found\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    // Check if updates contain images\r\n    if (updates.images && updates.images.length > 0) {\r\n      // Append new images to existing ones\r\n      ticket.images = [...ticket.images, ...updates.images];\r\n    }\r\n\r\n    // Update other fields\r\n    Object.keys(updates).forEach((key) => {\r\n      if (key !== \"images\") {\r\n        ticket[key] = updates[key];\r\n      }\r\n    });\r\n\r\n    const updatedTicket = await ticket.save();\r\n\r\n    console.log(\"Updated ticket:\", updatedTicket);\r\n\r\n    return res.status(200).json({\r\n      data: updatedTicket,\r\n      message: \"Ticket updated successfully\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n// export const getTicketsWithUserDetails = async (req, res) => {\r\n//   try {\r\n//     const tickets = await Ticket.aggregate([\r\n//       {\r\n//         $lookup: {\r\n//           from: \"users\",\r\n//           localField: \"assignedagent\",\r\n//           foreignField: \"_id\",\r\n//           as: \"assignedagentDetails\",\r\n//         },\r\n//       },\r\n//       {\r\n//         $lookup: {\r\n//           from: \"users\",\r\n//           localField: \"owner\",\r\n//           foreignField: \"_id\",\r\n//           as: \"ownerDetails\",\r\n//         },\r\n//       },\r\n//       {\r\n//         $unwind: {\r\n//           path: \"$assignedagentDetails\",\r\n//           preserveNullAndEmptyArrays: true,\r\n//         },\r\n//       },\r\n//       {\r\n//         $unwind: {\r\n//           path: \"$ownerDetails\",\r\n//           preserveNullAndEmptyArrays: true,\r\n//         },\r\n//       },\r\n//     ]);\r\n//\r\n//     if (tickets.length > 0) {\r\n//       return res.status(200).json({\r\n//         count: tickets.length,\r\n//         data: tickets,\r\n//         message: \"Fetched all tickets successfully with user details!\",\r\n//         success: true,\r\n//       });\r\n//     }\r\n//\r\n//     return res.status(404).json({\r\n//       message: \"No tickets found\",\r\n//       success: false,\r\n//     });\r\n//   } catch (err) {\r\n//     return res.status(500).json({\r\n//       message: err.message,\r\n//       success: false,\r\n//     });\r\n//   }\r\n// };\r\n\r\n//\r\n// export const updateProduct = async (req, res) => {\r\n//   try {\r\n//     const productid = req.params.productid;\r\n//     await uploadFiles(req, res);\r\n//\r\n//     const { title, description, availablein, price, quantity, category } =\r\n//       req.body;\r\n//\r\n//     let thumbnail = req.body.thumbnail;\r\n//     let images = req.body.images ? req.body.images.split(\",\") : [];\r\n//\r\n//     if (req.files) {\r\n//       if (req.files[\"thumbnail\"] && req.files[\"thumbnail\"][0]) {\r\n//         const oldProduct = await productModel.findById(productid);\r\n//         deleteFile(`./uploads/${oldProduct.thumbnail}`);\r\n//         thumbnail = req.files[\"thumbnail\"][0].filename;\r\n//       }\r\n//       if (req.files[\"images\"]) {\r\n//         const oldProduct = await productModel.findById(productid);\r\n//         oldProduct.images.forEach((image) => deleteFile(`./uploads/${image}`));\r\n//         images = req.files[\"images\"].map((file) => file.filename);\r\n//       }\r\n//     }\r\n//\r\n//     const updatedProduct = await productModel.findByIdAndUpdate(\r\n//       productid,\r\n//       {\r\n//         title,\r\n//         description,\r\n//         availablein,\r\n//         price,\r\n//         quantity,\r\n//         category,\r\n//         thumbnail,\r\n//         images,\r\n//       },\r\n//       { new: true }\r\n//     );\r\n//\r\n//     if (updatedProduct) {\r\n//       return res.status(200).json({\r\n//         message: \"Product updated successfully\",\r\n//         success: true,\r\n//         data: updatedProduct,\r\n//       });\r\n//     }\r\n//\r\n//     return res.status(400).json({\r\n//       message: \"Failed to update product\",\r\n//       success: false,\r\n//     });\r\n//   } catch (err) {\r\n//     return res.status(500).json({\r\n//       message: err.message,\r\n//       success: false,\r\n//     });\r\n//   }\r\n// };\r\n//\r\n// export const deleteProduct = async (req, res) => {\r\n//   try {\r\n//     const productid = req.params.productid;\r\n//     const product = await productModel.findById(productid);\r\n//\r\n//     if (!product) {\r\n//       return res.status(404).json({\r\n//         message: \"Product not found\",\r\n//         success: false,\r\n//       });\r\n//     }\r\n//\r\n//     if (product.thumbnail) {\r\n//       deleteFile(`./uploads/${product.thumbnail}`);\r\n//     }\r\n//     if (product.images && product.images.length > 0) {\r\n//       product.images.forEach((image) => deleteFile(`./uploads/${image}`));\r\n//     }\r\n//\r\n//     await productModel.findByIdAndDelete(productid);\r\n//\r\n//     return res.status(200).json({\r\n//       message: \"Product deleted successfully\",\r\n//       success: true,\r\n//     });\r\n//   } catch (err) {\r\n//     return res.status(500).json({\r\n//       message: err.message,\r\n//       success: false,\r\n//     });\r\n//   }\r\n// };\r\n//\r\n// export const getProducts = async (req, res) => {\r\n//   try {\r\n//     const { page = 1, limit = 10, search = \"\", sort } = req.query;\r\n//     const skipno = limit * (page - 1);\r\n//     const rgx = (pattern) => new RegExp(`.*${pattern}.*`, \"i\");\r\n//     const searchRgx = rgx(search);\r\n//\r\n//     let filter = search\r\n//       ? {\r\n//           $or: [\r\n//             { title: { $regex: searchRgx } },\r\n//             { description: { $regex: searchRgx } },\r\n//           ],\r\n//         }\r\n//       : {};\r\n//\r\n//     let sortValue = [\"_id\", 1];\r\n//     if (sort === \"new\") sortValue = [\"_id\", -1];\r\n//     if (sort === \"lth\") sortValue = [\"price\", 1];\r\n//     if (sort === \"htl\") sortValue = [\"price\", -1];\r\n//\r\n//     const products = await productModel\r\n//       .find(filter)\r\n//       .populate(\"category\")\r\n//       .limit(parseInt(limit))\r\n//       .skip(skipno)\r\n//       .sort([sortValue]);\r\n//\r\n//     if (products) {\r\n//       return res.status(200).json({\r\n//         count: products.length,\r\n//         data: products,\r\n//         message: \"Fetched!\",\r\n//         success: true,\r\n//       });\r\n//     }\r\n//\r\n//     return res.status(400).json({\r\n//       message: \"Bad request\",\r\n//       success: false,\r\n//     });\r\n//   } catch (err) {\r\n//     return res.status(500).json({\r\n//       message: err.message,\r\n//       success: false,\r\n//     });\r\n//   }\r\n// };\r\n//\r\n// export const getProductsAggr = async (req, res) => {\r\n//   try {\r\n//     const products = await productModel.aggregate([\r\n//       {\r\n//         $lookup: {\r\n//           from: \"categories\",\r\n//           localField: \"category\",\r\n//           foreignField: \"_id\",\r\n//           as: \"categoryData\",\r\n//         },\r\n//       },\r\n//       { $unwind: \"$categoryData\" },\r\n//     ]);\r\n//\r\n//     if (products) {\r\n//       return res.status(200).json({\r\n//         count: products.length,\r\n//         data: products,\r\n//         message: \"Fetched!\",\r\n//         success: true,\r\n//       });\r\n//     }\r\n//\r\n//     return res.status(400).json({\r\n//       message: \"Bad request\",\r\n//       success: false,\r\n//     });\r\n//   } catch (err) {\r\n//     return res.status(500).json({\r\n//       message: err.message,\r\n//       success: false,\r\n//     });\r\n//   }\r\n// };\r\n//\r\n// export const getProduct = async (req, res) => {\r\n//   try {\r\n//     const productid = req.params.productid;\r\n//     const product = await productModel.findById(productid).populate(\"category\");\r\n//\r\n//     if (product) {\r\n//       return res.status(200).json({\r\n//         data: product,\r\n//         message: \"Fetched!\",\r\n//         success: true,\r\n//       });\r\n//     }\r\n//\r\n//     return res.status(400).json({\r\n//       message: \"Bad request\",\r\n//       success: false,\r\n//     });\r\n//   } catch (err) {\r\n//     return res.status(500).json({\r\n//       message: err.message,\r\n//       success: false,\r\n//     });\r\n//   }\r\n// };\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,KAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,SAAA,GAAAN,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAO,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,OAAO,GAAGC,eAAM,CAACC,WAAW,CAAC;EACjCC,WAAW,EAAE,SAAAA,CAAUC,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACpCA,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC;EACtB,CAAC;EACDC,QAAQ,EAAE,SAAAA,CAAUH,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACjCA,EAAE,CAAC,IAAI,EAAEE,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGC,aAAI,CAACC,OAAO,CAACN,IAAI,CAACO,YAAY,CAAC,CAAC,CAAC,CAAC;EAC1D;AACF,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAG,IAAAZ,eAAM,EAAC;EAAED,OAAO,EAAEA;AAAQ,CAAC,CAAC;AAEpC,MAAMc,WAAW,GAAGA,CAACV,GAAG,EAAEW,GAAG,KAAK;EACvC,MAAMV,IAAI,GAAGD,GAAG,CAACC,IAAI;EACrB,IAAI,CAACA,IAAI,EAAE;IACT,OAAOU,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAC1BC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;EACA,MAAMC,QAAQ,oCAAAC,MAAA,CAAoChB,IAAI,CAACE,QAAQ,CAAE;EACjEQ,GAAG,CAACE,IAAI,CAAC;IACPC,OAAO,EAAE,IAAI;IACbE,QAAQ,EAAEA;EACZ,CAAC,CAAC;AACJ,CAAC;;AAED;AAAAE,OAAA,CAAAR,WAAA,GAAAA,WAAA;AACA,MAAMS,UAAU,GAAIC,QAAQ,IAAK;EAC/B,IAAIC,WAAE,CAACC,UAAU,CAACF,QAAQ,CAAC,EAAE;IAC3BC,WAAE,CAACE,UAAU,CAACH,QAAQ,CAAC;EACzB;AACF,CAAC;;AAED;AACA,MAAMI,kBAAkB,GAAIC,SAAS,IAAK;EACxC,MAAMpB,GAAG,GAAG,IAAID,IAAI,CAAC,CAAC;EACtB,MAAMsB,aAAa,GAAG,IAAItB,IAAI,CAACqB,SAAS,CAAC;EACzC,MAAME,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAACxB,GAAG,GAAGqB,aAAa,CAAC;EAC9C,OAAOE,IAAI,CAACE,IAAI,CAACH,QAAQ,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;AACtD,CAAC;AAED,MAAMI,iBAAiB,GAAG,MAAAA,CAAA,KAAY;EACpC,MAAMC,UAAU,GAAG,MAAMC,gBAAM,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC;IAAEC,UAAU,EAAE,CAAC;EAAE,CAAC,CAAC;EAClE,OAAOJ,UAAU,GAAGA,UAAU,CAACI,UAAU,GAAG,CAAC,GAAG,IAAI;AACtD,CAAC;;AAED;AACO,MAAMC,UAAU,GAAG,MAAAA,CAAOrC,GAAG,EAAEW,GAAG,KAAK;EAC5C,IAAI;IACF,MAAM2B,WAAW,CAACtC,GAAG,EAAEW,GAAG,CAAC;IAE3B,MAAM;MACJ4B,KAAK;MACLC,cAAc;MACdC,aAAa;MACbC,aAAa;MACbC,QAAQ;MACRC,KAAK;MACLhC,MAAM;MACNiC,aAAa;MACbC,OAAO;MACPC,SAAS;MACTC,QAAQ;MACRC;IACF,CAAC,GAAGjD,GAAG,CAACkD,IAAI;IAEZ,IAAIC,MAAM,GAAG,EAAE;IAEf,IAAInD,GAAG,CAACoD,KAAK,IAAIpD,GAAG,CAACoD,KAAK,CAAC,QAAQ,CAAC,EAAE;MACpCD,MAAM,GAAGnD,GAAG,CAACoD,KAAK,CAAC,QAAQ,CAAC,CAACC,GAAG,CAAEpD,IAAI,IAAKA,IAAI,CAACE,QAAQ,CAAC;IAC3D;IAEA,MAAMiC,UAAU,GAAG,MAAML,iBAAiB,CAAC,CAAC;IAE5C,MAAMuB,SAAS,GAAG,IAAIrB,gBAAM,CAAC;MAC3BM,KAAK;MACLC,cAAc;MACdC,aAAa;MACbC,aAAa;MACbC,QAAQ;MACRQ,MAAM;MACNP,KAAK;MACLC,aAAa;MACbjC,MAAM;MACNkC,OAAO;MACPC,SAAS;MACTX,UAAU;MACVY,QAAQ;MACRC;IACF,CAAC,CAAC;IAEF,MAAMM,WAAW,GAAG,MAAMD,SAAS,CAACE,IAAI,CAAC,CAAC;;IAE1C;IACA,MAAMC,SAAS,GAAGjC,kBAAkB,CAAC+B,WAAW,CAACG,UAAU,CAAC;;IAE5D;IACAH,WAAW,CAACE,SAAS,GAAGA,SAAS;IACjC,MAAMF,WAAW,CAACC,IAAI,CAAC,CAAC;IAExB,OAAO7C,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;MAC1BC,IAAI,EAAEL,WAAW;MACjBxC,OAAO,EAAE,kBAAkB;MAC3BD,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAO+C,GAAG,EAAE;IACZ,OAAOlD,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;MAC1B5C,OAAO,EAAE8C,GAAG,CAAC9C,OAAO;MACpBD,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;;AAED;AAAAI,OAAA,CAAAmB,UAAA,GAAAA,UAAA;AACO,MAAMyB,UAAU,GAAG,MAAAA,CAAO9D,GAAG,EAAEW,GAAG,KAAK;EAC5C,IAAI;IACF,MAAMoD,OAAO,GAAG,MAAM9B,gBAAM,CAAC+B,IAAI,CAAC,CAAC;IACnC,IAAID,OAAO,EAAE;MACX,OAAOpD,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;QAC1BM,KAAK,EAAEF,OAAO,CAACG,MAAM;QACrBN,IAAI,EAAEG,OAAO;QACbhD,OAAO,EAAE,mCAAmC;QAC5CD,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,OAAOH,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;MAC1B5C,OAAO,EAAE,kBAAkB;MAC3BD,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAO+C,GAAG,EAAE;IACZ,OAAOlD,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;MAC1B5C,OAAO,EAAE8C,GAAG,CAAC9C,OAAO;MACpBD,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;;AAED;AAAAI,OAAA,CAAA4C,UAAA,GAAAA,UAAA;AACO,MAAMK,yBAAyB,GAAG,MAAAA,CAAOnE,GAAG,EAAEW,GAAG,KAAK;EAC3D,IAAI;IACF,MAAMoD,OAAO,GAAG,MAAM9B,gBAAM,CAACmC,SAAS,CAAC,CACrC;MACEC,OAAO,EAAE;QACPC,IAAI,EAAE,OAAO;QACbC,UAAU,EAAE,OAAO;QACnBC,YAAY,EAAE,KAAK;QACnBC,EAAE,EAAE;MACN;IACF,CAAC,EACD;MACEJ,OAAO,EAAE;QACPC,IAAI,EAAE,OAAO;QACbC,UAAU,EAAE,eAAe;QAC3BC,YAAY,EAAE,KAAK;QACnBC,EAAE,EAAE;MACN;IACF,CAAC,EACD;MACEC,OAAO,EAAE;QACPpE,IAAI,EAAE,eAAe;QACrBqE,0BAA0B,EAAE;MAC9B;IACF,CAAC,EACD;MACED,OAAO,EAAE;QACPpE,IAAI,EAAE,uBAAuB;QAC7BqE,0BAA0B,EAAE;MAC9B;IACF,CAAC,CACF,CAAC;IAEF,IAAIZ,OAAO,CAACG,MAAM,GAAG,CAAC,EAAE;MACtB,OAAOvD,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;QAC1BM,KAAK,EAAEF,OAAO,CAACG,MAAM;QACrBN,IAAI,EAAEG,OAAO;QACbhD,OAAO,EAAE,qDAAqD;QAC9DD,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IAEA,OAAOH,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;MAC1B5C,OAAO,EAAE,kBAAkB;MAC3BD,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAO+C,GAAG,EAAE;IACZ,OAAOlD,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;MAC1B5C,OAAO,EAAE8C,GAAG,CAAC9C,OAAO;MACpBD,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;;AAED;AAAAI,OAAA,CAAAiD,yBAAA,GAAAA,yBAAA;AACO,MAAMS,SAAS,GAAG,MAAAA,CAAO5E,GAAG,EAAEW,GAAG,KAAK;EAC3C,IAAI;IACF,MAAMkE,QAAQ,GAAG7E,GAAG,CAAC8E,MAAM,CAACC,QAAQ,CAAC,CAAC;IACtCC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;IACrB,MAAMK,MAAM,GAAG,MAAMjD,gBAAM,CAACkD,QAAQ,CAACN,QAAQ,CAAC,CAC3CO,QAAQ,CAAC,OAAO,CAAC,CACjBA,QAAQ,CAAC,eAAe,CAAC;IAE5B,IAAIF,MAAM,EAAE;MACV,OAAOvE,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;QAC1BC,IAAI,EAAEsB,MAAM;QACZnE,OAAO,EAAE,UAAU;QACnBD,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IAEA,OAAOH,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;MAC1B;MACA5C,OAAO,EAAE,kBAAkB;MAC3BD,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAO+C,GAAG,EAAE;IACZ,OAAOlD,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;MAC1B5C,OAAO,EAAE8C,GAAG,CAAC9C,OAAO;MACpBD,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;;AAED;AAAAI,OAAA,CAAA0D,SAAA,GAAAA,SAAA;AAEO,MAAMS,YAAY,GAAG,MAAAA,CAAOrF,GAAG,EAAEW,GAAG,KAAK;EAC9C,IAAI;IACF,MAAMkE,QAAQ,GAAG7E,GAAG,CAAC8E,MAAM,CAACC,QAAQ;IACpC,MAAMO,OAAO,GAAGtF,GAAG,CAACkD,IAAI;IAExB,IAAI,CAACqC,iBAAQ,CAACC,KAAK,CAACC,QAAQ,CAACC,OAAO,CAACb,QAAQ,CAAC,EAAE;MAC9C,OAAOlE,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;QAC1B5C,OAAO,EAAE,mBAAmB;QAC5BD,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IAEAkE,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEK,OAAO,CAAC;IAEzC,MAAMJ,MAAM,GAAG,MAAMjD,gBAAM,CAACkD,QAAQ,CAACN,QAAQ,CAAC;IAC9C,IAAI,CAACK,MAAM,EAAE;MACX,OAAOvE,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;QAC1B5C,OAAO,EAAE,kBAAkB;QAC3BD,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;;IAEA;IACA,IAAIwE,OAAO,CAACnC,MAAM,IAAImC,OAAO,CAACnC,MAAM,CAACe,MAAM,GAAG,CAAC,EAAE;MAC/C;MACAgB,MAAM,CAAC/B,MAAM,GAAG,CAAC,GAAG+B,MAAM,CAAC/B,MAAM,EAAE,GAAGmC,OAAO,CAACnC,MAAM,CAAC;IACvD;;IAEA;IACAwC,MAAM,CAACC,IAAI,CAACN,OAAO,CAAC,CAACO,OAAO,CAAEC,GAAG,IAAK;MACpC,IAAIA,GAAG,KAAK,QAAQ,EAAE;QACpBZ,MAAM,CAACY,GAAG,CAAC,GAAGR,OAAO,CAACQ,GAAG,CAAC;MAC5B;IACF,CAAC,CAAC;IAEF,MAAMC,aAAa,GAAG,MAAMb,MAAM,CAAC1B,IAAI,CAAC,CAAC;IAEzCwB,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEc,aAAa,CAAC;IAE7C,OAAOpF,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;MAC1BC,IAAI,EAAEmC,aAAa;MACnBhF,OAAO,EAAE,6BAA6B;MACtCD,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC,OAAO+C,GAAG,EAAE;IACZ,OAAOlD,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAAC+C,IAAI,CAAC;MAC1B5C,OAAO,EAAE8C,GAAG,CAAC9C,OAAO;MACpBD,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;AACF,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAAI,OAAA,CAAAmE,YAAA,GAAAA,YAAA","ignoreList":[]}},"mtime":1717584533081},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"filename\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\\\\controllers\\\\tickets.controller.js\",\"targets\":{\"android\":\"122.0.0\",\"chrome\":\"109.0.0\",\"edge\":\"120.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"106.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Fullstack Mern\\\\React\\\\ticketsmanagementbackend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.3:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateTicket = exports.getTicketsWithUserDetails = exports.getTickets = exports.getTicket = exports.addTickets = void 0;\nvar _tickets = _interopRequireDefault(require(\"../models/tickets.model\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _util = _interopRequireDefault(require(\"util\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    const uploadPath = \"./uploads\";\n    if (!_fs.default.existsSync(uploadPath)) {\n      _fs.default.mkdirSync(uploadPath);\n    }\n    cb(null, uploadPath);\n  },\n  filename: function (req, file, cb) {\n    const ext = _path.default.extname(file.originalname);\n    const name = _path.default.basename(file.originalname, ext);\n    const fullname = \"\".concat(name, \"-\").concat(Date.now(), \"-\").concat(Math.round(Math.random() * 1e9)).concat(ext);\n    cb(null, fullname);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst uploadFiles = _util.default.promisify(upload.fields([{\n  name: \"images\",\n  maxCount: 10\n}]));\n\n// Utility function to delete file\nconst deleteFile = filepath => {\n  if (_fs.default.existsSync(filepath)) {\n    _fs.default.unlinkSync(filepath);\n  }\n};\n\n// Function to calculate age in days\nconst calculateAgeInDays = createdAt => {\n  const now = new Date();\n  const createdAtDate = new Date(createdAt);\n  const diffTime = Math.abs(now - createdAtDate);\n  return Math.ceil(diffTime / (1000 * 60 * 60 * 24)); // Convert milliseconds to days\n};\nconst getNextTicketCode = async () => {\n  const lastTicket = await _tickets.default.findOne().sort({\n    ticketCode: -1\n  });\n  return lastTicket ? lastTicket.ticketCode + 1 : 1000;\n};\n\n// Add ticket function\nconst addTickets = async (req, res) => {\n  try {\n    await uploadFiles(req, res);\n    const {\n      title,\n      explainproblem,\n      typeoffeature,\n      typeofproblem,\n      priority,\n      owner,\n      status,\n      assignedagent,\n      updated,\n      updatedby,\n      usermsgs,\n      supportmsgs\n    } = req.body;\n    let images = [];\n    if (req.files && req.files[\"images\"]) {\n      images = req.files[\"images\"].map(file => file.filename);\n    }\n    const ticketCode = await getNextTicketCode();\n    const newTicket = new _tickets.default({\n      title,\n      explainproblem,\n      typeoffeature,\n      typeofproblem,\n      priority,\n      images,\n      owner,\n      assignedagent,\n      status,\n      updated,\n      updatedby,\n      ticketCode,\n      usermsgs,\n      supportmsgs\n    });\n    const savedTicket = await newTicket.save();\n\n    // Calculate age in days based on the saved ticket's creation date\n    const ageInDays = calculateAgeInDays(savedTicket.created_at);\n\n    // Update the ticket with the calculated age\n    savedTicket.ageInDays = ageInDays;\n    await savedTicket.save();\n    return res.status(201).json({\n      data: savedTicket,\n      message: \"New record added\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n// Get tickets function\nexports.addTickets = addTickets;\nconst getTickets = async (req, res) => {\n  try {\n    const tickets = await _tickets.default.find();\n    if (tickets) {\n      return res.status(200).json({\n        count: tickets.length,\n        data: tickets,\n        message: \"Fetched all tickets successfully!\",\n        success: true\n      });\n    }\n    return res.status(404).json({\n      message: \"No tickets found\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n// Get tickets with user details function\nexports.getTickets = getTickets;\nconst getTicketsWithUserDetails = async (req, res) => {\n  try {\n    const tickets = await _tickets.default.aggregate([{\n      $lookup: {\n        from: \"users\",\n        localField: \"owner\",\n        foreignField: \"_id\",\n        as: \"ownerDetails\"\n      }\n    }, {\n      $lookup: {\n        from: \"users\",\n        localField: \"assignedagent\",\n        foreignField: \"_id\",\n        as: \"assignedagentDetails\"\n      }\n    }, {\n      $unwind: {\n        path: \"$ownerDetails\",\n        preserveNullAndEmptyArrays: true\n      }\n    }, {\n      $unwind: {\n        path: \"$assignedagentDetails\",\n        preserveNullAndEmptyArrays: true\n      }\n    }]);\n    if (tickets.length > 0) {\n      return res.status(200).json({\n        count: tickets.length,\n        data: tickets,\n        message: \"Fetched all tickets successfully with user details!\",\n        success: true\n      });\n    }\n    return res.status(404).json({\n      message: \"No tickets found\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n// Get ticket function\nexports.getTicketsWithUserDetails = getTicketsWithUserDetails;\nconst getTicket = async (req, res) => {\n  try {\n    const ticketId = req.params.ticketid; // Changed from ticketCode to ticketid\n    console.log(ticketId);\n    const ticket = await _tickets.default.findById(ticketId).populate(\"owner\").populate(\"assignedagent\");\n    if (ticket) {\n      return res.status(200).json({\n        data: ticket,\n        message: \"Fetched!\",\n        success: true\n      });\n    }\n    return res.status(404).json({\n      // Changed status to 404 for \"Not Found\"\n      message: \"Ticket not found\",\n      success: false\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\n\n// Update ticket function\nexports.getTicket = getTicket;\nconst updateTicket = async (req, res) => {\n  try {\n    const ticketId = req.params.ticketid;\n    const updates = req.body;\n    if (!_mongoose.default.Types.ObjectId.isValid(ticketId)) {\n      return res.status(400).json({\n        message: \"Invalid ticket ID\",\n        success: false\n      });\n    }\n    const ticket = await _tickets.default.findById(ticketId);\n    if (!ticket) {\n      return res.status(404).json({\n        message: \"Ticket not found\",\n        success: false\n      });\n    }\n\n    // Check if updates contain images\n    if (updates.images && updates.images.length > 0) {\n      // Append new images to existing ones\n      ticket.images = [...ticket.images, ...updates.images];\n    }\n\n    // Update other fields\n    Object.keys(updates).forEach(key => {\n      if (key !== \"images\") {\n        ticket[key] = updates[key];\n      }\n    });\n    const updatedTicket = await ticket.save();\n\n    // // Populate the 'assignedagent' field with user data\n    // await updatedTicket.populate(\"assignedagent\").execPopulate();\n\n    return res.status(200).json({\n      data: updatedTicket,\n      message: \"Ticket updated successfully\",\n      success: true\n    });\n  } catch (err) {\n    return res.status(500).json({\n      message: err.message,\n      success: false\n    });\n  }\n};\nexports.updateTicket = updateTicket;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdGlja2V0cyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9mcyIsIl9wYXRoIiwiX3V0aWwiLCJfbW9uZ29vc2UiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwidXBsb2FkUGF0aCIsImZzIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsImZpbGVuYW1lIiwiZXh0IiwicGF0aCIsImV4dG5hbWUiLCJvcmlnaW5hbG5hbWUiLCJuYW1lIiwiYmFzZW5hbWUiLCJmdWxsbmFtZSIsImNvbmNhdCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJ1cGxvYWQiLCJ1cGxvYWRGaWxlcyIsInV0aWwiLCJwcm9taXNpZnkiLCJmaWVsZHMiLCJtYXhDb3VudCIsImRlbGV0ZUZpbGUiLCJmaWxlcGF0aCIsInVubGlua1N5bmMiLCJjYWxjdWxhdGVBZ2VJbkRheXMiLCJjcmVhdGVkQXQiLCJjcmVhdGVkQXREYXRlIiwiZGlmZlRpbWUiLCJhYnMiLCJjZWlsIiwiZ2V0TmV4dFRpY2tldENvZGUiLCJsYXN0VGlja2V0IiwiVGlja2V0IiwiZmluZE9uZSIsInNvcnQiLCJ0aWNrZXRDb2RlIiwiYWRkVGlja2V0cyIsInJlcyIsInRpdGxlIiwiZXhwbGFpbnByb2JsZW0iLCJ0eXBlb2ZmZWF0dXJlIiwidHlwZW9mcHJvYmxlbSIsInByaW9yaXR5Iiwib3duZXIiLCJzdGF0dXMiLCJhc3NpZ25lZGFnZW50IiwidXBkYXRlZCIsInVwZGF0ZWRieSIsInVzZXJtc2dzIiwic3VwcG9ydG1zZ3MiLCJib2R5IiwiaW1hZ2VzIiwiZmlsZXMiLCJtYXAiLCJuZXdUaWNrZXQiLCJzYXZlZFRpY2tldCIsInNhdmUiLCJhZ2VJbkRheXMiLCJjcmVhdGVkX2F0IiwianNvbiIsImRhdGEiLCJtZXNzYWdlIiwic3VjY2VzcyIsImVyciIsImV4cG9ydHMiLCJnZXRUaWNrZXRzIiwidGlja2V0cyIsImZpbmQiLCJjb3VudCIsImxlbmd0aCIsImdldFRpY2tldHNXaXRoVXNlckRldGFpbHMiLCJhZ2dyZWdhdGUiLCIkbG9va3VwIiwiZnJvbSIsImxvY2FsRmllbGQiLCJmb3JlaWduRmllbGQiLCJhcyIsIiR1bndpbmQiLCJwcmVzZXJ2ZU51bGxBbmRFbXB0eUFycmF5cyIsImdldFRpY2tldCIsInRpY2tldElkIiwicGFyYW1zIiwidGlja2V0aWQiLCJjb25zb2xlIiwibG9nIiwidGlja2V0IiwiZmluZEJ5SWQiLCJwb3B1bGF0ZSIsInVwZGF0ZVRpY2tldCIsInVwZGF0ZXMiLCJtb25nb29zZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJpc1ZhbGlkIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJ1cGRhdGVkVGlja2V0Il0sInNvdXJjZVJvb3QiOiJEOlxcRnVsbHN0YWNrIE1lcm5cXFJlYWN0XFx0aWNrZXRzbWFuYWdlbWVudGJhY2tlbmRcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbInRpY2tldHMuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVGlja2V0IGZyb20gXCIuLi9tb2RlbHMvdGlja2V0cy5tb2RlbFwiO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gXCJtdWx0ZXJcIjtcclxuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xyXG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xyXG5pbXBvcnQgdXRpbCBmcm9tIFwidXRpbFwiO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICBkZXN0aW5hdGlvbjogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNvbnN0IHVwbG9hZFBhdGggPSBcIi4vdXBsb2Fkc1wiO1xyXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHVwbG9hZFBhdGgpKSB7XHJcbiAgICAgIGZzLm1rZGlyU3luYyh1cGxvYWRQYXRoKTtcclxuICAgIH1cclxuICAgIGNiKG51bGwsIHVwbG9hZFBhdGgpO1xyXG4gIH0sXHJcbiAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjb25zdCBleHQgPSBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpO1xyXG4gICAgY29uc3QgbmFtZSA9IHBhdGguYmFzZW5hbWUoZmlsZS5vcmlnaW5hbG5hbWUsIGV4dCk7XHJcbiAgICBjb25zdCBmdWxsbmFtZSA9IGAke25hbWV9LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJvdW5kKFxyXG4gICAgICBNYXRoLnJhbmRvbSgpICogMWU5XHJcbiAgICApfSR7ZXh0fWA7XHJcbiAgICBjYihudWxsLCBmdWxsbmFtZSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pO1xyXG5cclxuY29uc3QgdXBsb2FkRmlsZXMgPSB1dGlsLnByb21pc2lmeShcclxuICB1cGxvYWQuZmllbGRzKFt7IG5hbWU6IFwiaW1hZ2VzXCIsIG1heENvdW50OiAxMCB9XSlcclxuKTtcclxuXHJcbi8vIFV0aWxpdHkgZnVuY3Rpb24gdG8gZGVsZXRlIGZpbGVcclxuY29uc3QgZGVsZXRlRmlsZSA9IChmaWxlcGF0aCkgPT4ge1xyXG4gIGlmIChmcy5leGlzdHNTeW5jKGZpbGVwYXRoKSkge1xyXG4gICAgZnMudW5saW5rU3luYyhmaWxlcGF0aCk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gY2FsY3VsYXRlIGFnZSBpbiBkYXlzXHJcbmNvbnN0IGNhbGN1bGF0ZUFnZUluRGF5cyA9IChjcmVhdGVkQXQpID0+IHtcclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IGNyZWF0ZWRBdERhdGUgPSBuZXcgRGF0ZShjcmVhdGVkQXQpO1xyXG4gIGNvbnN0IGRpZmZUaW1lID0gTWF0aC5hYnMobm93IC0gY3JlYXRlZEF0RGF0ZSk7XHJcbiAgcmV0dXJuIE1hdGguY2VpbChkaWZmVGltZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7IC8vIENvbnZlcnQgbWlsbGlzZWNvbmRzIHRvIGRheXNcclxufTtcclxuXHJcbmNvbnN0IGdldE5leHRUaWNrZXRDb2RlID0gYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IGxhc3RUaWNrZXQgPSBhd2FpdCBUaWNrZXQuZmluZE9uZSgpLnNvcnQoeyB0aWNrZXRDb2RlOiAtMSB9KTtcclxuICByZXR1cm4gbGFzdFRpY2tldCA/IGxhc3RUaWNrZXQudGlja2V0Q29kZSArIDEgOiAxMDAwO1xyXG59O1xyXG5cclxuLy8gQWRkIHRpY2tldCBmdW5jdGlvblxyXG5leHBvcnQgY29uc3QgYWRkVGlja2V0cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCB1cGxvYWRGaWxlcyhyZXEsIHJlcyk7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICB0aXRsZSxcclxuICAgICAgZXhwbGFpbnByb2JsZW0sXHJcbiAgICAgIHR5cGVvZmZlYXR1cmUsXHJcbiAgICAgIHR5cGVvZnByb2JsZW0sXHJcbiAgICAgIHByaW9yaXR5LFxyXG4gICAgICBvd25lcixcclxuICAgICAgc3RhdHVzLFxyXG4gICAgICBhc3NpZ25lZGFnZW50LFxyXG4gICAgICB1cGRhdGVkLFxyXG4gICAgICB1cGRhdGVkYnksXHJcbiAgICAgIHVzZXJtc2dzLFxyXG4gICAgICBzdXBwb3J0bXNncyxcclxuICAgIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBsZXQgaW1hZ2VzID0gW107XHJcblxyXG4gICAgaWYgKHJlcS5maWxlcyAmJiByZXEuZmlsZXNbXCJpbWFnZXNcIl0pIHtcclxuICAgICAgaW1hZ2VzID0gcmVxLmZpbGVzW1wiaW1hZ2VzXCJdLm1hcCgoZmlsZSkgPT4gZmlsZS5maWxlbmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGlja2V0Q29kZSA9IGF3YWl0IGdldE5leHRUaWNrZXRDb2RlKCk7XHJcblxyXG4gICAgY29uc3QgbmV3VGlja2V0ID0gbmV3IFRpY2tldCh7XHJcbiAgICAgIHRpdGxlLFxyXG4gICAgICBleHBsYWlucHJvYmxlbSxcclxuICAgICAgdHlwZW9mZmVhdHVyZSxcclxuICAgICAgdHlwZW9mcHJvYmxlbSxcclxuICAgICAgcHJpb3JpdHksXHJcbiAgICAgIGltYWdlcyxcclxuICAgICAgb3duZXIsXHJcbiAgICAgIGFzc2lnbmVkYWdlbnQsXHJcbiAgICAgIHN0YXR1cyxcclxuICAgICAgdXBkYXRlZCxcclxuICAgICAgdXBkYXRlZGJ5LFxyXG4gICAgICB0aWNrZXRDb2RlLFxyXG4gICAgICB1c2VybXNncyxcclxuICAgICAgc3VwcG9ydG1zZ3MsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzYXZlZFRpY2tldCA9IGF3YWl0IG5ld1RpY2tldC5zYXZlKCk7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIGFnZSBpbiBkYXlzIGJhc2VkIG9uIHRoZSBzYXZlZCB0aWNrZXQncyBjcmVhdGlvbiBkYXRlXHJcbiAgICBjb25zdCBhZ2VJbkRheXMgPSBjYWxjdWxhdGVBZ2VJbkRheXMoc2F2ZWRUaWNrZXQuY3JlYXRlZF9hdCk7XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSB0aWNrZXQgd2l0aCB0aGUgY2FsY3VsYXRlZCBhZ2VcclxuICAgIHNhdmVkVGlja2V0LmFnZUluRGF5cyA9IGFnZUluRGF5cztcclxuICAgIGF3YWl0IHNhdmVkVGlja2V0LnNhdmUoKTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICBkYXRhOiBzYXZlZFRpY2tldCxcclxuICAgICAgbWVzc2FnZTogXCJOZXcgcmVjb3JkIGFkZGVkXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEdldCB0aWNrZXRzIGZ1bmN0aW9uXHJcbmV4cG9ydCBjb25zdCBnZXRUaWNrZXRzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRpY2tldHMgPSBhd2FpdCBUaWNrZXQuZmluZCgpO1xyXG4gICAgaWYgKHRpY2tldHMpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBjb3VudDogdGlja2V0cy5sZW5ndGgsXHJcbiAgICAgICAgZGF0YTogdGlja2V0cyxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQgYWxsIHRpY2tldHMgc3VjY2Vzc2Z1bGx5IVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogXCJObyB0aWNrZXRzIGZvdW5kXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBHZXQgdGlja2V0cyB3aXRoIHVzZXIgZGV0YWlscyBmdW5jdGlvblxyXG5leHBvcnQgY29uc3QgZ2V0VGlja2V0c1dpdGhVc2VyRGV0YWlscyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB0aWNrZXRzID0gYXdhaXQgVGlja2V0LmFnZ3JlZ2F0ZShbXHJcbiAgICAgIHtcclxuICAgICAgICAkbG9va3VwOiB7XHJcbiAgICAgICAgICBmcm9tOiBcInVzZXJzXCIsXHJcbiAgICAgICAgICBsb2NhbEZpZWxkOiBcIm93bmVyXCIsXHJcbiAgICAgICAgICBmb3JlaWduRmllbGQ6IFwiX2lkXCIsXHJcbiAgICAgICAgICBhczogXCJvd25lckRldGFpbHNcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgJGxvb2t1cDoge1xyXG4gICAgICAgICAgZnJvbTogXCJ1c2Vyc1wiLFxyXG4gICAgICAgICAgbG9jYWxGaWVsZDogXCJhc3NpZ25lZGFnZW50XCIsXHJcbiAgICAgICAgICBmb3JlaWduRmllbGQ6IFwiX2lkXCIsXHJcbiAgICAgICAgICBhczogXCJhc3NpZ25lZGFnZW50RGV0YWlsc1wiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAkdW53aW5kOiB7XHJcbiAgICAgICAgICBwYXRoOiBcIiRvd25lckRldGFpbHNcIixcclxuICAgICAgICAgIHByZXNlcnZlTnVsbEFuZEVtcHR5QXJyYXlzOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAkdW53aW5kOiB7XHJcbiAgICAgICAgICBwYXRoOiBcIiRhc3NpZ25lZGFnZW50RGV0YWlsc1wiLFxyXG4gICAgICAgICAgcHJlc2VydmVOdWxsQW5kRW1wdHlBcnJheXM6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIF0pO1xyXG5cclxuICAgIGlmICh0aWNrZXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBjb3VudDogdGlja2V0cy5sZW5ndGgsXHJcbiAgICAgICAgZGF0YTogdGlja2V0cyxcclxuICAgICAgICBtZXNzYWdlOiBcIkZldGNoZWQgYWxsIHRpY2tldHMgc3VjY2Vzc2Z1bGx5IHdpdGggdXNlciBkZXRhaWxzIVwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6IFwiTm8gdGlja2V0cyBmb3VuZFwiLFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gR2V0IHRpY2tldCBmdW5jdGlvblxyXG5leHBvcnQgY29uc3QgZ2V0VGlja2V0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRpY2tldElkID0gcmVxLnBhcmFtcy50aWNrZXRpZDsgLy8gQ2hhbmdlZCBmcm9tIHRpY2tldENvZGUgdG8gdGlja2V0aWRcclxuICAgIGNvbnNvbGUubG9nKHRpY2tldElkKTtcclxuICAgIGNvbnN0IHRpY2tldCA9IGF3YWl0IFRpY2tldC5maW5kQnlJZCh0aWNrZXRJZClcclxuICAgICAgLnBvcHVsYXRlKFwib3duZXJcIilcclxuICAgICAgLnBvcHVsYXRlKFwiYXNzaWduZWRhZ2VudFwiKTtcclxuXHJcbiAgICBpZiAodGlja2V0KSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogdGlja2V0LFxyXG4gICAgICAgIG1lc3NhZ2U6IFwiRmV0Y2hlZCFcIixcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAvLyBDaGFuZ2VkIHN0YXR1cyB0byA0MDQgZm9yIFwiTm90IEZvdW5kXCJcclxuICAgICAgbWVzc2FnZTogXCJUaWNrZXQgbm90IGZvdW5kXCIsXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBVcGRhdGUgdGlja2V0IGZ1bmN0aW9uXHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlVGlja2V0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRpY2tldElkID0gcmVxLnBhcmFtcy50aWNrZXRpZDtcclxuICAgIGNvbnN0IHVwZGF0ZXMgPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIW1vbmdvb3NlLlR5cGVzLk9iamVjdElkLmlzVmFsaWQodGlja2V0SWQpKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIHRpY2tldCBJRFwiLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0aWNrZXQgPSBhd2FpdCBUaWNrZXQuZmluZEJ5SWQodGlja2V0SWQpO1xyXG4gICAgaWYgKCF0aWNrZXQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlRpY2tldCBub3QgZm91bmRcIixcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdXBkYXRlcyBjb250YWluIGltYWdlc1xyXG4gICAgaWYgKHVwZGF0ZXMuaW1hZ2VzICYmIHVwZGF0ZXMuaW1hZ2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgLy8gQXBwZW5kIG5ldyBpbWFnZXMgdG8gZXhpc3Rpbmcgb25lc1xyXG4gICAgICB0aWNrZXQuaW1hZ2VzID0gWy4uLnRpY2tldC5pbWFnZXMsIC4uLnVwZGF0ZXMuaW1hZ2VzXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgb3RoZXIgZmllbGRzXHJcbiAgICBPYmplY3Qua2V5cyh1cGRhdGVzKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgaWYgKGtleSAhPT0gXCJpbWFnZXNcIikge1xyXG4gICAgICAgIHRpY2tldFtrZXldID0gdXBkYXRlc1trZXldO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCB1cGRhdGVkVGlja2V0ID0gYXdhaXQgdGlja2V0LnNhdmUoKTtcclxuXHJcbiAgICAvLyAvLyBQb3B1bGF0ZSB0aGUgJ2Fzc2lnbmVkYWdlbnQnIGZpZWxkIHdpdGggdXNlciBkYXRhXHJcbiAgICAvLyBhd2FpdCB1cGRhdGVkVGlja2V0LnBvcHVsYXRlKFwiYXNzaWduZWRhZ2VudFwiKS5leGVjUG9wdWxhdGUoKTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBkYXRhOiB1cGRhdGVkVGlja2V0LFxyXG4gICAgICBtZXNzYWdlOiBcIlRpY2tldCB1cGRhdGVkIHN1Y2Nlc3NmdWxseVwiLFxyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFB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","map":{"version":3,"names":["_tickets","_interopRequireDefault","require","_multer","_fs","_path","_util","_mongoose","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","uploadPath","fs","existsSync","mkdirSync","filename","ext","path","extname","originalname","name","basename","fullname","concat","Date","now","Math","round","random","upload","uploadFiles","util","promisify","fields","maxCount","deleteFile","filepath","unlinkSync","calculateAgeInDays","createdAt","createdAtDate","diffTime","abs","ceil","getNextTicketCode","lastTicket","Ticket","findOne","sort","ticketCode","addTickets","res","title","explainproblem","typeoffeature","typeofproblem","priority","owner","status","assignedagent","updated","updatedby","usermsgs","supportmsgs","body","images","files","map","newTicket","savedTicket","save","ageInDays","created_at","json","data","message","success","err","exports","getTickets","tickets","find","count","length","getTicketsWithUserDetails","aggregate","$lookup","from","localField","foreignField","as","$unwind","preserveNullAndEmptyArrays","getTicket","ticketId","params","ticketid","console","log","ticket","findById","populate","updateTicket","updates","mongoose","Types","ObjectId","isValid","Object","keys","forEach","key","updatedTicket"],"sourceRoot":"D:\\Fullstack Mern\\React\\ticketsmanagementbackend\\controllers\\","sources":["tickets.controller.js"],"sourcesContent":["import Ticket from \"../models/tickets.model\";\r\nimport multer from \"multer\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport util from \"util\";\r\nimport mongoose from \"mongoose\";\r\n\r\nconst storage = multer.diskStorage({\r\n  destination: function (req, file, cb) {\r\n    const uploadPath = \"./uploads\";\r\n    if (!fs.existsSync(uploadPath)) {\r\n      fs.mkdirSync(uploadPath);\r\n    }\r\n    cb(null, uploadPath);\r\n  },\r\n  filename: function (req, file, cb) {\r\n    const ext = path.extname(file.originalname);\r\n    const name = path.basename(file.originalname, ext);\r\n    const fullname = `${name}-${Date.now()}-${Math.round(\r\n      Math.random() * 1e9\r\n    )}${ext}`;\r\n    cb(null, fullname);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage: storage });\r\n\r\nconst uploadFiles = util.promisify(\r\n  upload.fields([{ name: \"images\", maxCount: 10 }])\r\n);\r\n\r\n// Utility function to delete file\r\nconst deleteFile = (filepath) => {\r\n  if (fs.existsSync(filepath)) {\r\n    fs.unlinkSync(filepath);\r\n  }\r\n};\r\n\r\n// Function to calculate age in days\r\nconst calculateAgeInDays = (createdAt) => {\r\n  const now = new Date();\r\n  const createdAtDate = new Date(createdAt);\r\n  const diffTime = Math.abs(now - createdAtDate);\r\n  return Math.ceil(diffTime / (1000 * 60 * 60 * 24)); // Convert milliseconds to days\r\n};\r\n\r\nconst getNextTicketCode = async () => {\r\n  const lastTicket = await Ticket.findOne().sort({ ticketCode: -1 });\r\n  return lastTicket ? lastTicket.ticketCode + 1 : 1000;\r\n};\r\n\r\n// Add ticket function\r\nexport const addTickets = async (req, res) => {\r\n  try {\r\n    await uploadFiles(req, res);\r\n\r\n    const {\r\n      title,\r\n      explainproblem,\r\n      typeoffeature,\r\n      typeofproblem,\r\n      priority,\r\n      owner,\r\n      status,\r\n      assignedagent,\r\n      updated,\r\n      updatedby,\r\n      usermsgs,\r\n      supportmsgs,\r\n    } = req.body;\r\n\r\n    let images = [];\r\n\r\n    if (req.files && req.files[\"images\"]) {\r\n      images = req.files[\"images\"].map((file) => file.filename);\r\n    }\r\n\r\n    const ticketCode = await getNextTicketCode();\r\n\r\n    const newTicket = new Ticket({\r\n      title,\r\n      explainproblem,\r\n      typeoffeature,\r\n      typeofproblem,\r\n      priority,\r\n      images,\r\n      owner,\r\n      assignedagent,\r\n      status,\r\n      updated,\r\n      updatedby,\r\n      ticketCode,\r\n      usermsgs,\r\n      supportmsgs,\r\n    });\r\n\r\n    const savedTicket = await newTicket.save();\r\n\r\n    // Calculate age in days based on the saved ticket's creation date\r\n    const ageInDays = calculateAgeInDays(savedTicket.created_at);\r\n\r\n    // Update the ticket with the calculated age\r\n    savedTicket.ageInDays = ageInDays;\r\n    await savedTicket.save();\r\n\r\n    return res.status(201).json({\r\n      data: savedTicket,\r\n      message: \"New record added\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n// Get tickets function\r\nexport const getTickets = async (req, res) => {\r\n  try {\r\n    const tickets = await Ticket.find();\r\n    if (tickets) {\r\n      return res.status(200).json({\r\n        count: tickets.length,\r\n        data: tickets,\r\n        message: \"Fetched all tickets successfully!\",\r\n        success: true,\r\n      });\r\n    }\r\n    return res.status(404).json({\r\n      message: \"No tickets found\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n// Get tickets with user details function\r\nexport const getTicketsWithUserDetails = async (req, res) => {\r\n  try {\r\n    const tickets = await Ticket.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: \"users\",\r\n          localField: \"owner\",\r\n          foreignField: \"_id\",\r\n          as: \"ownerDetails\",\r\n        },\r\n      },\r\n      {\r\n        $lookup: {\r\n          from: \"users\",\r\n          localField: \"assignedagent\",\r\n          foreignField: \"_id\",\r\n          as: \"assignedagentDetails\",\r\n        },\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: \"$ownerDetails\",\r\n          preserveNullAndEmptyArrays: true,\r\n        },\r\n      },\r\n      {\r\n        $unwind: {\r\n          path: \"$assignedagentDetails\",\r\n          preserveNullAndEmptyArrays: true,\r\n        },\r\n      },\r\n    ]);\r\n\r\n    if (tickets.length > 0) {\r\n      return res.status(200).json({\r\n        count: tickets.length,\r\n        data: tickets,\r\n        message: \"Fetched all tickets successfully with user details!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(404).json({\r\n      message: \"No tickets found\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n// Get ticket function\r\nexport const getTicket = async (req, res) => {\r\n  try {\r\n    const ticketId = req.params.ticketid; // Changed from ticketCode to ticketid\r\n    console.log(ticketId);\r\n    const ticket = await Ticket.findById(ticketId)\r\n      .populate(\"owner\")\r\n      .populate(\"assignedagent\");\r\n\r\n    if (ticket) {\r\n      return res.status(200).json({\r\n        data: ticket,\r\n        message: \"Fetched!\",\r\n        success: true,\r\n      });\r\n    }\r\n\r\n    return res.status(404).json({\r\n      // Changed status to 404 for \"Not Found\"\r\n      message: \"Ticket not found\",\r\n      success: false,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n\r\n// Update ticket function\r\n\r\nexport const updateTicket = async (req, res) => {\r\n  try {\r\n    const ticketId = req.params.ticketid;\r\n    const updates = req.body;\r\n\r\n    if (!mongoose.Types.ObjectId.isValid(ticketId)) {\r\n      return res.status(400).json({\r\n        message: \"Invalid ticket ID\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    const ticket = await Ticket.findById(ticketId);\r\n    if (!ticket) {\r\n      return res.status(404).json({\r\n        message: \"Ticket not found\",\r\n        success: false,\r\n      });\r\n    }\r\n\r\n    // Check if updates contain images\r\n    if (updates.images && updates.images.length > 0) {\r\n      // Append new images to existing ones\r\n      ticket.images = [...ticket.images, ...updates.images];\r\n    }\r\n\r\n    // Update other fields\r\n    Object.keys(updates).forEach((key) => {\r\n      if (key !== \"images\") {\r\n        ticket[key] = updates[key];\r\n      }\r\n    });\r\n\r\n    const updatedTicket = await ticket.save();\r\n\r\n    // // Populate the 'assignedagent' field with user data\r\n    // await updatedTicket.populate(\"assignedagent\").execPopulate();\r\n\r\n    return res.status(200).json({\r\n      data: updatedTicket,\r\n      message: \"Ticket updated successfully\",\r\n      success: true,\r\n    });\r\n  } catch (err) {\r\n    return res.status(500).json({\r\n      message: err.message,\r\n      success: false,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1718003022944}}